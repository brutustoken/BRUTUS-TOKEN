import{a0 as se,a1 as ae,F as b,V as e}from"./libs-CZASmHnA.js";import{R as re,A as ne,X as ie,a as oe,D as q,T as G,b as K,V as Z,c as J,L as Q,d as le}from"./charts-cC89YrqE.js";import{u as M,c as X}from"./index-DlOTKQoG.js";import"./web3-crypto-BAtjRPbI.js";b.config({DECIMAL_PLACES:6,ROUNDING_MODE:b.ROUND_HALF_DOWN});const $=e.jsx("img",{src:"images/cargando.gif",height:"20px",alt:"loading..."}),de=[{label:"Hours",value:"hour"},{label:"Days",value:"day"}],ce=[{label:"Last 7 ",value:"7"},{label:"Last 30 ",value:"30"},{label:"Last 90 ",value:"90"},{label:"Last 180 ",value:"180"},{label:"All ",value:"0"}],he=[{label:"Last 6 ",value:"6"},{label:"Last 12 ",value:"12"},{label:"Last 24 ",value:"24"},{label:"Last 48 ",value:"48"},{label:"Last 72 ",value:"72"},{label:"All ",value:"0"}];let V=[],ee=0,z=0,te=null;class ue extends ae.Component{constructor(r){super(r);const{t}=this.props;this.state={APY:0,minCompra:1,minventa:1,deposito:t("loading")+"...",valueBRST:"",valueTRX:"",cantidad:0,tiempo:0,enBrutus:0,tokensEmitidos:0,enPool:0,solicitado:0,data:[],solicitudes:0,solicitudesV3:0,temporalidad:t("day"),cantidadDatos:30,dias:t("loading")+"...",days:[{days:30,amount:0,time:0,APY:0},{days:90,amount:0,time:0,APY:0},{days:180,amount:0,time:0,APY:0},{days:360,amount:0,time:0,APY:0}],varBrut:0,precioBrst:0,varBrst:0,misBRST:0,dataBRST:[],contractEnergy:0,userEnergy:0,ModalTitulo:"",ModalBody:"",tiempoPromediado:30,promE7to1day:0,resultCalc:0,diasCalc:360,brutCalc:1e3,balanceBRST:0,balanceTRX:0,balanceUSDT:new b(0),balanceUSDD:new b(0),globDepositos:[],eenergy:62e3,energyOn:!1,total_required:0,isOwner:!1,isAdmin:!1,interesCompuesto:0,crecimientoPorcentual:0,precioUSDT:new b(0),precioUSDD:new b(0),retiroRapido:new b(0),penalty:0,from:"trx",to:"brst",par:"trx_brst",selector:"trx",rapida:!0,valueFrom:new b(0),valueTo:new b(0)},this.subeobaja=this.subeobaja.bind(this),this.textoE=this.textoE.bind(this),this.consultaPrecio=this.consultaPrecio.bind(this),this.grafico=this.grafico.bind(this),this.compra=this.compra.bind(this),this.venta=this.venta.bind(this),this.estado=this.estado.bind(this),this.preClaim=this.preClaim.bind(this),this.handleChange=this.handleChange.bind(this),this.handleChange2=this.handleChange2.bind(this),this.handleChangeDias=this.handleChangeDias.bind(this),this.handleChangeCalc=this.handleChangeCalc.bind(this),this.llenarBRST=this.llenarBRST.bind(this),this.llenarTRX=this.llenarTRX.bind(this),this.rentEnergy=this.rentEnergy.bind(this),this.handleCurrencyChangeFrom=this.handleCurrencyChangeFrom.bind(this),this.handleCurrencyChangeTo=this.handleCurrencyChangeTo.bind(this),this.calcExchange=this.calcExchange.bind(this),this.exchangeTokens=this.exchangeTokens.bind(this),this.suawpTokenFromTRX=this.suawpTokenFromTRX.bind(this),this.calculoEnergy=this.calculoEnergy.bind(this),this.preExchange=this.preExchange.bind(this),this.costEnergy=this.costEnergy.bind(this)}componentDidMount(){const{t:r}=this.props;document.getElementById("tittle").innerText=r("brst.tittle"),te=setInterval(()=>{Date.now()>=z&&(this.props.contrato.ready?z=Date.now()+60*1e3:z=Date.now()+3*1e3,this.estado())},3*1e3)}componentWillUnmount(){this.root&&this.root.dispose(),clearInterval(te)}handleCurrencyChangeFrom=r=>{let{to:t}=this.state;const a=r.target.value;a==="usdt"&&(t="brst"),a==="usdd"&&(t="brst"),a===t&&(a==="trx"?t="brst":t="trx"),document.getElementById("currencySelectTo").value=t,this.setState({from:a,to:t,par:a+"_"+t}),this.calcExchange(!1,a+"_"+t)};handleCurrencyChangeTo=r=>{let{from:t}=this.state;const a=r.target.value;a==="trx"&&(t="brst"),a==="brst"&&(t="trx"),document.getElementById("currencySelectFrom").value=t,this.setState({from:t,to:a,par:t+"_"+a}),this.calcExchange(!0,a+"_"+t)};handleChange(r){let t=r.target.value;this.grafico(500,t,this.state.cantidadDatos,document.getElementById("selector").value),this.setState({temporalidad:t})}handleChange2(r){let t=parseInt(r.target.value);this.grafico(500,this.state.temporalidad,t,document.getElementById("selector").value),this.setState({cantidadDatos:t})}handleChangeDias(r){let t=r.target.value,a=(this.state.brutCalc*this.state.precioBrst*(this.state.promE7to1day/100)).toFixed(6);a=a*parseInt(t),this.setState({diasCalc:parseInt(t),resultCalc:a})}handleChangeCalc(r){let t=r.target.value,a=(t*this.state.precioBrst*(this.state.promE7to1day/100)).toFixed(6);a=a*parseInt(this.state.diasCalc),this.setState({brutCalc:t,resultCalc:a})}calcExchange(r=!1,t="trx_brst"){let{precioBrst:a,precioUSDT:i,precioUSDD:o}=this.state,m=r?"amountTo":"amountFrom",c=new b(0);if(i.toNumber()<=0||o.toNumber()<=0)return c;let l=document.getElementById(m).value.replace(/,/g,".");switch(l=new b(parseFloat(l)),r?this.setState({valueTo:l}):this.setState({valueFrom:l}),t){case"usdt_brst":c=l.div(i),c=c.div(a);break;case"brst_usdt":c=l.times(i),c=c.times(a);break;case"usdd_brst":c=l.div(o),c=c.div(a);break;case"brst_usdd":c=l.times(o),c=c.times(a);break;case"brst_trx":c=l.times(a);break;case"trx_brst":c=l.div(a);break}return m=r?"amountFrom":"amountTo",isNaN(c.toString(10))||(document.getElementById(m).value=c.toString(10)),r?this.setState({valueFrom:c}):this.setState({valueTo:c}),c}async estado(){let{tiempoPromediado:r,rapida:t}=this.state;const{contrato:a,accountAddress:i,tronWeb:o,t:m}=this.props;if(!a.ready)return;let c=M.normalizarNumero(await a.BRST_TRX_Proxy.RATE().call());this.setState({precioBrst:c}),a.BRST_TRX_Proxy.TRON_BALANCE().call().then(s=>{this.setState({enBrutus:M.normalizarNumero(s)})}),a.BRST_TRX_Proxy.TRON_PAY_BALANCE().call().then(s=>{this.setState({enPool:M.normalizarNumero(s)})}),a.BRST_TRX_Proxy.TRON_SOLICITADO().call().then(s=>{this.setState({solicitado:M.normalizarNumero(s)})}),a.BRST.totalSupply().call().then(s=>{this.setState({tokensEmitidos:M.normalizarNumero(s)})});let l=await a.BRST.balanceOf(i).call().then(s=>(s=M.normalizarNumero(s),this.setState({balanceBRST:s,misBRST:s}),s));a.USDT.balanceOf(i).call().then(s=>{this.setState({balanceUSDT:M.normalizarNumero(s)})}),a.USDD.balanceOf(i).call().then(s=>{this.setState({balanceUSDD:M.normalizarNumero(s,18)})}),this.consultaPrecio(),ee===0&&(this.grafico(1e3,"day",90,"trx"),ee++),parseInt(this.state.resultCalc)===1e3&&this.handleChangeCalc({target:{value:l}}),parseInt(document.getElementById("hold").value)===0&&(document.getElementById("hold").value=l);let d=await o.trx.getUnconfirmedBalance(i).catch(async s=>(console.log(s.toString()),await o.trx.getBalance(i)));d=d/10**6,this.setState({balanceTRX:d});let y=await o.trx.getAccountResources(i).catch(s=>(console.log(s.toString()),{})),j=parseInt(await a.BRST_TRX_Proxy_fast.descuentoRapido().call())/parseInt(await a.BRST_TRX_Proxy_fast.precision().call())*100;this.setState({penalty:j});let p=M.normalizarNumero((await a.loteria._premio().call())[0]),h=M.normalizarNumero(await a.BRST_TRX_Proxy_fast.balance_token_1().call());h=new b(h).minus(p),i!=="TZJSXstGQcCVT1PeVp7iybt5bANcU2bDda"&&(h=h.minus(2500)),h<0&&(h=new b(0)),this.setState({retiroRapido:h});let u=0;y.EnergyLimit&&(u=y.EnergyLimit),y.EnergyUsed&&(u-=y.EnergyUsed),this.setState({userEnergy:u});let w=65e3;d>=1&&(w=(await this.calculoEnergy(t)).dp(0).toNumber()),this.setState({eenergy:w});let _=(await this.costEnergy(w)).toString(10);this.setState({useTrx:_}),fetch(X.BRUTUS_API+"chartdata/brst?temporalidad=day&limite="+r).then(async s=>(await s.json()).Data).then(s=>{if(s.length>0){let x=s.reduce((A,Y)=>A+Y.value,0);x=new b(x/s.length).toNumber();let n=this.state.varBrst,S=1,F=1,O=2;s.length>=2&&(S=s[s.length-1].value,F=s[0].value,n=(F-S)/S*100,n=n/s.length,O=s.length);let L=(F/S)**(1/O-1),H=(1+L)**364,W=(1+n/100)**r;this.setState({promE7to1day:x,crecimientoPorcentual:n,crecimientoDiario:L,interesCompuesto:W,APY:H})}}).catch(s=>(console.error(s),!1)),fetch(X.BRUTUS_API+"chartdata/brst?temporalidad=day&limite=361").then(async s=>(await s.json()).Data).then(s=>{if(s.length>0){V=[];let x=[1,15,30,90,180,360];for(let n=0;n<x.length;n++)V.push({dias:x[n],trx:l*s[0].value-l*s[x[n]].value,diario:(l*s[0].value-l*s[x[n]].value)/x[n]});this.setState({dataBRST:s})}}).catch(s=>(console.error(s),[])),a.BRST_TRX_Proxy.MIN_DEPOSIT().call().then(s=>{this.setState({minCompra:M.normalizarNumero(s)})}),a.BRST.allowance(i,a.BRST_TRX_Proxy.address).call().then(s=>{this.setState({depositoBRUT:M.normalizarNumero(s)})}),fetch(X.BRUTUS_API+"precio/usdt").then(s=>s.json()).then(s=>{this.setState({precioUSDT:new b(s.Data.oneTron)})}).catch(s=>{console.log(s)}),fetch(X.BRUTUS_API+"precio/usdd").then(s=>s.json()).then(s=>{this.setState({precioUSDD:new b(s.Data.oneTron)})}).catch(s=>{console.log(s)});let g=await a.BRST_TRX_Proxy.todasSolicitudes(i).call(),E=[];for(let s=0;s<g.length;s++)E.push(parseInt(g[s]));let v=await a.BRST_TRX_Proxy.solicitudesPendientesGlobales().call();v=v[0];let I=[],P=parseInt(await a.BRST_TRX_Proxy.TIEMPO().call())*1e3,R=(P/(86400*1e3)).toPrecision(2),N=["TWVVi4x2QNhRJyhqa7qrwM4aSXnXoUDDwY","TWqsREyZUtPkBNrzSSCZ9tbzP3U5YUxppf","TB7RTxBPY4eMvKjceXj8SWjVnZCrWr4XvF"],T=new b(await o.trx.getBalance(a.BRST_TRX_Proxy.address)).shiftedBy(-6),k=new b(0);this.setState({espera:P,dias:R});let C=i===o.address.fromHex(await a.BRST_TRX_Proxy.owner().call()),f=!1;N.indexOf(i)>=0&&(f=!0),this.setState({isOwner:C,isAdmin:f});for(let s=0;s<v.length;s++){let x=await a.BRST_TRX_Proxy.verSolicitudPendiente(v[s]).call();x=x[0];let n=parseInt(x.tiempo)*1e3,S=new Date(n+P),F=((n+P-Date.now())/(86400*1e3)).toPrecision(2),O=e.jsx("b",{children:"login with an authorized account"}),L=new b(parseInt(x.brst)).times(parseInt(x.precio)).shiftedBy(-6);if(k=k.plus(L.dp(0)),E.includes(parseInt(v[s]))&&F>0&&(O=e.jsxs("button",{className:"btn btn-info ms-4 disabled",disabled:!0,"aria-disabled":"true",children:["Processing Unfreeze TRX "," ",e.jsx("i",{className:"bi bi-exclamation-circle"})]})),(E.includes(parseInt(v[s]))&&F<=0||C)&&(T.toNumber()<L.shiftedBy(-6).dp(6).toNumber()?O=e.jsxs("button",{className:"btn btn-info ms-4 disabled",disabled:!0,"aria-disabled":"true",children:[m("We continue to unfreeze TRX")+" "," ",e.jsx("i",{className:"bi bi-exclamation-circle"})]}):O=e.jsxs("button",{className:"btn btn-primary ms-4",onClick:async()=>{await this.preClaim(parseInt(v[s])),this.estado()},children:[m("claim")+" "," ",e.jsx("i",{className:"bi bi-award"})]})),F<=0&&(F=0),E.includes(parseInt(v[s]))||C||f){let H=e.jsx(e.Fragment,{});(C||f)&&(H=e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"Wallet: "}),e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/address/"+o.address.fromHex(x.wallet),children:o.address.fromHex(x.wallet)}),e.jsx("br",{})]})),I[s]=e.jsxs("div",{className:"row mt-4",id:"sale-"+parseInt(v[s]),children:[e.jsx("div",{className:"col-12 mb-2",children:e.jsxs("h4",{className:"fs-20 text-black",children:[m("brst.sale",{number:parseInt(v[s])})," "," -> ",parseInt(x.brst)/10**6," BRST"]})}),e.jsx("div",{className:"col-sm-6 mb-2",children:e.jsxs("p",{className:"mb-0 fs-14",children:[H,e.jsx("b",{children:"Total: "}),L.shiftedBy(-6).dp(6).toString(10)," TRX",e.jsx("br",{}),e.jsx("b",{children:m("brst.price")})," ",parseInt(x.precio)/10**6," TRX",e.jsx("br",{}),e.jsx("b",{children:m("brst.available")})," ",S.toString()]})}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("p",{className:"mb-0 fs-14",children:[m("brst.unStaking",{days:F}),L.shiftedBy(-6).dp(6).toString(10)," TRX"]}),e.jsx("br",{}),O]}),e.jsx("div",{className:"col-12 mb-2",children:e.jsx("hr",{})})]},"glob"+parseInt(v[s]))}}k=k.shiftedBy(-6).toString(10);let D=e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",id:"wallet",placeholder:"wallet to white list"}),e.jsx("button",{className:"btn btn-warning",onClick:async()=>{let s=[{type:"address",value:o.address.toHex(document.getElementById("wallet"))}],x="whiteList_add(address)";try{let n=await o.transactionBuilder.triggerSmartContract(o.address.toHex(a.BRST_TRX_Proxy_fast.address),x,{},s,o.address.toHex(i)),S=await o.transactionBuilder.extendExpiration(n.transaction,180);S=await window.tronLink.tronWeb.trx.sign(S),S=await o.trx.sendRawTransaction(S),console.log(S),alert("Transaction "+S.result+" hash: "+S.txid)}catch(n){console.log(n),alert(n.toString())}},children:"ADD"}),e.jsx("button",{className:"btn btn-danger",onClick:async()=>{let s=[{type:"address",value:o.address.toHex(document.getElementById("wallet"))}],x="whiteList_remove(address)";try{let n=await o.transactionBuilder.triggerSmartContract(o.address.toHex(a.BRST_TRX_Proxy_fast.address),x,{},s,o.address.toHex(i)),S=await o.transactionBuilder.extendExpiration(n.transaction,180);S=await window.tronLink.tronWeb.trx.sign(S),S=await o.trx.sendRawTransaction(S),console.log(S),alert("Transaction "+S.result+" hash: "+S.txid)}catch(n){console.log(n),alert(n.toString())}},children:"REMOVE"}),e.jsx("br",{}),"TRON_RR:"," ",M.normalizarNumero(await a.BRST_TRX_Proxy.TRON_RR().call()),e.jsx("br",{})]});this.setState({solicitudes:I.length}),(f||C)&&I.push(e.jsx("div",{children:C?D:e.jsx(e.Fragment,{})},"admin-panel")),I.push(e.jsxs("div",{children:["Balance Pool: ",T.toString(10)," trx"]},"balnce-panel")),this.setState({globDepositos:I,total_required:k});let B=!1,U=0;if(B=await fetch(X.BOT_URL).then(s=>s.json()).then(s=>s.available).catch(()=>!1),B){let s=await fetch(X.BOT_URL+"available").then(x=>x.json());s.av_energy.length>0&&(U=s.av_energy[0].available),U<s.total_energy_pool*.01?B=!1:B=!0}this.setState({energyOn:B})}async preClaim(r){let{userEnergy:t,energyOn:a}=this.state;const{tronWeb:i,contrato:o,accountAddress:m,t:c}=this.props;let l=0,d=[{type:"uint256",value:r}],y="retirar(uint256)";const j={};var p=await i.transactionBuilder.triggerConstantContract(i.address.toHex(o.BRST_TRX_Proxy.address),y,j,d,i.address.toHex(m)).catch(()=>({}));if(p.energy_used?l+=p.energy_used:l+=8e4,l>t&&a){let h=l-t;h<32e3?h=32e3:h+=1e3;let u={resource:"energy",amount:h,duration:"5min"},w=await fetch(X.BOT_URL+"prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(E=>E.json()),_=new b(w.price).dp(6),g=c("brst.alert.energy",{returnObjects:!0});this.setState({ModalTitulo:g[0],ModalBody:e.jsxs(e.Fragment,{children:[g[1]," ",e.jsxs("b",{children:[l," ",g[2]]}),g[3],e.jsxs("b",{children:[t," ",g[2]]})," ",g[4]," ",e.jsxs("b",{children:[h," ",g[2]]}),g[5],e.jsxs("b",{children:[_.toString(10)," TRX"]}),g[6],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:async()=>{if(await this.rentEnergy(h)){let E=[{type:"uint256",value:r}],v="retirar(uint256)";const I={};let P=await i.transactionBuilder.triggerSmartContract(i.address.toHex(o.BRST_TRX_Proxy.address),v,I,E,i.address.toHex(m)),R=await i.transactionBuilder.extendExpiration(P.transaction,180);R=await window.tronLink.tronWeb.trx.sign(R).catch(N=>{this.setState({ModalTitulo:"Error",ModalBody:N.toString()}),window.$("#mensaje-brst").modal("show")}),R=await i.trx.sendRawTransaction(R).then(()=>{this.setState({ModalTitulo:"Result",ModalBody:e.jsxs(e.Fragment,{children:["Retiro is Done ",R.txid,e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:c("accept")})]})}),window.$("#mensaje-brst").modal("show")})}},children:g[7]})]})}),window.$("#mensaje-brst").modal("show")}else{let h=[{type:"uint256",value:r}],u="retirar(uint256)";const w={};let _=await i.transactionBuilder.triggerSmartContract(i.address.toHex(o.BRST_TRX_Proxy.address),u,w,h,i.address.toHex(m)),g=await i.transactionBuilder.extendExpiration(_.transaction,180);g=await window.tronLink.tronWeb.trx.sign(g).catch(E=>{this.setState({ModalTitulo:"Error",ModalBody:E.toString()}),window.$("#mensaje-brst").modal("show")}),g=await i.trx.sendRawTransaction(g).then(()=>{this.setState({ModalTitulo:"Result",ModalBody:e.jsxs(e.Fragment,{children:["Retiro is Done ",g.txid,e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:c("accept")})]})}),window.$("#mensaje-brst").modal("show")})}}subeobaja(r){var t=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d2)",children:e.jsx("path",{d:"M5 16C5.91797 14.9157 8.89728 11.7277 10.5 10L16.5 13L23.5 4",stroke:"#2BC155",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d2",x:"-3.05176e-05",y:"-6.10352e-05",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.172549 0 0 0 0 0.72549 0 0 0 0 0.337255 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),a=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d)",children:e.jsx("path",{d:"M5 4C5.91797 5.08433 8.89728 8.27228 10.5 10L16.5 7L23.5 16",stroke:"#FF2E2E",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d",x:"0",y:"0",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.180392 0 0 0 0 0.180392 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),i=t;return r<0&&(i=a),i}textoE(r){var t="success";return r<0&&(t="danger"),t}async consultaPrecio(){return await fetch(X.BRUTUS_API+"precio/brst").then(async r=>(await r.json()).Data).then(r=>(this.setState({varBrst:r.v24h}),r)).catch(r=>(console.log(r),0))}llenarBRST(){document.getElementById("amountTo").value=this.state.balanceBRST}llenarTRX(){document.getElementById("amountFrom").value=this.state.balanceTRX}async calculoEnergy(r=!1){let t=document.getElementById("currencySelectFrom").value,a=document.getElementById("currencySelectTo").value,{userEnergy:i}=this.state;const{tronWeb:o,accountAddress:m,contrato:c}=this.props;function l(j){let p="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb";switch(j){case"usdt":p="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t";break;case"usdd":p="TXDk8mbtRbXeYuMNS83CfKPaYYT8XWv9Hz";break;default:p=!1;break}return p}let d=new b(0),y=l(t);if(y){let j=function(T,k){let C=new Array(k.length).fill(0),f=T;for(let B=0;B<k.length&&f>0;B++)C[B]=1,f--;let D=0;for(;f>0;)C[D]++,f--,D=(D+1)%k.length;return C},p="TCFNp179Lg46D16zKoumd4Poa2WFFdtqYj";const h={method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({value:p,visible:!0})};let u=await fetch("https://api.trongrid.io/wallet/getcontract",h).then(T=>T.json()).catch(T=>(console.error(T),{}));u.consume_user_resource_percent?u=u.consume_user_resource_percent/100:u=1;let w=o.contract(M.abi_TOKEN,y),_=parseInt(await w.decimals().call()),g=await w.allowance(m,p).call();if(g.remaining&&(g=g.remaining),g=parseInt(g),g<=1*1e6){let T=[{type:"address",value:o.address.toHex(p)},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],k="approve(address,uint256)";const C={};let f=await o.transactionBuilder.triggerConstantContract(o.address.toHex(y),k,C,T,o.address.toHex(m)).catch(()=>({}));f.energy_used&&(d=d.plus(f.energy_used))}let E=new b(1).shiftedBy(_).dp(0).toString(10),v=await fetch("https://rot.endjgfsv.link/swap/router?fromToken="+y+"&toToken=T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb&amountIn="+E+"&typeList=SUNSWAP_V3,SUNSWAP_V2,WTRX").then(T=>T.json()).then(T=>T.data[0]),I=[{type:"address[]",value:v.tokens},{type:"string[]",value:v.poolVersions},{type:"uint256[]",value:j(v.tokens.length,v.poolVersions)},{type:"uint24[]",value:v.poolFees},{type:"(uint256,uint256,address,uint256)",value:[new b(v.amountIn).shiftedBy(_).dp(0).toString(10),new b(v.amountOut).times(.995).shiftedBy(6).dp(0).toString(10),o.address.toHex(m).replace(/41/g,"0x"),(parseInt(Date.now()/1e3)+100).toString(10)]}],P="swapExactInput(address[],string[],uint256[],uint24[],(uint256,uint256,address,uint256))";const R={feeLimit:1e4*1e6,callValue:0};let N=await o.transactionBuilder.triggerConstantContract(o.address.toHex(p),P,R,I,o.address.toHex(m)).catch(()=>({}));N.energy_used&&(d=d.plus(N.energy_used*u))}if(a==="brst"){let j=[],p="staking()";const h={callValue:1e6};let u=await o.transactionBuilder.triggerConstantContract(o.address.toHex(c.BRST_TRX_Proxy.address),p,h,j,o.address.toHex(m)).catch(()=>({}));u.energy_used&&(d=d.plus(u.energy_used))}else{let j=[{type:"uint256",value:"1000000"}],p=c.BRST_TRX_Proxy.address;r&&(p=c.BRST_TRX_Proxy_fast.address);let h="esperaRetiro(uint256)";r&&(h="sell_token_2(uint256)");const u={};let w=await o.transactionBuilder.triggerConstantContract(o.address.toHex(p),h,u,j,o.address.toHex(m)).catch(()=>({}));w.energy_used&&(console.log("retiro ",w.energy_used,w),d=d.plus(w.energy_used))}return d=d.plus(1e3),console.log("necesary ",d.toString(10)),d=d.minus(i),console.log("requerido ",d.toString(10)),d.toNumber()<=0?d=new b(0):d.toNumber()<32e3&&(d=new b(32e3)),console.log("send ",d.toString(10)),d}async costEnergy(r){if(r=new b(r).dp(0),r.toNumber()===0)return new b(0);let t=await fetch(X.BOT_URL+"prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:"energy",amount:r.toString(10),duration:"5min"})}).then(i=>i.json()).catch(i=>(console.log(i),!1));if(!t)return!1;let a=new b(t.price).dp(6);return this.setState({useTrx:a.toString(10)}),a}async rentEnergy(r){b.isBigNumber(r)||(r=new b(r)),r=r.dp(0).toNumber();const{tronWeb:t,accountAddress:a,t:i}=this.props;let{energyOn:o}=this.state;if(!o)return!1;if(r<=0)return!0;r<32e3&&(r=32e3),this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Transaction Alert ",$]}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction if you agree to pay for the energy lease."})}),window.$("#mensaje-brst").modal("show");let m=!1,c=await this.costEnergy(r);if(!c)return!1;const l=await t.transactionBuilder.sendTrx(X.WALLET_API,t.toSun(c),a),d=await window.tronWeb.trx.sign(l).catch(j=>(this.setState({ModalTitulo:"Transaction failed",ModalBody:e.jsxs(e.Fragment,{children:[j.toString(),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:"Close"})]})}),window.$("#mensaje-brst").modal("show"),!1));if(!d)return!1;this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Processing your order ",$]}),ModalBody:e.jsx(e.Fragment,{children:"One of our robots is going to pick up your energy to deliver it to you as soon as possible, this will not take long please wait."})}),window.$("#mensaje-brst").modal("show");let y=await M.rentResource(a,"energy",r,"5","min",c,d);return y.result?(this.setState({ModalTitulo:i("brst.alert.done",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[i("brst.alert.done",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("button",{type:"button","data-bs-dismiss":"modal",className:"btn btn-success",children:i("brst.alert.done",{returnObjects:!0})[2]})]})}),window.$("#mensaje-brst").modal("show"),m=!0):(this.setState({ModalTitulo:i("brst.alert.error",{returnObjects:!0})[0],ModalBody:i("brst.alert.error",{returnObjects:!0,hash:y.hash,msg:y.msg})[1]}),window.$("#mensaje-brst").modal("show")),m}async preExchange(r=!1){let{userEnergy:t}=this.state,a=(await this.calculoEnergy(r)).dp(0),i=await this.costEnergy(a);console.log(a.toString(10)),a.toNumber()>0?(this.setState({ModalTitulo:"Energy Notice",ModalBody:e.jsxs(e.Fragment,{children:["This operation requires"," ",e.jsxs("b",{children:[a.plus(t).dp(0).toNumber().toLocaleString("en-US")," ","energy"]}),e.jsx("br",{}),e.jsx("br",{}),"you have ",e.jsxs("b",{children:[t.toLocaleString("en-US")," energy"]}),e.jsx("br",{}),"Rent ",e.jsxs("b",{children:[a.toNumber().toLocaleString("en-US")," energy"]})," for ",e.jsxs("b",{children:[i.toString(10)," TRX"]}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:async()=>{await this.rentEnergy(a)&&this.exchangeTokens(r)},children:["Rent Energy"," "]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:async()=>{this.exchangeTokens(r)},children:["Proceed without renting energy"," "]})]})}),window.$("#mensaje-brst").modal("show")):this.exchangeTokens(r)}async exchangeTokens(r=!1){let t=document.getElementById("currencySelectFrom").value,a=document.getElementById("currencySelectTo").value;switch(t+"_"+a){case"usdt_brst":this.suawpTokenFromTRX(0);break;case"usdd_brst":this.suawpTokenFromTRX(1);break;case"brst_trx":this.venta(r);break;default:this.compra();break}}async suawpTokenFromTRX(r=0){const{tronWeb:t,accountAddress:a,t:i}=this.props;let{precioUSDT:o,precioUSDD:m}=this.state,c=r===0?"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t":"TXDk8mbtRbXeYuMNS83CfKPaYYT8XWv9Hz",l=r===0?o:m,d="TCFNp179Lg46D16zKoumd4Poa2WFFdtqYj",y=t.contract(M.abi_SUNSWAP,d),j=t.contract(M.abi_TOKEN,c),p=parseInt(await j.decimals().call()),h=new b(parseInt(await j.balanceOf(a).call())).shiftedBy(-p),u=document.getElementById("amountFrom").value;if(u=u.replace(/,/g,"."),u=new b(u),h.dp(2).toNumber()<1||u.toNumber()>h.toNumber())return this.setState({ModalTitulo:"ALERT",ModalBody:e.jsxs(e.Fragment,{children:["Sorry, you don't have enough"," ",await j.name().call()," to complete this operation."]})}),window.$("#mensaje-brst").modal("show"),"false";let w=await j.allowance(a,d).call();if(w.remaining&&(w=w.remaining),w=parseInt(w),w<=h.toNumber()){this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Token Alert ",$]}),ModalBody:e.jsx(e.Fragment,{children:"Approve unlimited future exchanges"})}),window.$("#mensaje-brst").modal("show");let N=[{type:"address",value:t.address.toHex(d)},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],T="approve(address,uint256)";const k={};let C=await t.transactionBuilder.triggerSmartContract(t.address.toHex(j.address),T,k,N,t.address.toHex(a)),f=await t.transactionBuilder.extendExpiration(C.transaction,180);if(f=await window.tronLink.tronWeb.trx.sign(f).catch(D=>(this.setState({ModalTitulo:i("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:i("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+D.toString()}),window.$("#mensaje-brst").modal("show"),!1)),!f||(f=await t.trx.sendRawTransaction(f).then(()=>(this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Token Alert ",$]}),ModalBody:e.jsx(e.Fragment,{children:"Approval done, continue the process"})}),window.$("#mensaje-brst").modal("show"),!0)).catch(D=>(this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Error",$]}),ModalBody:e.jsx(e.Fragment,{children:D.toString()})}),window.$("#mensaje-brst").modal("show"),!1)),!f))return}let _=await fetch("https://rot.endjgfsv.link/swap/router?fromToken="+c+"&toToken=T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb&amountIn="+u.shiftedBy(p).dp(0).toString(10)+"&typeList=SUNSWAP_V3,SUNSWAP_V2,WTRX").then(N=>N.json()).then(N=>N.data[0]);function g(N,T){let k=new Array(T.length).fill(0),C=N;for(let D=0;D<T.length&&C>0;D++)k[D]=1,C--;let f=0;for(;C>0;)k[f]++,C--,f=(f+1)%T.length;return k}let E=[{type:"address[]",value:_.tokens},{type:"string[]",value:_.poolVersions},{type:"uint256[]",value:g(_.tokens.length,_.poolVersions)},{type:"uint24[]",value:_.poolFees},{type:"(uint256,uint256,address,uint256)",value:[new b(_.amountIn).shiftedBy(p).dp(0).toString(10),new b(_.amountOut).times(.995).shiftedBy(6).dp(0).toString(10),t.address.toHex(a).replace(/41/g,"0x"),(parseInt(Date.now()/1e3)+100).toString(10)]}],v="swapExactInput(address[],string[],uint256[],uint24[],(uint256,uint256,address,uint256))";const I={feeLimit:1e4*1e6,callValue:0};let P=await t.transactionBuilder.triggerSmartContract(t.address.toHex(y.address),v,I,E,t.address.toHex(a)),R=await t.transactionBuilder.extendExpiration(P.transaction,180);R=await window.tronLink.tronWeb.trx.sign(R).catch(N=>(this.setState({ModalTitulo:i("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:i("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+N.toString()}),window.$("#mensaje-brst").modal("show"),!1)),R&&(R=await t.trx.sendRawTransaction(R).then(()=>{this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Swap Alert ",$]}),ModalBody:e.jsx(e.Fragment,{children:"Swap done, continue the process"})}),window.$("#mensaje-brst").modal("show")}),await M.delay(3),this.compra(u.div(l)))}async compra(r=new b(0)){const{tronWeb:t,contrato:a,accountAddress:i,t:o}=this.props;if(r.toNumber()<=0&&(r=parseFloat(document.getElementById("amountFrom").value),r=new b(r)),r=r.shiftedBy(6).dp(0).toNumber(),r<=0){this.setState({ModalTitulo:o("brst.alert.errorInput",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[o("brst.alert.errorInput",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:o("close")})]})});return}const{minCompra:m}=this.state;if(await t.trx.getUnconfirmedBalance()>=r)if(r>=m){let l=[],d="staking()";const y={callValue:r};let j=await t.transactionBuilder.triggerSmartContract(t.address.toHex(a.BRST_TRX_Proxy.address),d,y,l,t.address.toHex(i)),p=await t.transactionBuilder.extendExpiration(j.transaction,180);if(p=await window.tronLink.tronWeb.trx.sign(p).catch(h=>(this.setState({ModalTitulo:o("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:o("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+h.toString()}),window.$("#mensaje-brst").modal("show"),!1)),!p)return;p=await t.trx.sendRawTransaction(p).then(h=>{if(h.result)this.setState({ModalTitulo:o("brst.alert.compra",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[o("brst.alert.compra",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:o("accept")})]})}),window.$("#mensaje-brst").modal("show");else return this.setState({ModalTitulo:o("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:o("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+h.transaction.txID.toString()}),window.$("#mensaje-brst").modal("show"),!1}).catch(h=>(this.setState({ModalTitulo:o("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:o("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+h.toString()}),window.$("#mensaje-brst").modal("show"),!1))}else document.getElementById("amountFrom").value=m,this.setState({ModalTitulo:o("error"),ModalBody:o("brst.alert.errGreater",{returnObjects:!0,min:m})[0]}),window.$("#mensaje-brst").modal("show");else document.getElementById("amountFrom").value="",this.setState({ModalTitulo:o("error"),ModalBody:o("brst.alert.errFunds",{returnObjects:!0,min:m})[0]}),window.$("#mensaje-brst").modal("show");await M.delay(5),this.estado()}async venta(r){const{t}=this.props,{minventa:a}=this.state;let i=document.getElementById("amountFrom").value;i=i.replace(/,/g,"."),i=new b(i).shiftedBy(6);let{accountAddress:o,contrato:m,tronWeb:c}=this.props,l=c.address.toHex(m.BRST_TRX_Proxy.address);r&&(l=c.address.toHex(m.BRST_TRX_Proxy_fast.address));let d=await m.BRST.allowance(o,l).call();if(d=parseInt(d),d<=i.toNumber()){this.setState({ModalTitulo:e.jsx(e.Fragment,{children:"BRST Aproval"}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction to confirm Token Aproval"})}),window.$("#mensaje-brst").modal("show");let y=[{type:"address",value:l},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],j="approve(address,uint256)";const p={};let h=await c.transactionBuilder.triggerSmartContract(c.address.toHex(m.BRST.address),j,p,y,c.address.toHex(o)),u=await c.transactionBuilder.extendExpiration(h.transaction,180);u=await window.tronLink.tronWeb.trx.sign(u).catch(w=>{this.setState({ModalTitulo:"Error",ModalBody:w.toString()}),window.$("#mensaje-brst").modal("show")}),u=await c.trx.sendRawTransaction(u).then(()=>{this.setState({ModalTitulo:e.jsx(e.Fragment,{children:"Result"}),ModalBody:e.jsxs(e.Fragment,{children:["BRST Aproval is Done ",u.txid]})}),window.$("#mensaje-brst").modal("show")}),d=await m.BRST.allowance(o,l).call(),d=parseInt(d)}if(d>=i.toNumber())if(i.toNumber()>=a){this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Withdrawal process ",$]}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction to confirm your withdrawal."})}),window.$("#mensaje-brst").modal("show");let y=[{type:"uint256",value:i.toString(10)}],j="esperaRetiro(uint256)";r&&(j="sell_token_2(uint256)");const p={};let h=await c.transactionBuilder.triggerSmartContract(l,j,p,y,c.address.toHex(o)),u=await c.transactionBuilder.extendExpiration(h.transaction,180);u=await window.tronLink.tronWeb.trx.sign(u).catch(w=>{this.setState({ModalTitulo:"Error",ModalBody:w.toString()}),window.$("#mensaje-brst").modal("show")}),u=await c.trx.sendRawTransaction(u).then(()=>{this.setState({ModalTitulo:"Operation result",ModalBody:e.jsxs(e.Fragment,{children:["Your withdrawal was successfully processed"," ",e.jsx("a",{href:"https://tronscan.org/#/transaction/"+u.txid,rel:"noreferrer noopener",target:"_blank",children:u.txid}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:t("accept")})]})}),window.$("#mensaje-brst").modal("show")}),r||document.getElementById("request-brst").scrollIntoView()}else this.setState({ModalTitulo:"Info",ModalBody:`Enter a value greater than ${a} BRST`}),window.$("#mensaje-brst").modal("show"),document.getElementById("amountFrom").value=a;else i>d?d<=0?(this.setState({ModalTitulo:"Info",ModalBody:"You do not have enough aproved funds in your account you place at least "+a+" BRST"}),window.$("#mensaje-brst").modal("show")):(this.setState({ModalTitulo:"Info",ModalBody:"You must leave 21 TRX free in your account to make the transaction"}),window.$("#mensaje-brst").modal("show")):(this.setState({ModalTitulo:"Info",ModalBody:"You must leave 21 TRX free in your account to make the transaction"}),window.$("#mensaje-brst").modal("show")),document.getElementById("amountFrom").value=a;this.estado()}async grafico(r,t,a,i){let{precioBrst:o,precioUSDT:m,precioUSDD:c}=this.state;if(!document.getElementById("chartdiv-brst"))return;this.root&&this.root.dispose();const l=re.new("chartdiv-brst");l._logo.dispose(),l.setThemes([ne.new(l)]);let d=l.container.children.push(ie.new(l,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));d.set("cursor",oe.new(l,{behavior:"none"})).lineY.set("visible",!1);let j=l.interfaceColors.get("negative"),p=l.interfaceColors.get("positive"),h=0,u,w;function _(B,U){let s=B.value;if(U){let S=B.valor_alt.find(F=>F.coin===U);S?s=S.valor:s=0}let x=j;s>=h&&(x=p),h=s;let n={date:B.date,value:s,color:x};return x!==u&&(w||(w=n),w.strokeSettings={stroke:x}),w=n,u=x,n}let g=o;switch(i){case"usdt":g=g*m;break;case"usdd":g=g*c;break;default:i=!1;break}let E={date:Date.now(),value:g};async function v(B){let U=await fetch(X.BRUTUS_API+"chartdata/brst?temporalidad="+t+"&limite="+B).then(async x=>(await x.json()).Data).catch(()=>!1);if(U){h=0,u="",w="";let x=[];for(var s=U.length-1;s>=0;--s)x.push(_(U[s],i));return x.push(E),x}else return!1}let I=d.xAxes.push(q.new(l,{baseInterval:{timeUnit:t,count:1},renderer:K.new(l,{}),tooltip:G.new(l,{})})),P=d.yAxes.push(Z.new(l,{renderer:J.new(l,{})})),R=d.series.push(Q.new(l,{name:"Series",xAxis:I,yAxis:P,valueYField:"value",valueXField:"date"}));R.strokes.template.set("templateField","strokeSettings");let N=R.set("tooltip",G.new(l,{labelText:"{valueY}"}));N.on("pointTo",function(){let B=N.get("background");B.set("fill",B.get("fill"))}),N.get("background").adapters.add("fill",function(B){return N.dataItem?N.dataItem.dataContext.color:B});let T=d.set("scrollbarX",le.new(l,{orientation:"horizontal",height:40})),k=T.chart.xAxes.push(q.new(l,{baseInterval:{timeUnit:t,count:1},renderer:K.new(l,{})})),C=T.chart.yAxes.push(Z.new(l,{renderer:J.new(l,{})})),f=T.chart.series.push(Q.new(l,{valueYField:"value",valueXField:"date",xAxis:k,yAxis:C})),D=await v(a);D&&(R.data.setAll(D),f.data.setAll(D)),R.appear(r),d.appear(r,r/10),this.root=l}render(){const{contrato:r,t}=this.props;let{APY:a,from:i,to:o,valueFrom:m,precioBrst:c,varBrst:l,minCompra:d,minventa:y,days:j,diasCalc:p,temporalidad:h,cantidadDatos:u,tiempoPromediado:w,solicitudes:_,globDepositos:g,crecimientoPorcentual:E,userEnergy:v,rapida:I,penalty:P,retiroRapido:R,dias:N,balanceUSDT:T,balanceUSDD:k,balanceBRST:C,balanceTRX:f,valueTo:D}=this.state;d="Min. "+d+" "+i.toUpperCase(),y="Min. "+y+" "+o.toUpperCase();let B;h==="hour"?B=he:B=ce;let U=e.jsx(e.Fragment,{});i+"_"+o=="brst_trx"&&(U=e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-center",children:[e.jsx("input",{type:"checkbox",checked:I,readOnly:!0,onClick:()=>{this.setState({rapida:!I})},style:{cursor:"pointer"}})," ",e.jsx("b",{children:"Quick:"})," request up to"," ",e.jsxs("b",{children:[R.dp(1).toString(10)," TRX"]})," with a"," ",e.jsxs("b",{children:[P,"% fee."]}),e.jsx("br",{}),e.jsx("input",{type:"checkbox",checked:!I,readOnly:!0,onClick:()=>{this.setState({rapida:!I})},style:{cursor:"pointer"}})," ",e.jsx("b",{children:"Regular:"})," request the ",e.jsx("b",{children:"total"})," with a ",e.jsxs("b",{children:[N," days"]})," ","waiting period."]})}));let s=e.jsxs("button",{className:"btn btn-success",style:{width:"100%"},onClick:()=>this.preExchange(I),children:["Swap ",i.toUpperCase()+" -> "+o.toUpperCase()]});o==="trx"&&I&&R.toNumber()<D.toNumber()&&(s=e.jsx("button",{className:"btn btn-warning",style:{width:"100%"},children:"Enter a lower amount or change to regular withdrawal"})),m.toNumber()<1&&(s=e.jsxs("button",{className:"btn btn-warning",style:{width:"100%"},children:["The minimum to operate is ",1," ",i.toUpperCase()]}));let x=f;switch(i){case"usdt":x=T;break;case"usdd":x=k;break;case"brst":x=C;break}return m.toNumber()>x&&(s=e.jsxs("button",{className:"btn btn-danger",style:{width:"100%"},children:["Not enough ",i.toUpperCase()," top up to proceed"]})),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"tab-content",id:"nav-tabContent",children:e.jsx("div",{className:"tab-pane fade show active",id:"nav-bitcoin",role:"tabpanel","aria-labelledby":"nav-bitcoin-tab",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-9 col-xxl-9 wow fadeInLeft","data-wow-delay":"0.2s",children:e.jsxs("div",{className:"card coin-content",children:[e.jsxs("div",{className:"card-header border-0 flex-wrap",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"heading m-0",children:t("tokenChart",{token:"BRST"})}),e.jsx("span",{className:"fs-16",children:"Brutus Tron Staking "})]}),e.jsx("div",{className:"dropdown bootstrap-select",children:e.jsxs("select",{className:"image-select default-select dashboard-select",id:"selector","aria-label":"Default",tabIndex:"0",style:{background:"rgb(3 0 8 / 20%)"},onInput:n=>{console.log(n.target.value),this.grafico(500,h,u,document.getElementById("selector").value)},children:[e.jsx("option",{value:"trx",children:"TRX (Tron)"}),e.jsx("option",{value:"usdd",children:"USDD (Decentralized USD)"}),e.jsx("option",{value:"usdt",children:"USDâ‚® (Tether)"})]})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-18 d-block mb-2",children:t("price")}),e.jsxs("h4",{className:"fs-20 font-w600",children:[c," TRX"]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"24h% change"}),e.jsxs("h4",{className:"font-w600 text-success",children:[l.toFixed(4),e.jsx("i",{className:"fa-solid fa-caret-up ms-1 text-success"})]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:t("circulating")}),e.jsxs("h4",{className:"font-w600",children:[(this.state.tokensEmitidos*1).toFixed(2)," ","BRST"]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:t("endorse")}),e.jsxs("h4",{className:"font-w600",children:[(this.state.enBrutus*1).toFixed(2)," TRX"]})]})]})}),e.jsx("div",{className:"mb-3",id:"chartdiv-brst",style:{height:"400px",backgroundColor:"white"}}),e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:this.state.cantidadDatos,onChange:this.handleChange2,children:B.map(n=>e.jsx("option",{value:n.value,children:n.label},n.label.toString()))})," | ",e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:this.state.temporalidad,onChange:this.handleChange,children:de.map(n=>e.jsx("option",{value:n.value,children:n.label},n.label.toString()))})]})]})}),e.jsx("div",{className:"col-xl-3 col-xxl-3 col-sm-6 wow fadeInRight","data-wow-delay":"0.3s",children:e.jsxs("div",{className:"card digital-cash",children:[e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"media d-block",children:[e.jsx("img",{onClick:()=>{const{tronWeb:n,accountAddress:S}=this.props;this.setState({ModalTitulo:t("brst.alert.donate",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:["TRX:",e.jsx("input",{type:"number",id:"trxD",className:"form-control mb-3",placeholder:"Amount"}),e.jsx("button",{type:"button",className:"btn btn-success w-100 mb-3",onClick:async()=>{let F=document.getElementById("trxD").value;F=new b(F).shiftedBy(6).dp(0);let O=[],L="donate()";const H={callValue:F};let W=await n.transactionBuilder.triggerSmartContract(n.address.toHex(r.BRST_TRX_Proxy.address),L,H,O,n.address.toHex(S)),A=await n.transactionBuilder.extendExpiration(W.transaction,180);A=await window.tronLink.tronWeb.trx.sign(A).catch(Y=>(this.setState({ModalTitulo:t("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:t("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+Y.toString()}),window.$("#mensaje-brst").modal("show"),!1)),A&&(A=await n.trx.sendRawTransaction(A).then(()=>{this.setState({ModalTitulo:t("brst.donate.title",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[t("brst.donate.body",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:t("accept")})]})}),window.$("#mensaje-brst").modal("show")}))},children:t("brst.alert.donate",{returnObjects:!0})[3]}),"BRST",e.jsx("input",{type:"number",id:"brstD",className:"form-control mb-3",placeholder:"Amount"}),e.jsx("button",{type:"button",className:"btn btn-success w-100 mb-3",onClick:async()=>{let F=document.getElementById("brstD").value;F=new b(F).shiftedBy(6).dp(0);let O=[{type:"uint256",value:F}],L="donate(uint256)";const H={};let W=await n.transactionBuilder.triggerSmartContract(n.address.toHex(r.BRST_TRX_Proxy.address),L,H,O,n.address.toHex(S)),A=await n.transactionBuilder.extendExpiration(W.transaction,180);A=await window.tronLink.tronWeb.trx.sign(A).catch(Y=>(this.setState({ModalTitulo:t("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:t("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+Y.toString()}),window.$("#mensaje-brst").modal("show"),!1)),A&&(A=await n.trx.sendRawTransaction(A).then(()=>{this.setState({ModalTitulo:t("brst.donate.title",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[t("brst.donate.body",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:t("accept")})]})}),window.$("#mensaje-brst").modal("show")}))},children:t("brst.alert.donate",{returnObjects:!0})[3]})]})}),window.$("#mensaje-brst").modal("show")},src:"images/brst.png",width:"100%",alt:"brutus tron staking"}),e.jsxs("div",{className:"media-content",children:[e.jsx("h4",{className:"mt-0 mt-md-4 fs-20 font-w700 text-black mb-0",children:t("brst.aStaking")}),e.jsx("span",{className:"font-w600 text-black",children:"Brutus"}),e.jsxs("span",{className:"my-4 fs-16 font-w600 d-block",children:["1 BRST = ",this.state.precioBrst," TRX"]}),e.jsx("p",{className:"text-start",children:t("brst.description")})]})]})})}),e.jsx("div",{className:"card-footer p-2 border-0",children:e.jsx("a",{href:"https://brutus.finance/brutusblog.html",className:"btn btn-link text-primary",children:t("brst.button.readM")})})]})}),e.jsx("div",{className:"col-xl-6 col-sm-6 wow fadeInUp","data-wow-delay":"0.4s",children:e.jsxs("div",{className:"card quick-trade",children:[e.jsx("div",{className:"card-header pb-0 border-0 flex-wrap",children:e.jsx("div",{children:e.jsxs("h4",{className:"heading mb-0",children:[t("brst.exchange")," V4.1"]})})}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 pb-2",children:"From"}),e.jsx("div",{className:"col-2 ",children:e.jsx("img",{height:"42px",src:"/images/token/"+this.state.from+".png",alt:"tron logo"})}),e.jsx("div",{className:"col-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:e.jsxs("select",{style:{color:"white",backgroundColor:"var(--primary)",cursor:"pointer",borderRadius:"0.625rem 0 0 0.625rem"},className:"form-select",id:"currencySelectFrom",onChange:this.handleCurrencyChangeFrom,children:[e.jsx("option",{value:"trx",children:"TRX "}),e.jsx("option",{value:"usdt",children:"USDT "}),e.jsx("option",{value:"usdd",children:"USDD "}),e.jsx("option",{value:"brst",children:"BRST "})]})}),e.jsx("div",{className:"col-7",style:{paddingLeft:"0px"},children:e.jsx("input",{className:"form-control form-control text-end",style:{borderRadius:"0 0.625rem 0.625rem 0"},type:"number",id:"amountFrom",onInput:()=>this.calcExchange(!1,this.state.from+"_"+this.state.to),placeholder:d,min:this.state.minCompra,step:.1})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 pb-2",children:"To"}),e.jsx("div",{className:"col-2",children:e.jsx("img",{height:"42px",src:"/images/token/"+this.state.to+".png",alt:"brst logo"})}),e.jsx("div",{className:"col-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:e.jsxs("select",{style:{color:"white",backgroundColor:"var(--primary)",cursor:"pointer",borderRadius:"0.625rem 0 0 0.625rem"},className:"form-select",id:"currencySelectTo",onChange:this.handleCurrencyChangeTo,children:[e.jsx("option",{value:"brst",children:"BRST "}),e.jsx("option",{value:"trx",children:"TRX "})]})}),e.jsx("div",{className:"col-7",style:{paddingLeft:"0px"},children:e.jsx("input",{className:"form-control form-control text-end",style:{borderRadius:"0 0.625rem 0.625rem 0"},type:"number",id:"amountTo",onInput:()=>this.calcExchange(!0,this.state.to+"_"+this.state.from),placeholder:y,min:this.state.minventa,step:1e-4})})]})]}),e.jsxs("div",{className:"card-footer border-0",children:[U,e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center",children:s})}),e.jsxs("div",{className:"d-flex mt-2",style:{justifyContent:"space-between"},children:[e.jsx("p",{className:"mb-0 fs-14",children:t("brst.energy",{e1:v.toLocaleString("en-US")})}),e.jsxs("p",{className:"mb-0 fs-14",children:["Fee ~ ",this.state.useTrx," TRX"]})]})]})]})}),e.jsx("div",{className:"col-xl-6 col-sm-12 wow fadeInUp","data-wow-delay":"0.6s",children:e.jsxs("div",{className:"card price-list",children:[e.jsx("div",{className:"card-header border-0 pb-2",children:e.jsx("div",{className:"chart-title",children:e.jsx("h4",{className:" mb-0",style:{color:"var(--primary)"},children:t("mya")})})}),e.jsx("div",{className:"card-body p-3 py-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center bg-warning-hover order-tbl",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:t("token")}),e.jsx("th",{className:"text-center",children:t("amount")}),e.jsx("th",{className:"text-center",children:t("value")})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarBRST()},children:[e.jsx("td",{className:"text-left",children:"BRST"}),e.jsx("td",{children:this.state.balanceBRST}),e.jsxs("td",{children:[new b(this.state.balanceBRST*this.state.precioBrst*this.state.precioUSDD).dp(2).toNumber().toLocaleString("en-US")," ","USDD"]})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"TRX"}),e.jsx("td",{children:this.state.balanceTRX}),e.jsxs("td",{children:[new b(this.state.balanceTRX*this.state.precioUSDD).dp(2).toNumber().toLocaleString("en-US")," ","USDD"]})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"USDT"}),e.jsx("td",{children:this.state.balanceUSDT.toLocaleString("en-US")}),e.jsx("td",{children:"--.--"})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"USDD"}),e.jsx("td",{children:this.state.balanceUSDD.toLocaleString("en-US")}),e.jsx("td",{children:"--.--"})]})]})]})})}),e.jsx("div",{className:"card-footer text-center py-3 border-0",children:e.jsxs("a",{href:"/",className:"btn-link text-black",children:[t("showM"),e.jsx("i",{className:"fa fa-caret-right"})]})})]})})]})})})})}),e.jsxs("div",{className:"row mx-0",children:[e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h4",{className:"card-title",children:"Your last earnings staking "}),e.jsxs("h6",{className:"card-subtitle",children:[this.state.misBRST," BRST ="," ",(this.state.misBRST*this.state.precioBrst).toFixed(3)," TRX"]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover table-responsive-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("day")}),e.jsx("th",{children:t("earned")}),e.jsx("th",{children:t("brst.dailyG")})]})}),e.jsx("tbody",{children:V.map(n=>e.jsxs("tr",{children:[e.jsx("th",{children:t("brst.daysAgo",{days:n.dias})}),e.jsxs("td",{children:[n.trx.toFixed(6)," TRX"]}),e.jsxs("td",{className:"color-primary",children:[n.diario.toFixed(6)," TRX/",t("day")," "]})]},n.dias.toString()))})]})})})]})}),e.jsx("div",{className:"col-12",id:"request-brst",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-sm-flex d-block pb-0 border-0",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"fs-20 text-black",children:[t("brst.request",{returnObjects:!0,number:_})[0],e.jsxs("button",{className:"btn  btn-success text-white",onClick:()=>this.estado(),children:[t("brst.request",{returnObjects:!0})[1]," ",e.jsx("i",{className:"bi bi-arrow-repeat"})]})]}),e.jsx("p",{className:"mb-0 fs-12",children:t("brst.request",{returnObjects:!0})[2]})]})}),e.jsx("div",{className:"card-body",children:g})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h4",{className:"card-title",children:[t("brst.estimate")," ",e.jsx("br",{}),"APR: ",(E*360).toFixed(3)," % ",e.jsx("br",{}),"APY: ",a,"%"]}),e.jsx("br",{}),e.jsxs("h6",{className:"card-subtitle",style:{cursor:"pointer"},onClick:()=>{document.getElementById("hold").value=this.state.balanceBRST,this.handleChangeCalc({target:{value:this.state.balanceBRST}})},children:[t("brst.mystaking"),this.state.misBRST," BRST ="," ",(this.state.misBRST*this.state.precioBrst).toFixed(3)," TRX"]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("b",{children:"Days Average: "}),e.jsx("input",{type:"number",id:"daysProm",defaultValue:w,placeholder:w+" days",min:1,step:1,onInput:async()=>{let n=parseInt(document.getElementById("daysProm").value);await this.setState({tiempoPromediado:isNaN(n)?1:n}),this.estado()}}),e.jsxs("div",{className:"table-responsive overflow-scroll",style:{marginTop:"30px",height:"420px",border:"2px solid rgba(207, 207, 207, 0.97)",borderRadius:"10px"},children:[e.jsx("table",{className:"table table-hover table-responsive-sm",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("th",{children:["Days Hold",e.jsx("br",{}),e.jsx("input",{type:"number",id:"days",defaultValue:p,onInput:this.handleChangeDias}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{j=j.unshift({days:p,amount:parseFloat(document.getElementById("hold").value.replace(/,/g,".")),time:Date.now(),APY:E})},children:"Calculate"})]}),e.jsxs("th",{children:["Your BRST",e.jsx("br",{}),e.jsx("input",{type:"number",id:"hold",defaultValue:0,onInput:this.handleChangeCalc})]})]})})}),e.jsxs("table",{className:"table table-hover table-responsive-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("day",{count:10})}),e.jsx("th",{children:t("brst.hold")}),e.jsx("th",{children:t("brst.estimateIn")})]})}),e.jsx("tbody",{children:j.map(n=>(n.amount=parseFloat(n.amount),n.amount=isNaN(n.amount)||n.amount<=0?this.state.misBRST:n.amount,n.days=isNaN(n.days)?1:n.days,n.time=isNaN(n.time)?Date.now():n.time,e.jsxs("tr",{children:[e.jsx("th",{children:n.days}),e.jsxs("td",{children:[n.amount," BRST",e.jsx("br",{}),(n.amount*c).toFixed(3)," TRX"]}),e.jsxs("td",{children:[(n.amount*c*(E*n.days/100)).toFixed(6)," ","TRX"]})]},"prospect-days-"+n.days+"-"+n.amount+"-"+n.time)))})]})]})]})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Token:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+X.BRST+"/code",children:X.BRST}),e.jsx("br",{}),e.jsx("b",{children:"Regular withdrawals:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+X.ProxySC2+"/code",children:X.ProxySC2}),e.jsx("br",{}),e.jsx("b",{children:"Fast withdrawals:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+X.ProxySC3+"/code",children:X.ProxySC3})]})})]})})]}),e.jsx("div",{className:"modal fade",id:"mensaje-brst",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.ModalTitulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:this.state.ModalBody})})]})})})]})}}const we=se()(ue);export{we as default};
