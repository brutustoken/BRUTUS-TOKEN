import{a0 as he,a1 as b,F as Y,V as e}from"./libs-CZASmHnA.js";import{R as xe,A as pe,X as ve,a as ge,D as H,T as P,b as W,V,c as O,L as Z,d as fe}from"./charts-cC89YrqE.js";import{u as p,c as I}from"./index-DlOTKQoG.js";import be from"./Alert-DBFzGbBf.js";import"./web3-crypto-BAtjRPbI.js";const we=[{label:"Hours",value:"hour"},{label:"Days",value:"day"}],je=[{label:"Last 7 ",value:"7"},{label:"Last 30 ",value:"30"},{label:"Last 90 ",value:"90"},{label:"Last 180 ",value:"180"},{label:"All ",value:"0"}],Te=w=>{const[i,$]=b.useState({minCompra:1,minventa:.1,deposito:"Loading...",wallet:"Loading...",valueBRUT:"",valueUSDT:"",value:"",cantidad:0,tiempo:0,enBrutus:0,tokensEmitidos:0,totalCirculando:0,enPool:0,solicitado:0,data:[],temporalidad:"day",cantidadDatos:30,cambio24h:0,depositoUSDT:"BUY",depositoBRUT:"SELL",msj:{},balanceBRUT:0,balanceUSDT:0,precioBRUT:0}),g=b.useRef(null),y=b.useRef(null),S=b.useRef(0),T=b.useRef(!1);b.useEffect(()=>(T.current=!0,document.title="BRUT | Brutus Token",C(1e3,"day",30),D(),y.current=setInterval(()=>{Date.now()>=S.current&&(w.contrato.ready?S.current=Date.now()+60*1e3:S.current=Date.now()+3*1e3,_())},3*1e3),()=>{T.current=!1,y.current&&clearInterval(y.current),g.current&&(g.current.dispose(),g.current=null)}),[]);const d=s=>{$(t=>({...t,...s}))},C=async(s,t,c)=>{if(!document.getElementById("chartdiv")||(g.current&&(g.current.dispose(),g.current=null),!T.current))return;const a=xe.new("chartdiv");g.current=a,a.setThemes([pe.new(a)]);let r=a.container.children.push(ve.new(a,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));r.set("cursor",ge.new(a,{behavior:"none"})).lineY.set("visible",!1);let m=0,x=m,u=a.interfaceColors.get("negative"),o=a.interfaceColors.get("positive"),h,z,N;function le(v){m=v.value;let R=v.date;m>=x?h=o:h=u,x=m;let f={date:R,value:m,color:h};return h!==z&&(N||(N=f),N.strokeSettings={stroke:h}),N=f,z=h,f}async function ie(v){let R=(await(await fetch(I.BRUTUS_API+"chartdata/brut?temporalidad="+t+"&limite="+v)).json()).Data,f=[];for(var A=R.length-1;A>=0;--A)f.push(le(R[A]));return f}let ce=r.xAxes.push(H.new(a,{baseInterval:{timeUnit:t,count:1},renderer:W.new(a,{}),tooltip:P.new(a,{})})),oe=r.yAxes.push(V.new(a,{renderer:O.new(a,{})})),B=r.series.push(Z.new(a,{name:"Series",xAxis:ce,yAxis:oe,valueYField:"value",valueXField:"date"}));B.strokes.template.set("templateField","strokeSettings");let j=B.set("tooltip",P.new(a,{labelText:"{valueY}"}));j.on("pointTo",function(){let v=j.get("background");v.set("fill",v.get("fill"))}),j.get("background").adapters.add("fill",function(v){return j.dataItem?j.dataItem.dataContext.color:v});let E=r.set("scrollbarX",fe.new(a,{orientation:"horizontal",height:30})),de=E.chart.xAxes.push(H.new(a,{baseInterval:{timeUnit:t,count:1},renderer:W.new(a,{})})),me=E.chart.yAxes.push(V.new(a,{renderer:O.new(a,{})})),ue=E.chart.series.push(Z.new(a,{valueYField:"value",valueXField:"date",xAxis:de,yAxis:me})),M=await ie(c);T.current&&(B.data.setAll(M),ue.data.setAll(M),B.appear(s),r.appear(s,s/10))},q=async()=>{let{minCompra:s}=i;const{contrato:t,accountAddress:c,tronWeb:l}=w;let a=document.getElementById("amountUSDT").value;a=p.normalizarNumero(a.replace(/,/g,"."),0);let r=await t.USDT.allowance(c,t.BRUT_USDT.address).call();if(r<=0){let n=[{type:"address",value:t.BRUT_USDT.address},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],x=await l.transactionBuilder.triggerSmartContract(l.address.toHex(t.USDT.address),"approve(address,uint256)",{},n,l.address.toHex(c)),u=await l.transactionBuilder.extendExpiration(x.transaction,180);if(u=await window.tronLink.tronWeb.trx.sign(u).catch(o=>(d({msj:{title:"Error",message:o.toString()}}),!1)),!u)return;await l.trx.sendRawTransaction(u).then(o=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction hash: ",o.txid]})}})}),r=await t.USDT.allowance(c,t.BRUT_USDT.address).call()}if(r.remaining&&(r=r.remaining),r=p.normalizarNumero(r),r>=a)if(a>=s){let n=[{type:"uint256",value:p.numberToStringCero(a)},{type:"address",value:c}],x=await l.transactionBuilder.triggerSmartContract(l.address.toHex(t.BRUT_USDT.address),"buy_token(uint256,address)",{},n,l.address.toHex(c)),u=await l.transactionBuilder.extendExpiration(x.transaction,180);if(u=await window.tronLink.tronWeb.trx.sign(u).catch(o=>(d({msj:{title:"Error",message:o.toString()}}),!1)),!u)return;await l.trx.sendRawTransaction(u).then(o=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction ",o.txid]})}})}),document.getElementById("amountUSDT").value=""}else window.alert("Enter an amount greater than "+s+" USDT"),document.getElementById("amountUSDT").value=s;else r<=0?(document.getElementById("amountUSDT").value=s,window.alert("Not enough USDT")):(document.getElementById("amountUSDT").value=s,window.alert("invalid value"));_()},Q=async()=>{const{minventa:s,balanceBRUT:t}=i,{contrato:c,accountAddress:l,tronWeb:a}=w;let r=document.getElementById("amountBRUT").value;r=p.normalizarNumero(r.replace(/,/g,"."),0);let n=await c.BRUT.allowance(l,c.BRUT_USDT.address).call();if(n<=0){let m=[{type:"address",value:c.BRUT_USDT.address},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],u=await a.transactionBuilder.triggerSmartContract(a.address.toHex(c.BRUT.address),"approve(address,uint256)",{},m,a.address.toHex(l)),o=await a.transactionBuilder.extendExpiration(u.transaction,180);if(o=await window.tronLink.tronWeb.trx.sign(o).catch(h=>(d({msj:{title:"Error",message:h.toString()}}),!1)),!o)return;await a.trx.sendRawTransaction(o).then(h=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction hash: ",h.txid]})}})}),n=await c.BRUT.allowance(l,c.BRUT_USDT.address).call()}if(n.remaining&&(n=n.remaining),n=p.normalizarNumero(n),r<s){document.getElementById("amountBRUT").value=s,d({msj:{title:"Error",message:"Place an amount greater than "+s+" BRUT"}});return}if(r>t){document.getElementById("amountBRUT").value=s,d({msj:{title:"Error",message:"Insuficient BRUT"}});return}if(n>=r){let m=[{type:"uint256",value:p.numberToStringCero(r)},{type:"address",value:l}],u=await a.transactionBuilder.triggerSmartContract(a.address.toHex(c.BRUT_USDT.address),"sell_token(uint256,address)",{},m,a.address.toHex(l)),o=await a.transactionBuilder.extendExpiration(u.transaction,180);if(o=await window.tronLink.tronWeb.trx.sign(o).catch(h=>(d({msj:{title:"Error",message:h.toString()}}),!1)),!o)return;await a.trx.sendRawTransaction(o).then(h=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction ",h.txid]})}})}),document.getElementById("amountBRUT").value=""}},_=async()=>{const{accountAddress:s,contrato:t}=w;let c,l;if(!t.ready)return;let a=await t.USDT.allowance(s,t.BRUT_USDT.address).call();a.remaining&&(a=a.remaining),a.length>=1&&(a=a[0]),a=p.normalizarNumero(a);let r=await t.USDT.balanceOf(s).call();r=p.normalizarNumero(r),a>=r&&a!==0?c="Buy BRUT":c="Approve buy";let n=await t.BRUT.allowance(s,t.BRUT_USDT.address).call();n.remaining&&(n=n.remaining),n.length>=1&&(n=n[0]),n=p.normalizarNumero(n);let m=await t.BRUT.balanceOf(s).call();m=p.normalizarNumero(m),n>=m&&n!==0?l="Sell BRUT":l="Approve sell";let x=await t.BRUT.totalSupply().call();x=p.normalizarNumero(x),d({depositoUSDT:c,depositoBRUT:l,balanceBRUT:m,balanceUSDT:r,wallet:s,totalCirculando:x})},G=s=>{let t=s.target.value;C(500,t,i.cantidadDatos),d({temporalidad:t})},J=s=>{let t=s.target.value;C(500,i.temporalidad,t),d({cantidadDatos:t})},F=async s=>{let t=s.target.value;await D(),d({valueBRUT:t,valueUSDT:parseFloat((t*i.precioBRUT).toPrecision(8))})},X=async s=>{let t=s.target.value;await D(),d({valueUSDT:t,valueBRUT:parseFloat((t/i.precioBRUT).toPrecision(8))})},D=async()=>{let s=I.PRICE,t,c=0,l;try{t=await fetch(s).then(n=>n.json()).catch(n=>{console.error(n)}),l=t.Data.usd,c=t.Data.v24h}catch(n){console.log(n),l=i.precioBRUT,c=i.cambio24h}let a=0,r=0;try{t=await fetch(I.market_brut).then(n=>n.json()).catch(n=>{console.error(n)}),a=t.marketcap.usdt,r=t.circulatingSupply}catch(n){console.log(n),a=i.enBrutus,r=i.tokensEmitidos}return d({cambio24h:new Y(c).dp(3).toString(10),precioBRUT:new Y(l).dp(2).toString(10),enBrutus:a,tokensEmitidos:r}),t},{contrato:U}=w;let{minCompra:k,minventa:L,msj:K,totalCirculando:ee,precioBRUT:ae,cambio24h:te,enBrutus:se,depositoBRUT:ne,depositoUSDT:re}=i;return k="Min. "+k+" USDT",L="Min. "+L+" BRUT",e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"tab-content",id:"nav-tabContent",children:e.jsx("div",{className:"tab-pane fade show active",id:"nav-bitcoin",role:"tabpanel","aria-labelledby":"nav-bitcoin-tab",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-9 col-xxl-9 wow fadeInLeft","data-wow-delay":"0.2s",children:e.jsxs("div",{className:"card coin-content",children:[e.jsxs("div",{className:"card-header border-0 flex-wrap",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"heading m-0",children:"BRUT Chart"}),e.jsxs("span",{className:"fs-16",children:["Brutus Algorithmic Trading Robot"," "]})]}),e.jsx("div",{className:"dropdown bootstrap-select",children:e.jsx("select",{className:"image-select default-select dashboard-select","aria-label":"Default",tabIndex:"0",defaultValue:"usdt",style:{background:"rgb(3 0 8 / 49%)"},children:e.jsx("option",{value:"usdt",children:"USDâ‚® (Tether)"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-18 d-block mb-2",children:"Price"}),e.jsxs("h4",{className:"fs-20 font-w600",children:["$",ae]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"24h% change"}),e.jsxs("h4",{className:"font-w600 text-success",children:[te,e.jsx("i",{className:"fa-solid fa-caret-up ms-1 text-success"})]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"Circulating"}),e.jsx("h4",{className:"font-w600",children:(ee*1).toFixed(2)})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"Market Cap"}),e.jsxs("h4",{className:"font-w600",children:["$",(se*1).toFixed(2)]})]})]})}),e.jsx("div",{className:"mb-3",id:"chartdiv",style:{height:"400px",backgroundColor:"white"}}),e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:i.cantidadDatos,onChange:J,children:je.map(s=>e.jsx("option",{value:s.value,children:s.label},s.label.toString()))})," | ",e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:i.temporalidad,onChange:G,children:we.map(s=>e.jsx("option",{value:s.value,children:s.label},s.label.toString()))})]})]})}),e.jsx("div",{className:"col-xl-3 col-xxl-3 col-sm-6 wow fadeInRight","data-wow-delay":"0.3s",children:e.jsx("div",{className:"card  digital-cash",children:e.jsxs("div",{className:"card-body ",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"media d-block",children:[e.jsx("img",{src:"images/brut.png",width:"100%",alt:"brutus token"}),e.jsxs("div",{className:"media-content",children:[e.jsx("h4",{className:"mt-0 mt-md-4 fs-20 font-w700 text-black mb-0",children:"Automated Trading"}),e.jsx("span",{className:"font-w600 text-black",children:"Brutus"}),e.jsxs("span",{className:"my-4 fs-16 font-w600 d-block",children:["1 BRUT = ",i.precioBRUT," USD"]}),e.jsx("p",{className:"text-start",children:"The Brutus Token is a Tron-based token whose value is backed by an automated trading strategy that uses backtesting and capital management to maximize profits and minimize losses. The value of the Brutus Token is pegged to USDT, so its value remains stable in USD terms."})]})]})}),e.jsx("div",{className:"card-footer p-2 border-0",children:e.jsx("a",{href:"https://brutus.finance/brutusblog.html",className:"btn btn-link text-primary",children:"Read more"})})]})})}),e.jsx("div",{className:"col-xl-6 col-sm-6 wow fadeInUp","data-wow-delay":"0.4s",children:e.jsxs("div",{className:"card quick-trade",children:[e.jsx("div",{className:"card-header pb-0 border-0 flex-wrap",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"heading mb-0",children:["Quick Trade: BRUT"," <-> ","USDT"]}),e.jsx("p",{className:"mb-0 fs-14",children:"without fees"})]})}),e.jsx("div",{className:"card-body pb-0",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx("input",{className:"form-control form-control text-end",type:"number",id:"amountBRUT",onChange:F,placeholder:L,min:i.minventa,max:i.balanceBRUT,value:i.valueBRUT,step:.5})}),e.jsx("div",{className:"col-6",children:e.jsx("input",{className:"form-control form-control text-end",type:"number",id:"amountUSDT",onChange:X,placeholder:k,min:i.minCompra,max:i.balanceUSDT,value:i.valueUSDT})})]})}),e.jsxs("div",{className:"card-footer border-0",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn d-flex  btn-success justify-content-between w-100",onClick:()=>q(),children:[re,e.jsx("svg",{className:"ms-4 scale5",width:"16",height:"16",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.35182 13.4965L5.35182 13.4965L5.33512 6.58823C5.33508 6.5844 5.3351 6.58084 5.33514 6.57759M5.35182 13.4965L5.83514 6.58306L5.33514 6.58221C5.33517 6.56908 5.33572 6.55882 5.33597 6.5545L5.33606 6.55298C5.33585 6.55628 5.33533 6.56514 5.33516 6.57648C5.33515 6.57684 5.33514 6.57721 5.33514 6.57759M5.35182 13.4965C5.35375 14.2903 5.99878 14.9324 6.79278 14.9305C7.58669 14.9287 8.22874 14.2836 8.22686 13.4897L8.22686 13.4896L8.21853 10.0609M5.35182 13.4965L8.21853 10.0609M5.33514 6.57759C5.33752 5.789 5.97736 5.14667 6.76872 5.14454C6.77041 5.14452 6.77217 5.14451 6.77397 5.14451L6.77603 5.1445L6.79319 5.14456L13.687 5.16121L13.6858 5.66121L13.687 5.16121C14.4807 5.16314 15.123 5.80809 15.1211 6.6022C15.1192 7.3961 14.4741 8.03814 13.6802 8.03626L13.6802 8.03626L10.2515 8.02798L23.4341 21.2106C23.9955 21.772 23.9955 22.6821 23.4341 23.2435C22.8727 23.8049 21.9625 23.8049 21.4011 23.2435L8.21853 10.0609M5.33514 6.57759C5.33513 6.57959 5.33514 6.58159 5.33514 6.5836L8.21853 10.0609M6.77407 5.14454C6.77472 5.14454 6.77537 5.14454 6.77603 5.14454L6.77407 5.14454Z",fill:"white",stroke:"white"})})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn d-flex  btn-danger justify-content-between w-100",onClick:()=>Q(),children:[ne,e.jsx("svg",{className:"ms-4 scale3",width:"16",height:"16",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M16.9638 11.5104L16.9721 14.9391L3.78954 1.7565C3.22815 1.19511 2.31799 1.19511 1.75661 1.7565C1.19522 2.31789 1.19522 3.22805 1.75661 3.78943L14.9392 16.972L11.5105 16.9637L11.5105 16.9637C10.7166 16.9619 10.0715 17.6039 10.0696 18.3978C10.0677 19.1919 10.7099 19.8369 11.5036 19.8388L11.5049 19.3388L11.5036 19.8388L18.3976 19.8554L18.4146 19.8555L18.4159 19.8555C18.418 19.8555 18.42 19.8555 18.422 19.8555C19.2131 19.8533 19.8528 19.2114 19.8555 18.4231C19.8556 18.4196 19.8556 18.4158 19.8556 18.4117L19.8389 11.5035L19.8389 11.5035C19.8369 10.7097 19.1919 10.0676 18.3979 10.0695C17.604 10.0713 16.9619 10.7164 16.9638 11.5103L16.9638 11.5104Z",fill:"white",stroke:"white"})})]})})]}),e.jsxs("div",{className:"d-flex mt-3 align-items-center",children:[e.jsx("div",{className:"form-check custom-checkbox me-3",children:e.jsx("label",{className:"form-check-label fs-14 font-w400",htmlFor:"customCheckBox1",children:"We recommend keeping ~ 21 TRX for transactions."})}),e.jsx("p",{className:"mb-0"})]})]})]})}),e.jsx("div",{className:"col-xl-6 col-sm-12 wow fadeInUp","data-wow-delay":"0.6s",children:e.jsxs("div",{className:"card price-list",children:[e.jsx("div",{className:"card-header border-0 pb-2",children:e.jsx("div",{className:"chart-title",children:e.jsx("h4",{className:"text-warning mb-0",children:"My Assets"})})}),e.jsx("div",{className:"card-body p-3 py-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center bg-warning-hover order-tbl",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"Token"}),e.jsx("th",{className:"text-center",children:"Amount"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{F({target:{value:i.balanceBRUT}})},children:[e.jsx("td",{className:"text-left",children:"BRUT"}),e.jsx("td",{children:i.balanceBRUT})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{X({target:{value:i.balanceUSDT}})},children:[e.jsx("td",{className:"text-left",children:"USDT"}),e.jsx("td",{children:i.balanceUSDT})]})]})]})})}),e.jsx("div",{className:"card-footer text-center py-3 border-0",children:e.jsxs("a",{href:"/",className:"btn-link text-black",children:["Show more ",e.jsx("i",{className:"fa fa-caret-right"})]})})]})})]})})})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Token:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+U.BRUT.address+"/code",children:U.BRUT.address}),e.jsx("br",{}),e.jsx("b",{children:"swap:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+U.BRUT_USDT.address+"/code",children:U.BRUT_USDT.address})]})})]})})]}),e.jsx(be,{...K})]})},Se=he()(Te);export{Se as default};
