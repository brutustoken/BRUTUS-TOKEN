import{a0 as c,a1 as d,V as t}from"./libs-CZASmHnA.js";import{c as o,u as a}from"./index-C-X4cowD.js";import"./web3-crypto-BAtjRPbI.js";let l=0,n=null;class h extends d.Component{constructor(e){super(e),this.state={precioTRX:.1594,precioBrut:0,varBrut:0,precioBrst:0,varBrst:0,misBRUT:0,misBRST:0,misBRGY:0,misBRLT:0,precioBrstUSD:0,imagerobots:[]},this.consultaPrecios=this.consultaPrecios.bind(this),this.subeobaja=this.subeobaja.bind(this),this.textoE=this.textoE.bind(this),this.estado=this.estado.bind(this)}componentDidMount(){const{t:e}=this.props;document.getElementById("tittle").innerText=e("inicio.tittle"),n=setInterval(()=>{Date.now()>=l&&(this.props.contrato.ready?l=Date.now()+60*1e3:l=Date.now()+3*1e3,this.estado())},3*1e3)}componentWillUnmount(){clearInterval(n)}subeobaja(e){var r=t.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("g",{filter:"url(#filter0_d2)",children:t.jsx("path",{d:"M5 16C5.91797 14.9157 8.89728 11.7277 10.5 10L16.5 13L23.5 4",stroke:"#2BC155",strokeWidth:"2",strokeLinecap:"round"})}),t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d2",x:"-3.05176e-05",y:"-6.10352e-05",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"2"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.172549 0 0 0 0 0.72549 0 0 0 0 0.337255 0 0 0 0.61 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),s=t.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("g",{filter:"url(#filter0_d)",children:t.jsx("path",{d:"M5 4C5.91797 5.08433 8.89728 8.27228 10.5 10L16.5 7L23.5 16",stroke:"#FF2E2E",strokeWidth:"2",strokeLinecap:"round"})}),t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d",x:"0",y:"0",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.jsx("feOffset",{dy:"1"}),t.jsx("feGaussianBlur",{stdDeviation:"2"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.180392 0 0 0 0 0.180392 0 0 0 0.61 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),i=r;return e<0&&(i=s),i}textoE(e){var r="success";return e<0&&(r="danger"),r}async consultaPrecios(){await fetch(o.BRUTUS_API+"precio/brut").then(e=>e.json()).then(e=>{this.setState({precioBrut:e.Data.usd,varBrut:e.Data.v24h})}).catch(e=>{console.log(e)}),await fetch(o.BRUTUS_API+"precio/brst").then(async e=>(await e.json()).Data).then(e=>{this.setState({precioTRX:e.usd/e.trx,varBrst:e.v24h,precioBrstUSD:e.usd})}).catch(e=>{console.log(e)})}async estado(){await this.consultaPrecios();let{contrato:e,accountAddress:r}=this.props;if(!e.ready)return;let s=a.normalizarNumero(await e.BRST_TRX_Proxy.RATE().call());this.setState({precioBrst:s}),e.BRST.balanceOf(r).call().then(i=>{this.setState({misBRST:a.normalizarNumero(i)})}).catch(console.error),e.BRUT.balanceOf(r).call().then(i=>{this.setState({misBRUT:a.normalizarNumero(i)})}).catch(console.error),r!=="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"&&(e.BRGY.balanceOf(r).call().then(i=>{this.setState({misBRGY:a.normalizarNumero(i,0)})}).catch(console.error),e.BRLT.balanceOf(r).call().then(i=>{this.setState({misBRLT:a.normalizarNumero(i,0)})}).catch(console.error))}render(){const{t:e}=this.props,r={minWidth:"425px",width:"100%",borderCollapse:"collapse"},s={borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd",padding:"8px"},i={...s,borderRight:"none"};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body pt-0",children:t.jsx("div",{className:"tab-content",id:"pills-tabContent",children:t.jsx("div",{className:"tab-pane fade show active",id:"pills-crypto",role:"tabpanel","aria-labelledby":"pills-crypto-tab",children:t.jsx("div",{className:"table-responsive dataTablemarket",children:t.jsxs("table",{id:"example",style:r,className:"table shadow-hover display",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:e("inicio.name")}),t.jsx("th",{className:"text-center",children:e("inicio.tokenB")}),t.jsx("th",{className:"text-center",children:e("inicio.totalB")}),t.jsx("th",{className:"text-center",children:e("inicio.usdValue")})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:s,children:t.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brut",children:[t.jsx("img",{src:"images/brut.png",width:"50px",alt:"brutus token"}),t.jsx("div",{style:{paddingLeft:"10px"},children:t.jsxs("span",{className:"text-muted ms-2",children:[t.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRUT"})," ","Brutus Token",t.jsx("br",{}),this.state.precioBrut," USDT"," ",this.subeobaja(this.state.varBrut),t.jsxs("span",{className:"text-"+this.textoE(this.state.varBrut),children:[this.state.varBrut.toFixed(3),"%"]})]})})]})}),t.jsx("td",{style:s,children:this.state.misBRUT}),t.jsxs("td",{style:s,children:[(this.state.misBRUT*this.state.precioBrut).toFixed(3)," ","USDT"]}),t.jsxs("td",{style:i,children:[(this.state.misBRUT*this.state.precioBrut).toFixed(3)," ","USD"]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:s,children:t.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brst",children:[t.jsx("img",{src:"images/brst.png",width:"50px",alt:"brutus tron staking"}),t.jsx("div",{style:{paddingLeft:"10px"},children:t.jsxs("span",{className:"text-muted ms-2",children:[t.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRST"})," ","Brutus Tron Staking",t.jsx("br",{}),this.state.precioBrst.toFixed(6)," TRX"," ",this.subeobaja(this.state.varBrst),t.jsxs("span",{className:"text-"+this.textoE(this.state.varBrst),children:[this.state.varBrst.toFixed(3),"%"]})]})})]})}),t.jsx("td",{style:s,children:this.state.misBRST.toLocaleString("en-US")}),t.jsxs("td",{style:s,children:[(this.state.misBRST*this.state.precioBrst).toLocaleString("en-US")," ","TRX"]}),t.jsxs("td",{style:i,children:[(this.state.misBRST*this.state.precioBrstUSD).toLocaleString("en-US")," ","USD"]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:s,children:t.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brgy",children:[t.jsx("img",{src:"images/brgy.png",width:"50px",alt:"brutus gallery"}),t.jsx("div",{style:{paddingLeft:"10px"},children:t.jsxs("span",{className:"text-muted ms-2",children:[t.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRGY"})," ","Brutus ",e("gallery"),t.jsx("br",{}),"10,000 NFT"]})})]})}),t.jsx("td",{style:s,children:this.state.misBRGY}),t.jsxs("td",{style:s,children:[this.state.misBRGY*1e4," NFT"]}),t.jsx("td",{style:i,children:"-0-"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{...s,borderBottom:"none"},children:t.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brlt",children:[t.jsx("img",{src:"images/brlt.png",width:"50px",alt:"brutus lottery"}),t.jsx("div",{style:{paddingLeft:"10px"},children:t.jsxs("span",{className:"text-muted ms-2",children:[t.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRLT"})," ","Brutus ",e("lottery"),t.jsx("br",{}),"100 TRX"]})})]})}),t.jsx("td",{style:{...s,borderBottom:"none"},children:this.state.misBRLT}),t.jsxs("td",{style:{...s,borderBottom:"none"},children:[this.state.misBRLT*100," TRX"]}),t.jsxs("td",{style:{...i,borderBottom:"none"},children:[(this.state.misBRLT*100*this.state.precioTRX).toFixed(1)," ","USD"]})]})]})]})})})})})})})})})}}const j=c()(h);export{j as default};
