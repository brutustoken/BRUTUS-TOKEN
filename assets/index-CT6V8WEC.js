import{T as Qe,C as et,B as j,j as e,H as Le,r as U,w as G,R as me,A as Ue,X as pe,a as he,D as le,b as de,c as Q,V as ee,d as te,L as ce,e as De,m as H,f as Oe,g as Fe,h as ue,i as xe,k as ze,s as ke,l as tt,n as at,o as st,p as nt,q as it,t as rt,u as ot,v as lt}from"./libs-jKMzZE4j.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();const We={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_NFT:"https://nft-metadata.brutusservices.com/v1",VITE_API_PROVIDERS_URL:"https://api-providers.brutusservices.com/main",VITE_API_URL:"https://brutusservices.com/api/v1",VITE_BOT_URL:"https://e-bot.brutusservices.com/main",VITE_LIST_API_KEY:"1d5c4392-2fd9-47bc-b46d-aefddfa2f59e,8e79433a-ad89-4257-93af-9b4907b3cec0,6d5e8bc1-57fd-4d67-83bf-cdf707d817ef,e2eb14c1-fcf6-4c01-9d3b-030b9e0dadae,78758074-0fb2-4686-8c71-4c7ce5552179",VITE_LIST_TRONQL:"iujetrtxbxoskh9l1cidv7clngnjnm,i3fcbz8s3xxeg8j32d309ucoud767u,wzp7hvwcuygmntwbns7jsl5lkkph37",VITE_SECRET:"d17721fd6d4114e056da64b8c033589cb188c793b27b720a9057371da8a7f8a0",VITE_TOKEN:"He2nszcDIVBW7ZhtGk1Z",VITE_USER_C:"9650f24d09200d8d0e1b31fd9eab8b55",VITE_USER_ID:"1598897599",VITE_WALLET_API:"TCmWBMhbndmmqF61RYa9s3HvpFt7MrA7Wu"},q=We;let _={WALLET_API:q.VITE_WALLET_API,BOT_URL:q.VITE_BOT_URL,BRUTUS_API:q.VITE_API_URL,apiProviders:q.VITE_API_PROVIDERS_URL,NFT_API:q.VITE_API_NFT,PRICE:q.VITE_API_URL+"precio/BRUT",market_brut:q.VITE_API_URL+"consulta/marketcap/brut",LIST_TRONQL:q.VITE_LIST_TRONQL,SC:"TMGnBtzQufLp4GvCMBqFQGcV6nsXFNrWcs",SC2:"TMzxRLeBwfhm8miqm5v2qPw3P8rVZUa3x6",ProxySC2:"TRSWzPDgkEothRpgexJv7Ewsqo66PCqQ55",ProxySC3:"TKSpw8UXhJYL2DGdBNPZjBfw3iRrVFAxBr",SC3:"TV2oWfCNLtLDxu1AGJ2D4QJhdWagJN5Xqk",SC4:"TKghr3aZvCbo41c8y5vUXofChF1gMmjTHr",USDT:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",USDD:"TXDk8mbtRbXeYuMNS83CfKPaYYT8XWv9Hz",BRUT:"TLGhEHUevHsfExxm4miyMxfmT5xumNr4BU",BRST:"TF8YgHqnJdWzCbUyouje3RYrdDKJYpGfB3",APENFT:"TFczxzPhnThNSqr5by8tvxsdCFRRz6cPNq",BRGY:"TGpQ3qap18rN1vMJj3pveMfqTeXDaKaDE7",BRLT:"TBCp8r6xdZ34w7Gm3Le5pAjPpA3hVvFZFU",SUNSWAPV3:"TXF1xDbVGdxFGbovmmmXvBGu8ZiE3Lq4mR"};const dt=["VITE_API_URL","VITE_BOT_URL","VITE_API_PROVIDERS_URL","VITE_WALLET_API"];dt.forEach(M=>{if(!We[M])throw new Error(`Falta variable de entorno: ${M}`)});const ct=async()=>await fetch(_.BRUTUS_API+"/selector/apikey").then(t=>t.json()).then(t=>{let a="";return t.ok&&t.apikey&&(a=t.apikey),a}).catch(t=>(console.log(t),"")),ut=(M=0)=>{let t=_.LIST_TRONQL;return t=t.split(","),M>t.length&&(M=t.length-1),"https://"+t[M]+".mainnet.tron.tronql.com/"},Xe=async(M,t=0)=>{const a=new Qe({fullHost:ut(t)});return a.setAddress(M),a},mt=(M={})=>et.AES.encrypt(JSON.stringify(M),"d17721fd6d4114e056da64b8c033589cb188c793b27b720a9057371da8a7f8a0").toString(),pt=async(M,t,a,s,i,n,l,d=!1)=>{t==="bandwidth"||t==="band"?t="band":t="energy";let r=s;(i==="h"||i==="hour"||i==="hora")&&(r=s+i),(i==="m"||i==="min"||i==="minutes"||i==="minutos")&&(r=s+"min");const h=await Xe();let b={wallet:M,resource:t,amount:a,duration:r,transaction:l,to_address:_.WALLET_API,precio:h.toSun(n),expire:Date.now()+500*1e3,id_api:"1598897599",token:"He2nszcDIVBW7ZhtGk1Z",dApp:d?1:0,referral:d||0,dapp_identif:0};const m=mt(b);return await fetch(_.BRUTUS_API+"/rent/energy",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:"9650f24d09200d8d0e1b31fd9eab8b55",DATA_ENCRYPT:m})}).then(g=>g.json()).catch(g=>(console.error(g),{result:!1,hash:l.txID,msg:"API-Error: "+g.toString()}))},ht=M=>new Promise(t=>setTimeout(t,M*1e3)),yt=(M,t=6)=>new j(M).shiftedBy(-t).toNumber(),bt=(M,t=6)=>new j(M).shiftedBy(t).dp(0).toString(10),L={keyQuery:ct,getTronweb:Xe,delay:ht,rentResource:pt,normalizarNumero:yt,numberToStringCero:bt},Be=({title:M,description:t,image:a})=>e.jsxs(Le,{children:[M&&e.jsx("title",{children:M}),t&&e.jsx("meta",{name:"description",content:t}),M&&e.jsx("meta",{property:"og:title",content:M}),t&&e.jsx("meta",{property:"og:description",content:t}),a&&e.jsx("meta",{property:"og:image",content:"/images/"+a})]}),re=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_subtractedValue",type:"uint256"}],name:"decreaseApproval",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_value",type:"uint256"}],name:"calcFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"oldBalanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_addedValue",type:"uint256"}],name:"increaseApproval",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint8"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],fe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_admin",type:"address"}],name:"changeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],xt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeTokenOTRO",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"MIN_DEPOSIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TIEMPO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_BALANCE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_PAY_BALANCE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_PAY_BALANCE_FAST",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_PAY_BALANCE_WHITE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_RR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRON_SOLICITADO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"Wallet_SR",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"asignarDisponible",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"asignarPerdida",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"completada",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"crearBRTS",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"descuentoRapido",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"donate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"esperaRetiro",outputs:[{internalType:"uint256",name:"order",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"gananciaDirecta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"iniciado",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"inicializar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"instaRetiro",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"largoSolicitudes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"misSolicitudes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"newOwnerBRTS",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"peticiones",outputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"uint256",name:"tiempo",type:"uint256"},{internalType:"uint256",name:"precio",type:"uint256"},{internalType:"uint256",name:"brst",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"precision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bool",name:"_fromOwner",type:"bool"}],name:"quemarBRTS",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"redimBRTS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"redimOTRO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"redimTRX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"retirar",outputs:[{internalType:"bool",name:"exitoso",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"retirarDisponible",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"retirarFrom",outputs:[{internalType:"bool",name:"exitoso",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"setDisponible",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_evilUser",type:"address"},{internalType:"bool",name:"_si_no",type:"bool"}],name:"setListaNegra",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_descuento",type:"uint256"},{internalType:"uint256",name:"_precision",type:"uint256"}],name:"setSalidaRapida",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tron_retiro",type:"uint256"}],name:"setTRON_RR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_dias",type:"uint256"}],name:"setTiempo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"_w",type:"address"}],name:"setWalletSR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_w",type:"address"},{internalType:"bool",name:"_sn",type:"bool"}],name:"setWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"solicitudRetiro",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"solicitudesPendientesGlobales",outputs:[{internalType:"uint256[]",name:"pGlobales",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"staking",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"todasSolicitudes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalDisponible",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newAdmin",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"verSolicitudPendiente",outputs:[{components:[{internalType:"address",name:"wallet",type:"address"},{internalType:"uint256",name:"tiempo",type:"uint256"},{internalType:"uint256",name:"precio",type:"uint256"},{internalType:"uint256",name:"brst",type:"uint256"}],internalType:"struct PoolBRSTv4.Peticion",name:"pt2",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],ft=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"}],name:"BuyToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"}],name:"SellToken",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"ChangeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeToken_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeToken_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"Token_1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"Token_2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance_token_1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"balance_token_2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"burnToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value_t1",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"buy_token",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"changeTokenOTRO",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"createToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token_1",type:"address"},{internalType:"address",name:"_token_2",type:"address"}],name:"inicializar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"redimTRX",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"redimToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"redimToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value_t2",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"sell_token",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newAdmin",type:"address"}],name:"transferOwnership_proxy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_newAdmin",type:"address"}],name:"transferOwnership_token",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_updater",type:"address"}],name:"updaterRate",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],gt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeToken_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"ChangeToken_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"}],name:"allowToken_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"}],name:"allowToken_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance_token_1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"balance_token_2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC20",type:"address"}],name:"changeTokenOTRO",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"descuentoRapido",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"iniciado",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"inicializar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"precision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"redimOTRO",outputs:[{internalType:"uint256",name:"valor",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"redimTRX",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"redimToken_1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"redimToken_2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value_t1",type:"uint256"}],name:"sell_token_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value_t2",type:"uint256"}],name:"sell_token_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_descuento",type:"uint256"},{internalType:"uint256",name:"_precision",type:"uint256"}],name:"setSalidaRapida",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"timeWhitelist",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newAdmin",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteListRetiro",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"whiteList_add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"whiteList_remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_time",type:"uint256"}],name:"whiteList_time",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],wt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"_premio",outputs:[{internalType:"uint256",name:"prix",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"beneficio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_cantidad",type:"uint256"}],name:"buyLoteria",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_beneficio",type:"uint256"},{internalType:"uint256",name:"_precicion",type:"uint256"}],name:"changeBeneficioTeam",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"changeWalletTeam",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractFastPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_nft",type:"uint256"}],name:"deleteVaul",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"iniciado",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"inicializar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastWiner",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"paso",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"periodo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"precicion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"precio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"premio",outputs:[{internalType:"uint256",name:"prix",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"premioTeam",outputs:[{internalType:"uint256",name:"prix",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proximaRonda",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"random",outputs:[{internalType:"uint256",name:"myNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_nft",type:"uint256"}],name:"reclamarValueNFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"retiroTRC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"address",name:"_TRC20",type:"address"}],name:"retiroTRC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"retiroToTeam",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_valorTrx",type:"uint256"}],name:"solicitarRetiroPool",outputs:[{internalType:"bool",name:"insta",type:"bool"},{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_fast",type:"bool"}],name:"sorteo",outputs:[{internalType:"uint256",name:"myNumber",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"bool",name:"_all",type:"bool"}],name:"terminarRetiroPool",outputs:[{internalType:"bool",name:"ret",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_valueTRX",type:"uint256"}],name:"toBRST",outputs:[{internalType:"uint256",name:"brst",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_valueBRST",type:"uint256"}],name:"toTRX",outputs:[{internalType:"uint256",name:"rtrx",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"toTeam",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenBRST",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenTRC721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"trxPooled",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressFAST",type:"address"}],name:"update_addressFAST",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressPOOL",type:"address"}],name:"update_addressPOOL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_precio",type:"uint256"}],name:"update_precio",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_periodo",type:"uint256"},{internalType:"uint256",name:"_proxRonda",type:"uint256"}],name:"update_tiempo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenBRST",type:"address"}],name:"update_tokenTRC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenTRC721",type:"address"}],name:"update_tokenTRC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_nft",type:"uint256"}],name:"valueNFT",outputs:[{internalType:"uint256",name:"tron",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"verRetirosP",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"walletTeam",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],He=({title:M="Alert",message:t="",type:a="info",autoShow:s=!0,onClose:i})=>{const[n,l]=U.useState(!1),[d,r]=U.useState(""),[h,b]=U.useState(M),m=U.useRef(""),f=U.useRef(null),g={info:{icon:"bi bi-info-circle-fill",color:"text-primary",bgColor:"bg-primary-subtle"},success:{icon:"bi bi-check-circle-fill",color:"text-success",bgColor:"bg-success-subtle"},warning:{icon:"bi bi-exclamation-triangle-fill",color:"text-warning",bgColor:"bg-warning-subtle"},error:{icon:"bi bi-x-circle-fill",color:"text-danger",bgColor:"bg-danger-subtle"}},N=g[a]||g.info,w=U.useCallback(()=>{f.current&&(new window.bootstrap.Modal(f.current).show(),l(!0))},[]),C=U.useCallback(()=>{if(f.current){const x=window.bootstrap.Modal.getInstance(f.current);x&&x.hide(),l(!1),i&&i()}},[i]);U.useEffect(()=>{t&&t!==m.current&&(r(t),b(M),m.current=t,s&&w())},[t,M,s,w]),U.useEffect(()=>()=>{if(f.current){const x=window.bootstrap.Modal.getInstance(f.current);x&&x.dispose()}},[]);const u=()=>{d&&w()};return e.jsxs(e.Fragment,{children:[d&&e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm",onClick:u,"aria-label":"Show last message",children:[e.jsx("i",{className:"bi bi-bell-fill me-2"}),"See Last Message"]}),e.jsx("div",{className:"modal fade",id:"alert",ref:f,tabIndex:"-1","aria-labelledby":"alertModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:`modal-header ${N.bgColor}`,children:[e.jsxs("h5",{className:`modal-title d-flex align-items-center ${N.color}`,id:"alertModalLabel",children:[e.jsx("i",{className:`${N.icon} me-2`}),h]}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:C})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:d})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:C,children:"Close"})})]})})})]})};let ge=0,Ce=null;class jt extends U.Component{constructor(t){super(t),this.state={precioTRX:.1594,precioBrut:0,varBrut:0,precioBrst:0,varBrst:0,misBRUT:0,misBRST:0,misBRGY:0,misBRLT:0,precioBrstUSD:0,imagerobots:[]},this.consultaPrecios=this.consultaPrecios.bind(this),this.subeobaja=this.subeobaja.bind(this),this.textoE=this.textoE.bind(this),this.estado=this.estado.bind(this)}componentDidMount(){const{t}=this.props;document.getElementById("tittle").innerText=t("inicio.tittle"),Ce=setInterval(()=>{Date.now()>=ge&&(this.props.contrato.ready?ge=Date.now()+60*1e3:ge=Date.now()+3*1e3,this.estado())},3*1e3)}componentWillUnmount(){clearInterval(Ce)}subeobaja(t){var a=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d2)",children:e.jsx("path",{d:"M5 16C5.91797 14.9157 8.89728 11.7277 10.5 10L16.5 13L23.5 4",stroke:"#2BC155",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d2",x:"-3.05176e-05",y:"-6.10352e-05",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.172549 0 0 0 0 0.72549 0 0 0 0 0.337255 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),s=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d)",children:e.jsx("path",{d:"M5 4C5.91797 5.08433 8.89728 8.27228 10.5 10L16.5 7L23.5 16",stroke:"#FF2E2E",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d",x:"0",y:"0",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.180392 0 0 0 0 0.180392 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),i=a;return t<0&&(i=s),i}textoE(t){var a="success";return t<0&&(a="danger"),a}async consultaPrecios(){await fetch(_.BRUTUS_API+"/precio/brut").then(t=>t.json()).then(t=>{this.setState({precioBrut:t.Data.usd,varBrut:t.Data.v24h})}).catch(t=>{console.log(t)}),await fetch(_.BRUTUS_API+"/precio/brst").then(async t=>(await t.json()).Data).then(t=>{this.setState({precioTRX:t.usd/t.trx,varBrst:t.v24h,precioBrstUSD:t.usd})}).catch(t=>{console.log(t)})}async estado(){await this.consultaPrecios();let{contrato:t,accountAddress:a}=this.props;if(!t.ready)return;let s=L.normalizarNumero(await t.BRST_TRX_Proxy.RATE().call());this.setState({precioBrst:s}),t.BRST.balanceOf(a).call().then(i=>{this.setState({misBRST:L.normalizarNumero(i)})}).catch(console.error),t.BRUT.balanceOf(a).call().then(i=>{this.setState({misBRUT:L.normalizarNumero(i)})}).catch(console.error),a!=="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"&&(t.BRGY.balanceOf(a).call().then(i=>{this.setState({misBRGY:L.normalizarNumero(i,0)})}).catch(console.error),t.BRLT.balanceOf(a).call().then(i=>{this.setState({misBRLT:L.normalizarNumero(i,0)})}).catch(console.error))}render(){const{t}=this.props,a={minWidth:"425px",width:"100%",borderCollapse:"collapse"},s={borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd",padding:"8px"},i={...s,borderRight:"none"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body pt-0",children:e.jsx("div",{className:"tab-content",id:"pills-tabContent",children:e.jsx("div",{className:"tab-pane fade show active",id:"pills-crypto",role:"tabpanel","aria-labelledby":"pills-crypto-tab",children:e.jsx("div",{className:"table-responsive dataTablemarket",children:e.jsxs("table",{id:"example",style:a,className:"table shadow-hover display",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("inicio.name")}),e.jsx("th",{className:"text-center",children:t("inicio.tokenB")}),e.jsx("th",{className:"text-center",children:t("inicio.totalB")}),e.jsx("th",{className:"text-center",children:t("inicio.usdValue")})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:s,children:e.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brut",children:[e.jsx("img",{src:"images/brut.png",width:"50px",alt:"brutus token"}),e.jsx("div",{style:{paddingLeft:"10px"},children:e.jsxs("span",{className:"text-muted ms-2",children:[e.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRUT"})," Brutus Token",e.jsx("br",{}),this.state.precioBrut," USDT ",this.subeobaja(this.state.varBrut),e.jsxs("span",{className:"text-"+this.textoE(this.state.varBrut),children:[this.state.varBrut.toFixed(3),"%"]})]})})]})}),e.jsx("td",{style:s,children:this.state.misBRUT}),e.jsxs("td",{style:s,children:[(this.state.misBRUT*this.state.precioBrut).toFixed(3)," USDT"]}),e.jsxs("td",{style:i,children:[(this.state.misBRUT*this.state.precioBrut).toFixed(3)," USD"]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:s,children:e.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brst",children:[e.jsx("img",{src:"images/brst.png",width:"50px",alt:"brutus tron staking"}),e.jsx("div",{style:{paddingLeft:"10px"},children:e.jsxs("span",{className:"text-muted ms-2",children:[e.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRST"})," Brutus Tron Staking",e.jsx("br",{}),this.state.precioBrst.toFixed(6)," TRX ",this.subeobaja(this.state.varBrst),e.jsxs("span",{className:"text-"+this.textoE(this.state.varBrst),children:[this.state.varBrst.toFixed(3),"%"]})]})})]})}),e.jsx("td",{style:s,children:this.state.misBRST.toLocaleString("en-US")}),e.jsxs("td",{style:s,children:[(this.state.misBRST*this.state.precioBrst).toLocaleString("en-US")," TRX"]}),e.jsxs("td",{style:i,children:[(this.state.misBRST*this.state.precioBrstUSD).toLocaleString("en-US")," USD"]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:s,children:e.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brgy",children:[e.jsx("img",{src:"images/brgy.png",width:"50px",alt:"brutus gallery"}),e.jsx("div",{style:{paddingLeft:"10px"},children:e.jsxs("span",{className:"text-muted ms-2",children:[e.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRGY"})," Brutus ",t("gallery"),e.jsx("br",{}),"10,000 NFT"]})})]})}),e.jsx("td",{style:s,children:this.state.misBRGY}),e.jsxs("td",{style:s,children:[this.state.misBRGY*1e4," NFT"]}),e.jsx("td",{style:i,children:"-0-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{...s,borderBottom:"none"},children:e.jsxs("a",{className:"market-title d-flex align-items-center",href:"/#/brlt",children:[e.jsx("img",{src:"images/brlt.png",width:"50px",alt:"brutus lottery"}),e.jsx("div",{style:{paddingLeft:"10px"},children:e.jsxs("span",{className:"text-muted ms-2",children:[e.jsx("b",{style:{color:"black",fontSize:"18px"},children:"BRLT"})," Brutus ",t("lottery"),e.jsx("br",{}),"100 TRX"]})})]})}),e.jsx("td",{style:{...s,borderBottom:"none"},children:this.state.misBRLT}),e.jsxs("td",{style:{...s,borderBottom:"none"},children:[this.state.misBRLT*100," TRX"]}),e.jsxs("td",{style:{...i,borderBottom:"none"},children:[(this.state.misBRLT*100*this.state.precioTRX).toFixed(1)," USD"]})]})]})]})})})})})})})})})}}const vt=G()(jt),Tt=[{label:"Hours",value:"hour"},{label:"Days",value:"day"}],Nt=[{label:"Last 7 ",value:"7"},{label:"Last 30 ",value:"30"},{label:"Last 90 ",value:"90"},{label:"Last 180 ",value:"180"},{label:"All ",value:"0"}],St=M=>{const[t,a]=U.useState({minCompra:1,minventa:.1,deposito:"Loading...",wallet:"Loading...",valueBRUT:"",valueUSDT:"",value:"",cantidad:0,tiempo:0,enBrutus:0,tokensEmitidos:0,totalCirculando:0,enPool:0,solicitado:0,data:[],temporalidad:"day",cantidadDatos:30,cambio24h:0,depositoUSDT:"BUY",depositoBRUT:"SELL",msj:{},balanceBRUT:0,balanceUSDT:0,precioBRUT:0}),s=U.useRef(null),i=U.useRef(null),n=U.useRef(0),l=U.useRef(!1);U.useEffect(()=>(l.current=!0,document.title="BRUT | Brutus Token",r(1e3,"day",30),C(),i.current=setInterval(()=>{Date.now()>=n.current&&(M.contrato.ready?n.current=Date.now()+60*1e3:n.current=Date.now()+3*1e3,m())},3*1e3),()=>{l.current=!1,i.current&&clearInterval(i.current),s.current&&(s.current.dispose(),s.current=null)}),[]);const d=y=>{a(S=>({...S,...y}))},r=async(y,S,P)=>{if(!document.getElementById("chartdiv")||(s.current&&(s.current.dispose(),s.current=null),!l.current))return;const o=me.new("chartdiv");s.current=o,o.setThemes([Ue.new(o)]);let R=o.container.children.push(pe.new(o,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));R.set("cursor",he.new(o,{behavior:"none"})).lineY.set("visible",!1);let A=0,z=A,W=o.interfaceColors.get("negative"),O=o.interfaceColors.get("positive"),X,_e,se;function $e($){A=$.value;let ie=$.date;A>=z?X=O:X=W,z=A;let Z={date:ie,value:A,color:X};return X!==_e&&(se||(se=Z),se.strokeSettings={stroke:X}),se=Z,_e=X,Z}async function Ge($){let ie=(await(await fetch(_.BRUTUS_API+"/chartdata/brut?temporalidad="+S+"&limite="+$)).json()).Data,Z=[];for(var be=ie.length-1;be>=0;--be)Z.push($e(ie[be]));return Z}let qe=R.xAxes.push(le.new(o,{baseInterval:{timeUnit:S,count:1},renderer:Q.new(o,{}),tooltip:de.new(o,{})})),Ye=R.yAxes.push(ee.new(o,{renderer:te.new(o,{})})),ne=R.series.push(ce.new(o,{name:"Series",xAxis:qe,yAxis:Ye,valueYField:"value",valueXField:"date"}));ne.strokes.template.set("templateField","strokeSettings");let ae=ne.set("tooltip",de.new(o,{labelText:"{valueY}"}));ae.on("pointTo",function(){let $=ae.get("background");$.set("fill",$.get("fill"))}),ae.get("background").adapters.add("fill",function($){return ae.dataItem?ae.dataItem.dataContext.color:$});let ye=R.set("scrollbarX",De.new(o,{orientation:"horizontal",height:30})),Ke=ye.chart.xAxes.push(le.new(o,{baseInterval:{timeUnit:S,count:1},renderer:Q.new(o,{})})),Ze=ye.chart.yAxes.push(ee.new(o,{renderer:te.new(o,{})})),Je=ye.chart.series.push(ce.new(o,{valueYField:"value",valueXField:"date",xAxis:Ke,yAxis:Ze})),Re=await Ge(P);l.current&&(ne.data.setAll(Re),Je.data.setAll(Re),ne.appear(y),R.appear(y,y/10))},h=async()=>{let{minCompra:y}=t;const{contrato:S,accountAddress:P,tronWeb:T}=M;let o=document.getElementById("amountUSDT").value;o=L.normalizarNumero(o.replace(/,/g,"."),0);let R=await S.USDT.allowance(P,S.BRUT_USDT.address).call();if(R<=0){let k=[{type:"address",value:S.BRUT_USDT.address},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],z=await T.transactionBuilder.triggerSmartContract(T.address.toHex(S.USDT.address),"approve(address,uint256)",{},k,T.address.toHex(P)),W=await T.transactionBuilder.extendExpiration(z.transaction,180);if(W=await window.tronLink.tronWeb.trx.sign(W).catch(O=>(d({msj:{title:"Error",message:O.toString()}}),!1)),!W)return;await T.trx.sendRawTransaction(W).then(O=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction hash: ",O.txid]})}})}),R=await S.USDT.allowance(P,S.BRUT_USDT.address).call()}if(R.remaining&&(R=R.remaining),R=L.normalizarNumero(R),R>=o)if(o>=y){let k=[{type:"uint256",value:L.numberToStringCero(o)},{type:"address",value:P}],z=await T.transactionBuilder.triggerSmartContract(T.address.toHex(S.BRUT_USDT.address),"buy_token(uint256,address)",{},k,T.address.toHex(P)),W=await T.transactionBuilder.extendExpiration(z.transaction,180);if(W=await window.tronLink.tronWeb.trx.sign(W).catch(O=>(d({msj:{title:"Error",message:O.toString()}}),!1)),!W)return;await T.trx.sendRawTransaction(W).then(O=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction ",O.txid]})}})}),document.getElementById("amountUSDT").value=""}else window.alert("Enter an amount greater than "+y+" USDT"),document.getElementById("amountUSDT").value=y;else R<=0?(document.getElementById("amountUSDT").value=y,window.alert("Not enough USDT")):(document.getElementById("amountUSDT").value=y,window.alert("invalid value"));m()},b=async()=>{const{minventa:y,balanceBRUT:S}=t,{contrato:P,accountAddress:T,tronWeb:o}=M;let R=document.getElementById("amountBRUT").value;R=L.normalizarNumero(R.replace(/,/g,"."),0);let k=await P.BRUT.allowance(T,P.BRUT_USDT.address).call();if(k<=0){let A=[{type:"address",value:P.BRUT_USDT.address},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],W=await o.transactionBuilder.triggerSmartContract(o.address.toHex(P.BRUT.address),"approve(address,uint256)",{},A,o.address.toHex(T)),O=await o.transactionBuilder.extendExpiration(W.transaction,180);if(O=await window.tronLink.tronWeb.trx.sign(O).catch(X=>(d({msj:{title:"Error",message:X.toString()}}),!1)),!O)return;await o.trx.sendRawTransaction(O).then(X=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction hash: ",X.txid]})}})}),k=await P.BRUT.allowance(T,P.BRUT_USDT.address).call()}if(k.remaining&&(k=k.remaining),k=L.normalizarNumero(k),R<y){document.getElementById("amountBRUT").value=y,d({msj:{title:"Error",message:"Place an amount greater than "+y+" BRUT"}});return}if(R>S){document.getElementById("amountBRUT").value=y,d({msj:{title:"Error",message:"Insuficient BRUT"}});return}if(k>=R){let A=[{type:"uint256",value:L.numberToStringCero(R)},{type:"address",value:T}],W=await o.transactionBuilder.triggerSmartContract(o.address.toHex(P.BRUT_USDT.address),"sell_token(uint256,address)",{},A,o.address.toHex(T)),O=await o.transactionBuilder.extendExpiration(W.transaction,180);if(O=await window.tronLink.tronWeb.trx.sign(O).catch(X=>(d({msj:{title:"Error",message:X.toString()}}),!1)),!O)return;await o.trx.sendRawTransaction(O).then(X=>{d({msj:{title:"Result",message:e.jsxs(e.Fragment,{children:["Transacction ",X.txid]})}})}),document.getElementById("amountBRUT").value=""}},m=async()=>{const{accountAddress:y,contrato:S}=M;let P,T;if(!S.ready)return;let o=await S.USDT.allowance(y,S.BRUT_USDT.address).call();o.remaining&&(o=o.remaining),o.length>=1&&(o=o[0]),o=L.normalizarNumero(o);let R=await S.USDT.balanceOf(y).call();R=L.normalizarNumero(R),o>=R&&o!==0?P="Buy BRUT":P="Approve buy";let k=await S.BRUT.allowance(y,S.BRUT_USDT.address).call();k.remaining&&(k=k.remaining),k.length>=1&&(k=k[0]),k=L.normalizarNumero(k);let A=await S.BRUT.balanceOf(y).call();A=L.normalizarNumero(A),k>=A&&k!==0?T="Sell BRUT":T="Approve sell";let z=await S.BRUT.totalSupply().call();z=L.normalizarNumero(z),d({depositoUSDT:P,depositoBRUT:T,balanceBRUT:A,balanceUSDT:R,wallet:y,totalCirculando:z})},f=y=>{let S=y.target.value;r(500,S,t.cantidadDatos),d({temporalidad:S})},g=y=>{let S=y.target.value;r(500,t.temporalidad,S),d({cantidadDatos:S})},N=async y=>{let S=y.target.value;await C(),d({valueBRUT:S,valueUSDT:parseFloat((S*t.precioBRUT).toPrecision(8))})},w=async y=>{let S=y.target.value;await C(),d({valueUSDT:S,valueBRUT:parseFloat((S/t.precioBRUT).toPrecision(8))})},C=async()=>{let y=_.PRICE,S,P=0,T;try{S=await fetch(y).then(k=>k.json()).catch(k=>{console.error(k)}),T=S.Data.usd,P=S.Data.v24h}catch(k){console.log(k),T=t.precioBRUT,P=t.cambio24h}let o=0,R=0;try{S=await fetch(_.market_brut).then(k=>k.json()).catch(k=>{console.error(k)}),o=S.marketcap.usdt,R=S.circulatingSupply}catch(k){console.log(k),o=t.enBrutus,R=t.tokensEmitidos}return d({cambio24h:new j(P).dp(3).toString(10),precioBRUT:new j(T).dp(2).toString(10),enBrutus:o,tokensEmitidos:R}),S},{contrato:u}=M;let{minCompra:x,minventa:v,msj:I,totalCirculando:D,precioBRUT:E,cambio24h:F,enBrutus:c,depositoBRUT:p,depositoUSDT:B}=t;return x="Min. "+x+" USDT",v="Min. "+v+" BRUT",e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"tab-content",id:"nav-tabContent",children:e.jsx("div",{className:"tab-pane fade show active",id:"nav-bitcoin",role:"tabpanel","aria-labelledby":"nav-bitcoin-tab",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-9 col-xxl-9 wow fadeInLeft","data-wow-delay":"0.2s",children:e.jsxs("div",{className:"card coin-content",children:[e.jsxs("div",{className:"card-header border-0 flex-wrap",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"heading m-0",children:"BRUT Chart"}),e.jsx("span",{className:"fs-16",children:"Brutus Algorithmic Trading Robot "})]}),e.jsx("div",{className:"dropdown bootstrap-select",children:e.jsx("select",{className:"image-select default-select dashboard-select","aria-label":"Default",tabIndex:"0",defaultValue:"usdt",style:{background:"rgb(3 0 8 / 49%)"},children:e.jsx("option",{value:"usdt",children:"USD (Tether)"})})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-18 d-block mb-2",children:"Price"}),e.jsxs("h4",{className:"fs-20 font-w600",children:["$",E]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"24h% change"}),e.jsxs("h4",{className:"font-w600 text-success",children:[F,e.jsx("i",{className:"fa-solid fa-caret-up ms-1 text-success"})]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"Circulating"}),e.jsx("h4",{className:"font-w600",children:(D*1).toFixed(2)})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"Market Cap"}),e.jsxs("h4",{className:"font-w600",children:["$",(c*1).toFixed(2)]})]})]})}),e.jsx("div",{className:"mb-3",id:"chartdiv",style:{height:"400px",backgroundColor:"white"}}),e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:t.cantidadDatos,onChange:g,children:Nt.map(y=>e.jsx("option",{value:y.value,children:y.label},y.label.toString()))})," | ",e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:t.temporalidad,onChange:f,children:Tt.map(y=>e.jsx("option",{value:y.value,children:y.label},y.label.toString()))})]})]})}),e.jsx("div",{className:"col-xl-3 col-xxl-3 col-sm-6 wow fadeInRight","data-wow-delay":"0.3s",children:e.jsx("div",{className:"card  digital-cash",children:e.jsxs("div",{className:"card-body ",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"media d-block",children:[e.jsx("img",{src:"images/brut.png",width:"100%",alt:"brutus token"}),e.jsxs("div",{className:"media-content",children:[e.jsx("h4",{className:"mt-0 mt-md-4 fs-20 font-w700 text-black mb-0",children:"Automated Trading"}),e.jsx("span",{className:"font-w600 text-black",children:"Brutus"}),e.jsxs("span",{className:"my-4 fs-16 font-w600 d-block",children:["1 BRUT = ",t.precioBRUT," USD"]}),e.jsx("p",{className:"text-start",children:"The Brutus Token is a Tron-based token whose value is backed by an automated trading strategy that uses backtesting and capital management to maximize profits and minimize losses. The value of the Brutus Token is pegged to USDT, so its value remains stable in USD terms."})]})]})}),e.jsx("div",{className:"card-footer p-2 border-0",children:e.jsx("a",{href:"https://brutus.finance/brutusblog.html",className:"btn btn-link text-primary",children:"Read more"})})]})})}),e.jsx("div",{className:"col-xl-6 col-sm-6 wow fadeInUp","data-wow-delay":"0.4s",children:e.jsxs("div",{className:"card quick-trade",children:[e.jsx("div",{className:"card-header pb-0 border-0 flex-wrap",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"heading mb-0",children:["Quick Trade: BRUT"," <-> ","USDT"]}),e.jsx("p",{className:"mb-0 fs-14",children:"without fees"})]})}),e.jsx("div",{className:"card-body pb-0",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx("input",{className:"form-control form-control text-end",type:"number",id:"amountBRUT",onChange:N,placeholder:v,min:t.minventa,max:t.balanceBRUT,value:t.valueBRUT,step:.5})}),e.jsx("div",{className:"col-6",children:e.jsx("input",{className:"form-control form-control text-end",type:"number",id:"amountUSDT",onChange:w,placeholder:x,min:t.minCompra,max:t.balanceUSDT,value:t.valueUSDT})})]})}),e.jsxs("div",{className:"card-footer border-0",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn d-flex  btn-success justify-content-between w-100",onClick:()=>h(),children:[B,e.jsx("svg",{className:"ms-4 scale5",width:"16",height:"16",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.35182 13.4965L5.35182 13.4965L5.33512 6.58823C5.33508 6.5844 5.3351 6.58084 5.33514 6.57759M5.35182 13.4965L5.83514 6.58306L5.33514 6.58221C5.33517 6.56908 5.33572 6.55882 5.33597 6.5545L5.33606 6.55298C5.33585 6.55628 5.33533 6.56514 5.33516 6.57648C5.33515 6.57684 5.33514 6.57721 5.33514 6.57759M5.35182 13.4965C5.35375 14.2903 5.99878 14.9324 6.79278 14.9305C7.58669 14.9287 8.22874 14.2836 8.22686 13.4897L8.22686 13.4896L8.21853 10.0609M5.35182 13.4965L8.21853 10.0609M5.33514 6.57759C5.33752 5.789 5.97736 5.14667 6.76872 5.14454C6.77041 5.14452 6.77217 5.14451 6.77397 5.14451L6.77603 5.1445L6.79319 5.14456L13.687 5.16121L13.6858 5.66121L13.687 5.16121C14.4807 5.16314 15.123 5.80809 15.1211 6.6022C15.1192 7.3961 14.4741 8.03814 13.6802 8.03626L13.6802 8.03626L10.2515 8.02798L23.4341 21.2106C23.9955 21.772 23.9955 22.6821 23.4341 23.2435C22.8727 23.8049 21.9625 23.8049 21.4011 23.2435L8.21853 10.0609M5.33514 6.57759C5.33513 6.57959 5.33514 6.58159 5.33514 6.5836L8.21853 10.0609M6.77407 5.14454C6.77472 5.14454 6.77537 5.14454 6.77603 5.14454L6.77407 5.14454Z",fill:"white",stroke:"white"})})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn d-flex  btn-danger justify-content-between w-100",onClick:()=>b(),children:[p,e.jsx("svg",{className:"ms-4 scale3",width:"16",height:"16",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M16.9638 11.5104L16.9721 14.9391L3.78954 1.7565C3.22815 1.19511 2.31799 1.19511 1.75661 1.7565C1.19522 2.31789 1.19522 3.22805 1.75661 3.78943L14.9392 16.972L11.5105 16.9637L11.5105 16.9637C10.7166 16.9619 10.0715 17.6039 10.0696 18.3978C10.0677 19.1919 10.7099 19.8369 11.5036 19.8388L11.5049 19.3388L11.5036 19.8388L18.3976 19.8554L18.4146 19.8555L18.4159 19.8555C18.418 19.8555 18.42 19.8555 18.422 19.8555C19.2131 19.8533 19.8528 19.2114 19.8555 18.4231C19.8556 18.4196 19.8556 18.4158 19.8556 18.4117L19.8389 11.5035L19.8389 11.5035C19.8369 10.7097 19.1919 10.0676 18.3979 10.0695C17.604 10.0713 16.9619 10.7164 16.9638 11.5103L16.9638 11.5104Z",fill:"white",stroke:"white"})})]})})]}),e.jsxs("div",{className:"d-flex mt-3 align-items-center",children:[e.jsx("div",{className:"form-check custom-checkbox me-3",children:e.jsx("label",{className:"form-check-label fs-14 font-w400",htmlFor:"customCheckBox1",children:"We recommend keeping ~ 21 TRX for transactions."})}),e.jsx("p",{className:"mb-0"})]})]})]})}),e.jsx("div",{className:"col-xl-6 col-sm-12 wow fadeInUp","data-wow-delay":"0.6s",children:e.jsxs("div",{className:"card price-list",children:[e.jsx("div",{className:"card-header border-0 pb-2",children:e.jsx("div",{className:"chart-title",children:e.jsx("h4",{className:"text-warning mb-0",children:"My Assets"})})}),e.jsx("div",{className:"card-body p-3 py-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center bg-warning-hover order-tbl",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"Token"}),e.jsx("th",{className:"text-center",children:"Amount"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{N({target:{value:t.balanceBRUT}})},children:[e.jsx("td",{className:"text-left",children:"BRUT"}),e.jsx("td",{children:t.balanceBRUT})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{w({target:{value:t.balanceUSDT}})},children:[e.jsx("td",{className:"text-left",children:"USDT"}),e.jsx("td",{children:t.balanceUSDT})]})]})]})})}),e.jsx("div",{className:"card-footer text-center py-3 border-0",children:e.jsxs("a",{href:"/",className:"btn-link text-black",children:["Show more ",e.jsx("i",{className:"fa fa-caret-right"})]})})]})})]})})})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Token:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+u.BRUT.address+"/code",children:u.BRUT.address}),e.jsx("br",{}),e.jsx("b",{children:"swap:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+u.BRUT_USDT.address+"/code",children:u.BRUT_USDT.address})]})})]})})]}),e.jsx(He,{...I})]})},_t=G()(St);j.config({DECIMAL_PLACES:6,ROUNDING_MODE:j.ROUND_HALF_DOWN});const K=e.jsx("img",{src:"images/cargando.gif",height:"20px",alt:"loading..."}),Rt=[{label:"Hours",value:"hour"},{label:"Days",value:"day"}],kt=[{label:"Last 7 ",value:"7"},{label:"Last 30 ",value:"30"},{label:"Last 90 ",value:"90"},{label:"Last 180 ",value:"180"},{label:"All ",value:"0"}],Bt=[{label:"Last 6 ",value:"6"},{label:"Last 12 ",value:"12"},{label:"Last 24 ",value:"24"},{label:"Last 48 ",value:"48"},{label:"Last 72 ",value:"72"},{label:"All ",value:"0"}];let we=[],Me=0,je=0,Ee=null;class Ct extends U.Component{constructor(t){super(t);const{t:a}=this.props;this.state={minCompra:1,minventa:1,deposito:a("loading")+"...",valueBRST:"",valueTRX:"",cantidad:0,tiempo:0,enBrutus:0,tokensEmitidos:0,enPool:0,solicitado:0,data:[],solicitudes:0,solicitudesV3:0,temporalidad:a("day"),cantidadDatos:30,dias:a("loading")+"...",days:[{days:30,amount:0,time:0,APY:0},{days:90,amount:0,time:0,APY:0},{days:180,amount:0,time:0,APY:0},{days:360,amount:0,time:0,APY:0}],varBrut:0,precioBrst:0,varBrst:0,misBRST:0,dataBRST:[],contractEnergy:0,userEnergy:0,ModalTitulo:"",ModalBody:"",tiempoPromediado:30,promE7to1day:0,resultCalc:0,diasCalc:360,brutCalc:1e3,balanceBRST:0,balanceTRX:0,balanceUSDT:new j(0),balanceUSDD:new j(0),globDepositos:[],eenergy:62e3,energyOn:!1,total_required:0,isOwner:!1,isAdmin:!1,interesCompuesto:0,crecimientoPorcentual:0,precioUSDT:new j(0),precioUSDD:new j(0),retiroRapido:new j(0),penalty:0,from:"trx",to:"brst",par:"trx_brst",selector:"trx",rapida:!0,valueFrom:new j(0),valueTo:new j(0)},this.subeobaja=this.subeobaja.bind(this),this.textoE=this.textoE.bind(this),this.consultaPrecio=this.consultaPrecio.bind(this),this.grafico=this.grafico.bind(this),this.compra=this.compra.bind(this),this.venta=this.venta.bind(this),this.estado=this.estado.bind(this),this.preClaim=this.preClaim.bind(this),this.handleChange=this.handleChange.bind(this),this.handleChange2=this.handleChange2.bind(this),this.handleChangeDias=this.handleChangeDias.bind(this),this.handleChangeCalc=this.handleChangeCalc.bind(this),this.llenarBRST=this.llenarBRST.bind(this),this.llenarTRX=this.llenarTRX.bind(this),this.rentEnergy=this.rentEnergy.bind(this),this.handleCurrencyChangeFrom=this.handleCurrencyChangeFrom.bind(this),this.handleCurrencyChangeTo=this.handleCurrencyChangeTo.bind(this),this.calcExchange=this.calcExchange.bind(this),this.exchangeTokens=this.exchangeTokens.bind(this),this.suawpTokenFromTRX=this.suawpTokenFromTRX.bind(this),this.calculoEnergy=this.calculoEnergy.bind(this),this.preExchange=this.preExchange.bind(this),this.costEnergy=this.costEnergy.bind(this)}componentDidMount(){const{t}=this.props;document.getElementById("tittle").innerText=t("brst.tittle"),Ee=setInterval(()=>{Date.now()>=je&&(this.props.contrato.ready?je=Date.now()+60*1e3:je=Date.now()+3*1e3,this.estado())},3*1e3)}componentWillUnmount(){this.root&&this.root.dispose(),clearInterval(Ee)}handleCurrencyChangeFrom=t=>{let{to:a}=this.state;const s=t.target.value;s==="usdt"&&(a="brst"),s==="usdd"&&(a="brst"),s===a&&(s==="trx"?a="brst":a="trx"),document.getElementById("currencySelectTo").value=a,this.setState({from:s,to:a,par:s+"_"+a}),this.calcExchange(!1,s+"_"+a)};handleCurrencyChangeTo=t=>{let{from:a}=this.state;const s=t.target.value;s==="trx"&&(a="brst"),s==="brst"&&(a="trx"),document.getElementById("currencySelectFrom").value=a,this.setState({from:a,to:s,par:a+"_"+s}),this.calcExchange(!0,s+"_"+a)};handleChange(t){let a=t.target.value;this.grafico(500,a,this.state.cantidadDatos,document.getElementById("selector").value),this.setState({temporalidad:a})}handleChange2(t){let a=parseInt(t.target.value);this.grafico(500,this.state.temporalidad,a,document.getElementById("selector").value),this.setState({cantidadDatos:a})}handleChangeDias(t){let a=t.target.value,s=(this.state.brutCalc*this.state.precioBrst*(this.state.promE7to1day/100)).toFixed(6);s=s*parseInt(a),this.setState({diasCalc:parseInt(a),resultCalc:s})}handleChangeCalc(t){let a=t.target.value,s=(a*this.state.precioBrst*(this.state.promE7to1day/100)).toFixed(6);s=s*parseInt(this.state.diasCalc),this.setState({brutCalc:a,resultCalc:s})}calcExchange(t=!1,a="trx_brst"){let{precioBrst:s,precioUSDT:i,precioUSDD:n}=this.state,l=t?"amountTo":"amountFrom",d=new j(0);if(i.toNumber()<=0||n.toNumber()<=0)return d;let r=document.getElementById(l).value.replace(/,/g,".");switch(r=new j(parseFloat(r)),t?this.setState({valueTo:r}):this.setState({valueFrom:r}),a){case"usdt_brst":d=r.div(i),d=d.div(s);break;case"brst_usdt":d=r.times(i),d=d.times(s);break;case"usdd_brst":d=r.div(n),d=d.div(s);break;case"brst_usdd":d=r.times(n),d=d.times(s);break;case"brst_trx":d=r.times(s);break;case"trx_brst":d=r.div(s);break}return l=t?"amountFrom":"amountTo",isNaN(d.toString(10))||(document.getElementById(l).value=d.toString(10)),t?this.setState({valueFrom:d}):this.setState({valueTo:d}),d}async estado(){let{tiempoPromediado:t,rapida:a}=this.state;const{contrato:s,accountAddress:i,tronWeb:n,t:l}=this.props;if(!s.ready)return;let d=L.normalizarNumero(await s.BRST_TRX_Proxy.RATE().call());this.setState({precioBrst:d}),s.BRST_TRX_Proxy.TRON_BALANCE().call().then(o=>{this.setState({enBrutus:L.normalizarNumero(o)})}),s.BRST_TRX_Proxy.TRON_PAY_BALANCE().call().then(o=>{this.setState({enPool:L.normalizarNumero(o)})}),s.BRST_TRX_Proxy.TRON_SOLICITADO().call().then(o=>{this.setState({solicitado:L.normalizarNumero(o)})}),s.BRST.totalSupply().call().then(o=>{this.setState({tokensEmitidos:L.normalizarNumero(o)})});let r=await s.BRST.balanceOf(i).call().then(o=>(o=L.normalizarNumero(o),this.setState({balanceBRST:o,misBRST:o}),o));s.USDT.balanceOf(i).call().then(o=>{this.setState({balanceUSDT:L.normalizarNumero(o)})}),s.USDD.balanceOf(i).call().then(o=>{this.setState({balanceUSDD:L.normalizarNumero(o,18)})}),this.consultaPrecio(),Me===0&&(this.grafico(1e3,"day",90,"trx"),Me++),parseInt(this.state.resultCalc)===1e3&&this.handleChangeCalc({target:{value:r}}),parseInt(document.getElementById("hold").value)===0&&(document.getElementById("hold").value=r);let h=await n.trx.getUnconfirmedBalance(i).catch(async o=>(console.log(o.toString()),await n.trx.getBalance(i)));h=h/10**6,this.setState({balanceTRX:h});let b=await n.trx.getAccountResources(i).catch(o=>(console.log(o.toString()),{})),m=parseInt(await s.BRST_TRX_Proxy_fast.descuentoRapido().call())/parseInt(await s.BRST_TRX_Proxy_fast.precision().call())*100;this.setState({penalty:m});let f=L.normalizarNumero((await s.loteria._premio().call())[0]),g=parseInt(await s.BRST_TRX_Proxy_fast.balance_token_1().call());g=new j(g).shiftedBy(-6).minus(f),g<0&&(g=new j(0)),this.setState({retiroRapido:g});let N=0;b.EnergyLimit&&(N=b.EnergyLimit),b.EnergyUsed&&(N-=b.EnergyUsed),this.setState({userEnergy:N});let w=65e3;h>=1&&(w=(await this.calculoEnergy(a)).dp(0).toNumber()),this.setState({eenergy:w});let C=(await this.costEnergy(w)).toString(10);this.setState({useTrx:C}),fetch(_.BRUTUS_API+"/chartdata/brst?temporalidad=day&limite="+t).then(async o=>(await o.json()).Data).then(o=>{if(o.length>0){let R=o.reduce((z,W)=>z+W.value,0);R=new j(R/o.length).toNumber();let k=this.state.varBrst;if(o.length>=2){const z=o[o.length-1].value;k=(o[0].value-z)/z*100,k=k/o.length}let A=(1+k/100)**t;this.setState({promE7to1day:R,crecimientoPorcentual:k,interesCompuesto:A})}}).catch(o=>(console.error(o),!1)),fetch(_.BRUTUS_API+"/chartdata/brst?temporalidad=day&limite=361").then(async o=>(await o.json()).Data).then(o=>{if(o.length>0){we=[];let R=[1,15,30,90,180,360];for(let k=0;k<R.length;k++)we.push({dias:R[k],trx:r*o[0].value-r*o[R[k]].value,diario:(r*o[0].value-r*o[R[k]].value)/R[k]});this.setState({dataBRST:o})}}).catch(o=>(console.error(o),[])),s.BRST_TRX_Proxy.MIN_DEPOSIT().call().then(o=>{this.setState({minCompra:L.normalizarNumero(o)})}),s.BRST.allowance(i,s.BRST_TRX_Proxy.address).call().then(o=>{this.setState({depositoBRUT:L.normalizarNumero(o)})}),fetch(_.BRUTUS_API+"/precio/usdt").then(o=>o.json()).then(o=>{this.setState({precioUSDT:new j(o.Data.oneTron)})}).catch(o=>{console.log(o)}),fetch(_.BRUTUS_API+"/precio/usdd").then(o=>o.json()).then(o=>{this.setState({precioUSDD:new j(o.Data.oneTron)})}).catch(o=>{console.log(o)});let u=await s.BRST_TRX_Proxy.todasSolicitudes(i).call(),x=[];for(let o=0;o<u.length;o++)x.push(parseInt(u[o]));let v=await s.BRST_TRX_Proxy.solicitudesPendientesGlobales().call();v=v[0];let I=[],D=parseInt(await s.BRST_TRX_Proxy.TIEMPO().call())*1e3,E=(D/(86400*1e3)).toPrecision(2),F=["TWVVi4x2QNhRJyhqa7qrwM4aSXnXoUDDwY","TWqsREyZUtPkBNrzSSCZ9tbzP3U5YUxppf","TB7RTxBPY4eMvKjceXj8SWjVnZCrWr4XvF"],c=new j(await n.trx.getBalance(s.BRST_TRX_Proxy.address)).shiftedBy(-6),p=new j(0);this.setState({espera:D,dias:E});let B=i===n.address.fromHex(await s.BRST_TRX_Proxy.owner().call()),y=!1;F.indexOf(i)>=0&&(y=!0),this.setState({isOwner:B,isAdmin:y});for(let o=0;o<v.length;o++){let R=await s.BRST_TRX_Proxy.verSolicitudPendiente(v[o]).call();R=R[0];let k=parseInt(R.tiempo)*1e3,A=new Date(k+D),z=((k+D-Date.now())/(86400*1e3)).toPrecision(2),W=e.jsx("b",{children:"login with an authorized account"}),O=new j(parseInt(R.brst)).times(parseInt(R.precio)).shiftedBy(-6);if(p=p.plus(O.dp(0)),x.includes(parseInt(v[o]))&&z>0&&(W=e.jsxs("button",{className:"btn btn-info ms-4 disabled",disabled:!0,"aria-disabled":"true",children:["Processing Unfreeze TRX "," ",e.jsx("i",{className:"bi bi-exclamation-circle"})]})),(x.includes(parseInt(v[o]))&&z<=0||B)&&(c.toNumber()<O.shiftedBy(-6).dp(6).toNumber()?W=e.jsxs("button",{className:"btn btn-info ms-4 disabled",disabled:!0,"aria-disabled":"true",children:[l("We continue to unfreeze TRX")+" "," ",e.jsx("i",{className:"bi bi-exclamation-circle"})]}):W=e.jsxs("button",{className:"btn btn-primary ms-4",onClick:async()=>{await this.preClaim(parseInt(v[o])),this.estado()},children:[l("claim")+" "," ",e.jsx("i",{className:"bi bi-award"})]})),z<=0&&(z=0),x.includes(parseInt(v[o]))||B||y){let X=e.jsx(e.Fragment,{});(B||y)&&(X=e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"Wallet: "}),e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/address/"+n.address.fromHex(R.wallet),children:n.address.fromHex(R.wallet)}),e.jsx("br",{})]})),I[o]=e.jsxs("div",{className:"row mt-4",id:"sale-"+parseInt(v[o]),children:[e.jsx("div",{className:"col-12 mb-2",children:e.jsxs("h4",{className:"fs-20 text-black",children:[l("brst.sale",{number:parseInt(v[o])})," "," -> ",parseInt(R.brst)/10**6," BRST"]})}),e.jsx("div",{className:"col-sm-6 mb-2",children:e.jsxs("p",{className:"mb-0 fs-14",children:[X,e.jsx("b",{children:"Total: "}),O.shiftedBy(-6).dp(6).toString(10)," TRX",e.jsx("br",{}),e.jsx("b",{children:l("brst.price")})," ",parseInt(R.precio)/10**6," TRX",e.jsx("br",{}),e.jsx("b",{children:l("brst.available")})," ",A.toString()]})}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("p",{className:"mb-0 fs-14",children:[l("brst.unStaking",{days:z}),O.shiftedBy(-6).dp(6).toString(10)," TRX"]}),e.jsx("br",{}),W]}),e.jsx("div",{className:"col-12 mb-2",children:e.jsx("hr",{})})]},"glob"+parseInt(v[o]))}}p=p.shiftedBy(-6).toString(10);let S=e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",id:"wallet",placeholder:"wallet to white list"}),e.jsx("button",{className:"btn btn-warning",onClick:async()=>{let o=[{type:"address",value:n.address.toHex(document.getElementById("wallet"))}],R="whiteList_add(address)";try{let k=await n.transactionBuilder.triggerSmartContract(n.address.toHex(s.BRST_TRX_Proxy_fast.address),R,{},o,n.address.toHex(i)),A=await n.transactionBuilder.extendExpiration(k.transaction,180);A=await window.tronLink.tronWeb.trx.sign(A),A=await n.trx.sendRawTransaction(A),console.log(A),alert("Transaction "+A.result+" hash: "+A.txid)}catch(k){console.log(k),alert(k.toString())}},children:"ADD"}),e.jsx("button",{className:"btn btn-danger",onClick:async()=>{let o=[{type:"address",value:n.address.toHex(document.getElementById("wallet"))}],R="whiteList_remove(address)";try{let k=await n.transactionBuilder.triggerSmartContract(n.address.toHex(s.BRST_TRX_Proxy_fast.address),R,{},o,n.address.toHex(i)),A=await n.transactionBuilder.extendExpiration(k.transaction,180);A=await window.tronLink.tronWeb.trx.sign(A),A=await n.trx.sendRawTransaction(A),console.log(A),alert("Transaction "+A.result+" hash: "+A.txid)}catch(k){console.log(k),alert(k.toString())}},children:"REMOVE"}),e.jsx("br",{}),"TRON_RR: ",L.normalizarNumero(await s.BRST_TRX_Proxy.TRON_RR().call()),e.jsx("br",{})]});this.setState({solicitudes:I.length}),(y||B)&&I.push(e.jsx("div",{children:B?S:e.jsx(e.Fragment,{})},"admin-panel")),I.push(e.jsxs("div",{children:["Balance Pool: ",c.toString(10)," trx"]},"balnce-panel")),this.setState({globDepositos:I,total_required:p});let P=!1,T=0;if(P=await fetch(_.BOT_URL).then(o=>o.json()).then(o=>o.available).catch(()=>!1),P){let o=await fetch(_.BOT_URL+"/available").then(R=>R.json());o.av_energy.length>0&&(T=o.av_energy[0].available),T<o.total_energy_pool*.01?P=!1:P=!0}this.setState({energyOn:P})}async preClaim(t){let{userEnergy:a,energyOn:s}=this.state;const{tronWeb:i,contrato:n,accountAddress:l,t:d}=this.props;let r=0,h=[{type:"uint256",value:t}],b="retirar(uint256)";const m={};var f=await i.transactionBuilder.triggerConstantContract(i.address.toHex(n.BRST_TRX_Proxy.address),b,m,h,i.address.toHex(l)).catch(()=>({}));if(f.energy_used?r+=f.energy_used:r+=8e4,r>a&&s){let g=r-a;g<32e3?g=32e3:g+=1e3;let N={resource:"energy",amount:g,duration:"5min"},w=await fetch(_.BOT_URL+"/prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}).then(x=>x.json()),C=new j(w.price).dp(6),u=d("brst.alert.energy",{returnObjects:!0});this.setState({ModalTitulo:u[0],ModalBody:e.jsxs(e.Fragment,{children:[u[1]," ",e.jsxs("b",{children:[r," ",u[2]]}),u[3],e.jsxs("b",{children:[a," ",u[2]]})," ",u[4]," ",e.jsxs("b",{children:[g," ",u[2]]}),u[5],e.jsxs("b",{children:[C.toString(10)," TRX"]}),u[6],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:async()=>{if(await this.rentEnergy(g)){let x=[{type:"uint256",value:t}],v="retirar(uint256)";const I={};let D=await i.transactionBuilder.triggerSmartContract(i.address.toHex(n.BRST_TRX_Proxy.address),v,I,x,i.address.toHex(l)),E=await i.transactionBuilder.extendExpiration(D.transaction,180);E=await window.tronLink.tronWeb.trx.sign(E).catch(F=>{this.setState({ModalTitulo:"Error",ModalBody:F.toString()}),window.$("#mensaje-brst").modal("show")}),E=await i.trx.sendRawTransaction(E).then(()=>{this.setState({ModalTitulo:"Result",ModalBody:e.jsxs(e.Fragment,{children:["Retiro is Done ",E.txid,e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:d("accept")})]})}),window.$("#mensaje-brst").modal("show")})}},children:u[7]})]})}),window.$("#mensaje-brst").modal("show")}else{let g=[{type:"uint256",value:t}],N="retirar(uint256)";const w={};let C=await i.transactionBuilder.triggerSmartContract(i.address.toHex(n.BRST_TRX_Proxy.address),N,w,g,i.address.toHex(l)),u=await i.transactionBuilder.extendExpiration(C.transaction,180);u=await window.tronLink.tronWeb.trx.sign(u).catch(x=>{this.setState({ModalTitulo:"Error",ModalBody:x.toString()}),window.$("#mensaje-brst").modal("show")}),u=await i.trx.sendRawTransaction(u).then(()=>{this.setState({ModalTitulo:"Result",ModalBody:e.jsxs(e.Fragment,{children:["Retiro is Done ",u.txid,e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:d("accept")})]})}),window.$("#mensaje-brst").modal("show")})}}subeobaja(t){var a=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d2)",children:e.jsx("path",{d:"M5 16C5.91797 14.9157 8.89728 11.7277 10.5 10L16.5 13L23.5 4",stroke:"#2BC155",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d2",x:"-3.05176e-05",y:"-6.10352e-05",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.172549 0 0 0 0 0.72549 0 0 0 0 0.337255 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),s=e.jsxs("svg",{width:"29",height:"22",viewBox:"0 0 29 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{filter:"url(#filter0_d)",children:e.jsx("path",{d:"M5 4C5.91797 5.08433 8.89728 8.27228 10.5 10L16.5 7L23.5 16",stroke:"#FF2E2E",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d",x:"0",y:"0",width:"28.5001",height:"22.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),e.jsx("feOffset",{dy:"1"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.180392 0 0 0 0 0.180392 0 0 0 0.61 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),i=a;return t<0&&(i=s),i}textoE(t){var a="success";return t<0&&(a="danger"),a}async consultaPrecio(){return await fetch(_.BRUTUS_API+"/precio/brst").then(async t=>(await t.json()).Data).then(t=>(this.setState({varBrst:t.v24h}),t)).catch(t=>(console.log(t),0))}llenarBRST(){document.getElementById("amountTo").value=this.state.balanceBRST}llenarTRX(){document.getElementById("amountFrom").value=this.state.balanceTRX}async calculoEnergy(t=!1){let a=document.getElementById("currencySelectFrom").value,s=document.getElementById("currencySelectTo").value,{userEnergy:i}=this.state;const{tronWeb:n,accountAddress:l,contrato:d}=this.props;function r(m){let f="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb";switch(m){case"usdt":f="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t";break;case"usdd":f="TXDk8mbtRbXeYuMNS83CfKPaYYT8XWv9Hz";break;default:f=!1;break}return f}let h=new j(0),b=r(a);if(b){let m=function(c,p){let B=new Array(p.length).fill(0),y=c;for(let P=0;P<p.length&&y>0;P++)B[P]=1,y--;let S=0;for(;y>0;)B[S]++,y--,S=(S+1)%p.length;return B},f="TCFNp179Lg46D16zKoumd4Poa2WFFdtqYj";const g={method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({value:f,visible:!0})};let N=await fetch("https://api.trongrid.io/wallet/getcontract",g).then(c=>c.json()).catch(c=>(console.error(c),{}));N.consume_user_resource_percent?N=N.consume_user_resource_percent/100:N=1;let w=n.contract(L.abi_TOKEN,b),C=parseInt(await w.decimals().call()),u=await w.allowance(l,f).call();if(u.remaining&&(u=u.remaining),u=parseInt(u),u<=1*1e6){let c=[{type:"address",value:n.address.toHex(f)},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],p="approve(address,uint256)";const B={};let y=await n.transactionBuilder.triggerConstantContract(n.address.toHex(b),p,B,c,n.address.toHex(l)).catch(()=>({}));y.energy_used&&(h=h.plus(y.energy_used))}let x=new j(1).shiftedBy(C).dp(0).toString(10),v=await fetch("https://rot.endjgfsv.link/swap/router?fromToken="+b+"&toToken=T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb&amountIn="+x+"&typeList=SUNSWAP_V3,SUNSWAP_V2,WTRX").then(c=>c.json()).then(c=>c.data[0]),I=[{type:"address[]",value:v.tokens},{type:"string[]",value:v.poolVersions},{type:"uint256[]",value:m(v.tokens.length,v.poolVersions)},{type:"uint24[]",value:v.poolFees},{type:"(uint256,uint256,address,uint256)",value:[new j(v.amountIn).shiftedBy(C).dp(0).toString(10),new j(v.amountOut).times(.995).shiftedBy(6).dp(0).toString(10),n.address.toHex(l).replace(/41/g,"0x"),(parseInt(Date.now()/1e3)+100).toString(10)]}],D="swapExactInput(address[],string[],uint256[],uint24[],(uint256,uint256,address,uint256))";const E={feeLimit:1e4*1e6,callValue:0};let F=await n.transactionBuilder.triggerConstantContract(n.address.toHex(f),D,E,I,n.address.toHex(l)).catch(()=>({}));F.energy_used&&(h=h.plus(F.energy_used*N))}if(s==="brst"){let m=[],f="staking()";const g={callValue:1e6};let N=await n.transactionBuilder.triggerConstantContract(n.address.toHex(d.BRST_TRX_Proxy.address),f,g,m,n.address.toHex(l)).catch(()=>({}));N.energy_used&&(h=h.plus(N.energy_used))}else{let m=[{type:"uint256",value:"1000000"}],f=d.BRST_TRX_Proxy.address;t&&(f=d.BRST_TRX_Proxy_fast.address);let g="esperaRetiro(uint256)";t&&(g="sell_token_2(uint256)");const N={};let w=await n.transactionBuilder.triggerConstantContract(n.address.toHex(f),g,N,m,n.address.toHex(l)).catch(()=>({}));w.energy_used&&(console.log("retiro ",w.energy_used,w),h=h.plus(w.energy_used))}return h=h.plus(1e3),console.log("necesary ",h.toString(10)),h=h.minus(i),console.log("requerido ",h.toString(10)),h.toNumber()<=0?h=new j(0):h.toNumber()<32e3&&(h=new j(32e3)),console.log("send ",h.toString(10)),h}async costEnergy(t){if(t=new j(t).dp(0),t.toNumber()===0)return new j(0);let a=await fetch(_.BOT_URL+"/prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:"energy",amount:t.toString(10),duration:"5min"})}).then(i=>i.json()).catch(i=>(console.log(i),!1));if(!a)return!1;let s=new j(a.price).dp(6);return this.setState({useTrx:s.toString(10)}),s}async rentEnergy(t){j.isBigNumber(t)||(t=new j(t)),t=t.dp(0).toNumber();const{tronWeb:a,accountAddress:s,t:i}=this.props;let{energyOn:n}=this.state;if(!n)return!1;if(t<=0)return!0;t<32e3&&(t=32e3),this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Transaction Alert ",K]}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction if you agree to pay for the energy lease."})}),window.$("#mensaje-brst").modal("show");let l=!1,d=await this.costEnergy(t);if(!d)return!1;const r=await a.transactionBuilder.sendTrx(_.WALLET_API,a.toSun(d),s),h=await window.tronWeb.trx.sign(r).catch(m=>(this.setState({ModalTitulo:"Transaction failed",ModalBody:e.jsxs(e.Fragment,{children:[m.toString(),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:"Close"})]})}),window.$("#mensaje-brst").modal("show"),!1));if(!h)return!1;this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Processing your order ",K]}),ModalBody:e.jsx(e.Fragment,{children:"One of our robots is going to pick up your energy to deliver it to you as soon as possible, this will not take long please wait."})}),window.$("#mensaje-brst").modal("show");let b=await L.rentResource(s,"energy",t,"5","min",d,h);return b.result?(this.setState({ModalTitulo:i("brst.alert.done",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[i("brst.alert.done",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("button",{type:"button","data-bs-dismiss":"modal",className:"btn btn-success",children:i("brst.alert.done",{returnObjects:!0})[2]})]})}),window.$("#mensaje-brst").modal("show"),l=!0):(this.setState({ModalTitulo:i("brst.alert.error",{returnObjects:!0})[0],ModalBody:i("brst.alert.error",{returnObjects:!0,hash:b.hash,msg:b.msg})[1]}),window.$("#mensaje-brst").modal("show")),l}async preExchange(t=!1){let{userEnergy:a}=this.state,s=(await this.calculoEnergy(t)).dp(0),i=await this.costEnergy(s);console.log(s.toString(10)),s.toNumber()>0?(this.setState({ModalTitulo:"Energy Notice",ModalBody:e.jsxs(e.Fragment,{children:["This operation requires ",e.jsxs("b",{children:[s.plus(a).dp(0).toNumber().toLocaleString("en-US")," energy"]}),e.jsx("br",{}),e.jsx("br",{}),"you have ",e.jsxs("b",{children:[a.toLocaleString("en-US")," energy"]}),e.jsx("br",{}),"Rent ",e.jsxs("b",{children:[s.toNumber().toLocaleString("en-US")," energy"]})," for ",e.jsxs("b",{children:[i.toString(10)," TRX"]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:async()=>{await this.rentEnergy(s)&&this.exchangeTokens(t)},children:"Rent Energy "}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:async()=>{this.exchangeTokens(t)},children:"Proceed without renting energy "})]})}),window.$("#mensaje-brst").modal("show")):this.exchangeTokens(t)}async exchangeTokens(t=!1){let a=document.getElementById("currencySelectFrom").value,s=document.getElementById("currencySelectTo").value;switch(a+"_"+s){case"usdt_brst":this.suawpTokenFromTRX(0);break;case"usdd_brst":this.suawpTokenFromTRX(1);break;case"brst_trx":this.venta(t);break;default:this.compra();break}}async suawpTokenFromTRX(t=0){const{tronWeb:a,accountAddress:s,t:i}=this.props;let{precioUSDT:n,precioUSDD:l}=this.state,d=t===0?"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t":"TXDk8mbtRbXeYuMNS83CfKPaYYT8XWv9Hz",r=t===0?n:l,h="TCFNp179Lg46D16zKoumd4Poa2WFFdtqYj",b=a.contract(L.abi_SUNSWAP,h),m=a.contract(L.abi_TOKEN,d),f=parseInt(await m.decimals().call()),g=new j(parseInt(await m.balanceOf(s).call())).shiftedBy(-f),N=document.getElementById("amountFrom").value;if(N=N.replace(/,/g,"."),N=new j(N),g.dp(2).toNumber()<1||N.toNumber()>g.toNumber())return this.setState({ModalTitulo:"ALERT",ModalBody:e.jsxs(e.Fragment,{children:["Sorry, you don't have enough ",await m.name().call()," to complete this operation."]})}),window.$("#mensaje-brst").modal("show"),"false";let w=await m.allowance(s,h).call();if(w.remaining&&(w=w.remaining),w=parseInt(w),w<=g.toNumber()){this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Token Alert ",K]}),ModalBody:e.jsx(e.Fragment,{children:"Approve unlimited future exchanges"})}),window.$("#mensaje-brst").modal("show");let F=[{type:"address",value:a.address.toHex(h)},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],c="approve(address,uint256)";const p={};let B=await a.transactionBuilder.triggerSmartContract(a.address.toHex(m.address),c,p,F,a.address.toHex(s)),y=await a.transactionBuilder.extendExpiration(B.transaction,180);if(y=await window.tronLink.tronWeb.trx.sign(y).catch(S=>(this.setState({ModalTitulo:i("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:i("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+S.toString()}),window.$("#mensaje-brst").modal("show"),!1)),!y||(y=await a.trx.sendRawTransaction(y).then(()=>(this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Token Alert ",K]}),ModalBody:e.jsx(e.Fragment,{children:"Approval done, continue the process"})}),window.$("#mensaje-brst").modal("show"),!0)).catch(S=>(this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Error",K]}),ModalBody:e.jsx(e.Fragment,{children:S.toString()})}),window.$("#mensaje-brst").modal("show"),!1)),!y))return}let C=await fetch("https://rot.endjgfsv.link/swap/router?fromToken="+d+"&toToken=T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb&amountIn="+N.shiftedBy(f).dp(0).toString(10)+"&typeList=SUNSWAP_V3,SUNSWAP_V2,WTRX").then(F=>F.json()).then(F=>F.data[0]);function u(F,c){let p=new Array(c.length).fill(0),B=F;for(let S=0;S<c.length&&B>0;S++)p[S]=1,B--;let y=0;for(;B>0;)p[y]++,B--,y=(y+1)%c.length;return p}let x=[{type:"address[]",value:C.tokens},{type:"string[]",value:C.poolVersions},{type:"uint256[]",value:u(C.tokens.length,C.poolVersions)},{type:"uint24[]",value:C.poolFees},{type:"(uint256,uint256,address,uint256)",value:[new j(C.amountIn).shiftedBy(f).dp(0).toString(10),new j(C.amountOut).times(.995).shiftedBy(6).dp(0).toString(10),a.address.toHex(s).replace(/41/g,"0x"),(parseInt(Date.now()/1e3)+100).toString(10)]}],v="swapExactInput(address[],string[],uint256[],uint24[],(uint256,uint256,address,uint256))";const I={feeLimit:1e4*1e6,callValue:0};let D=await a.transactionBuilder.triggerSmartContract(a.address.toHex(b.address),v,I,x,a.address.toHex(s)),E=await a.transactionBuilder.extendExpiration(D.transaction,180);E=await window.tronLink.tronWeb.trx.sign(E).catch(F=>(this.setState({ModalTitulo:i("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:i("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+F.toString()}),window.$("#mensaje-brst").modal("show"),!1)),E&&(E=await a.trx.sendRawTransaction(E).then(()=>{this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Swap Alert ",K]}),ModalBody:e.jsx(e.Fragment,{children:"Swap done, continue the process"})}),window.$("#mensaje-brst").modal("show")}),await L.delay(3),this.compra(N.div(r)))}async compra(t=new j(0)){const{tronWeb:a,contrato:s,accountAddress:i,t:n}=this.props;if(t.toNumber()<=0&&(t=parseFloat(document.getElementById("amountFrom").value),t=new j(t)),t=t.shiftedBy(6).dp(0).toNumber(),t<=0){this.setState({ModalTitulo:n("brst.alert.errorInput",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[n("brst.alert.errorInput",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:n("close")})]})});return}const{minCompra:l}=this.state;if(await a.trx.getUnconfirmedBalance()>=t)if(t>=l){let r=[],h="staking()";const b={callValue:t};let m=await a.transactionBuilder.triggerSmartContract(a.address.toHex(s.BRST_TRX_Proxy.address),h,b,r,a.address.toHex(i)),f=await a.transactionBuilder.extendExpiration(m.transaction,180);if(f=await window.tronLink.tronWeb.trx.sign(f).catch(g=>(this.setState({ModalTitulo:n("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:n("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+g.toString()}),window.$("#mensaje-brst").modal("show"),!1)),!f)return;f=await a.trx.sendRawTransaction(f).then(g=>{if(g.result)this.setState({ModalTitulo:n("brst.alert.compra",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[n("brst.alert.compra",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:n("accept")})]})}),window.$("#mensaje-brst").modal("show");else return this.setState({ModalTitulo:n("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:n("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+g.transaction.txID.toString()}),window.$("#mensaje-brst").modal("show"),!1}).catch(g=>(this.setState({ModalTitulo:n("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:n("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+g.toString()}),window.$("#mensaje-brst").modal("show"),!1))}else document.getElementById("amountFrom").value=l,this.setState({ModalTitulo:n("error"),ModalBody:n("brst.alert.errGreater",{returnObjects:!0,min:l})[0]}),window.$("#mensaje-brst").modal("show");else document.getElementById("amountFrom").value="",this.setState({ModalTitulo:n("error"),ModalBody:n("brst.alert.errFunds",{returnObjects:!0,min:l})[0]}),window.$("#mensaje-brst").modal("show");await L.delay(5),this.estado()}async venta(t){const{t:a}=this.props,{minventa:s}=this.state;let i=document.getElementById("amountFrom").value;i=i.replace(/,/g,"."),i=new j(i).shiftedBy(6);let{accountAddress:n,contrato:l,tronWeb:d}=this.props,r=d.address.toHex(l.BRST_TRX_Proxy.address);t&&(r=d.address.toHex(l.BRST_TRX_Proxy_fast.address));let h=await l.BRST.allowance(n,r).call();if(h=parseInt(h),h<=i.toNumber()){this.setState({ModalTitulo:e.jsx(e.Fragment,{children:"BRST Aproval"}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction to confirm Token Aproval"})}),window.$("#mensaje-brst").modal("show");let b=[{type:"address",value:r},{type:"uint256",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"}],m="approve(address,uint256)";const f={};let g=await d.transactionBuilder.triggerSmartContract(d.address.toHex(l.BRST.address),m,f,b,d.address.toHex(n)),N=await d.transactionBuilder.extendExpiration(g.transaction,180);N=await window.tronLink.tronWeb.trx.sign(N).catch(w=>{this.setState({ModalTitulo:"Error",ModalBody:w.toString()}),window.$("#mensaje-brst").modal("show")}),N=await d.trx.sendRawTransaction(N).then(()=>{this.setState({ModalTitulo:e.jsx(e.Fragment,{children:"Result"}),ModalBody:e.jsxs(e.Fragment,{children:["BRST Aproval is Done ",N.txid]})}),window.$("#mensaje-brst").modal("show")}),h=await l.BRST.allowance(n,r).call(),h=parseInt(h)}if(h>=i.toNumber())if(i.toNumber()>=s){this.setState({ModalTitulo:e.jsxs(e.Fragment,{children:["Withdrawal process ",K]}),ModalBody:e.jsx(e.Fragment,{children:"sign the following transaction to confirm your withdrawal."})}),window.$("#mensaje-brst").modal("show");let b=[{type:"uint256",value:i.toString(10)}],m="esperaRetiro(uint256)";t&&(m="sell_token_2(uint256)");const f={};let g=await d.transactionBuilder.triggerSmartContract(r,m,f,b,d.address.toHex(n)),N=await d.transactionBuilder.extendExpiration(g.transaction,180);N=await window.tronLink.tronWeb.trx.sign(N).catch(w=>{this.setState({ModalTitulo:"Error",ModalBody:w.toString()}),window.$("#mensaje-brst").modal("show")}),N=await d.trx.sendRawTransaction(N).then(()=>{this.setState({ModalTitulo:"Operation result",ModalBody:e.jsxs(e.Fragment,{children:["Your withdrawal was successfully processed ",e.jsx("a",{href:"https://tronscan.org/#/transaction/"+N.txid,rel:"noreferrer noopener",target:"_blank",children:N.txid}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:a("accept")})]})}),window.$("#mensaje-brst").modal("show")}),t||document.getElementById("request-brst").scrollIntoView()}else this.setState({ModalTitulo:"Info",ModalBody:`Enter a value greater than ${s} BRST`}),window.$("#mensaje-brst").modal("show"),document.getElementById("amountFrom").value=s;else i>h?h<=0?(this.setState({ModalTitulo:"Info",ModalBody:"You do not have enough aproved funds in your account you place at least "+s+" BRST"}),window.$("#mensaje-brst").modal("show")):(this.setState({ModalTitulo:"Info",ModalBody:"You must leave 21 TRX free in your account to make the transaction"}),window.$("#mensaje-brst").modal("show")):(this.setState({ModalTitulo:"Info",ModalBody:"You must leave 21 TRX free in your account to make the transaction"}),window.$("#mensaje-brst").modal("show")),document.getElementById("amountFrom").value=s;this.estado()}async grafico(t,a,s,i){let{precioBrst:n,precioUSDT:l,precioUSDD:d}=this.state;if(!document.getElementById("chartdiv-brst"))return;this.root&&this.root.dispose();const r=me.new("chartdiv-brst");r._logo.dispose(),r.setThemes([Ue.new(r)]);let h=r.container.children.push(pe.new(r,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));h.set("cursor",he.new(r,{behavior:"none"})).lineY.set("visible",!1);let m=r.interfaceColors.get("negative"),f=r.interfaceColors.get("positive"),g=0,N,w;function C(P,T){let o=P.value;if(T){let A=P.valor_alt.find(z=>z.coin===T);A?o=A.valor:o=0}let R=m;o>=g&&(R=f),g=o;let k={date:P.date,value:o,color:R};return R!==N&&(w||(w=k),w.strokeSettings={stroke:R}),w=k,N=R,k}let u=n;switch(i){case"usdt":u=u*l;break;case"usdd":u=u*d;break;default:i=!1;break}let x={date:Date.now(),value:u};async function v(P){let T=await fetch(_.BRUTUS_API+"/chartdata/brst?temporalidad="+a+"&limite="+P).then(async R=>(await R.json()).Data).catch(()=>!1);if(T){g=0,N="",w="";let R=[];for(var o=T.length-1;o>=0;--o)R.push(C(T[o],i));return R.push(x),R}else return!1}let I=h.xAxes.push(le.new(r,{baseInterval:{timeUnit:a,count:1},renderer:Q.new(r,{}),tooltip:de.new(r,{})})),D=h.yAxes.push(ee.new(r,{renderer:te.new(r,{})})),E=h.series.push(ce.new(r,{name:"Series",xAxis:I,yAxis:D,valueYField:"value",valueXField:"date"}));E.strokes.template.set("templateField","strokeSettings");let F=E.set("tooltip",de.new(r,{labelText:"{valueY}"}));F.on("pointTo",function(){let P=F.get("background");P.set("fill",P.get("fill"))}),F.get("background").adapters.add("fill",function(P){return F.dataItem?F.dataItem.dataContext.color:P});let c=h.set("scrollbarX",De.new(r,{orientation:"horizontal",height:40})),p=c.chart.xAxes.push(le.new(r,{baseInterval:{timeUnit:a,count:1},renderer:Q.new(r,{})})),B=c.chart.yAxes.push(ee.new(r,{renderer:te.new(r,{})})),y=c.chart.series.push(ce.new(r,{valueYField:"value",valueXField:"date",xAxis:p,yAxis:B})),S=await v(s);S&&(E.data.setAll(S),y.data.setAll(S)),E.appear(t),h.appear(t,t/10),this.root=r}render(){const{contrato:t,t:a}=this.props;let{from:s,to:i,valueFrom:n,precioBrst:l,minCompra:d,minventa:r,days:h,diasCalc:b,temporalidad:m,tiempoPromediado:f,solicitudes:g,globDepositos:N,crecimientoPorcentual:w,userEnergy:C,rapida:u,penalty:x,retiroRapido:v,dias:I,balanceUSDT:D,balanceUSDD:E,balanceBRST:F,balanceTRX:c,valueTo:p}=this.state;d="Min. "+d+" "+s.toUpperCase(),r="Min. "+r+" "+i.toUpperCase();let B;m==="hour"?B=Bt:B=kt;let y=e.jsx(e.Fragment,{});s+"_"+i=="brst_trx"&&(y=e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-12 text-center",children:[e.jsx("input",{type:"checkbox",checked:u,readOnly:!0,onClick:()=>{this.setState({rapida:!u})},style:{cursor:"pointer"}})," ",e.jsx("b",{children:"Quick:"})," request up to ",e.jsxs("b",{children:[v.dp(1).toString(10)," TRX"]})," with a ",e.jsxs("b",{children:[x,"% fee."]}),e.jsx("br",{}),e.jsx("input",{type:"checkbox",checked:!u,readOnly:!0,onClick:()=>{this.setState({rapida:!u})},style:{cursor:"pointer"}})," ",e.jsx("b",{children:"Regular:"})," request the ",e.jsx("b",{children:"total"})," with a ",e.jsxs("b",{children:[I," days"]})," waiting period."]})}));let S=e.jsxs("button",{className:"btn btn-success",style:{width:"100%"},onClick:()=>this.preExchange(u),children:["Swap ",this.state.from.toUpperCase()+" -> "+this.state.to.toUpperCase()]});i==="trx"&&u&&v.toNumber()<p.toNumber()&&(S=e.jsx("button",{className:"btn btn-warning",style:{width:"100%"},children:"Enter a lower amount or change to regular withdrawal"})),n.toNumber()<1&&(S=e.jsxs("button",{className:"btn btn-warning",style:{width:"100%"},children:["The minimum to operate is ",1," ",s.toUpperCase()]}));let P=c;switch(s){case"usdt":P=D;break;case"usdd":P=E;break;case"brst":P=F;break}return n.toNumber()>P&&(S=e.jsxs("button",{className:"btn btn-danger",style:{width:"100%"},children:["Not enough ",s.toUpperCase()," top up to proceed"]})),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"tab-content",id:"nav-tabContent",children:e.jsx("div",{className:"tab-pane fade show active",id:"nav-bitcoin",role:"tabpanel","aria-labelledby":"nav-bitcoin-tab",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-9 col-xxl-9 wow fadeInLeft","data-wow-delay":"0.2s",children:e.jsxs("div",{className:"card coin-content",children:[e.jsxs("div",{className:"card-header border-0 flex-wrap",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"heading m-0",children:a("tokenChart",{token:"BRST"})}),e.jsx("span",{className:"fs-16",children:"Brutus Tron Staking "})]}),e.jsx("div",{className:"dropdown bootstrap-select",children:e.jsxs("select",{className:"image-select default-select dashboard-select",id:"selector","aria-label":"Default",tabIndex:"0",style:{background:"rgb(3 0 8 / 20%)"},onInput:T=>{console.log(T.target.value),this.grafico(500,this.state.temporalidad,this.state.cantidadDatos,document.getElementById("selector").value)},children:[e.jsx("option",{value:"trx",children:"TRX (Tron)"}),e.jsx("option",{value:"usdd",children:"USDD (Decentralized USD)"}),e.jsx("option",{value:"usdt",children:"USD (Tether)"})]})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-18 d-block mb-2",children:a("price")}),e.jsxs("h4",{className:"fs-20 font-w600",children:[this.state.precioBrst," TRX"]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:"24h% change"}),e.jsxs("h4",{className:"font-w600 text-success",children:[this.state.varBrst.toFixed(4),e.jsx("i",{className:"fa-solid fa-caret-up ms-1 text-success"})]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:a("circulating")}),e.jsxs("h4",{className:"font-w600",children:[(this.state.tokensEmitidos*1).toFixed(2)," BRST"]})]}),e.jsxs("div",{className:"price-content",children:[e.jsx("span",{className:"fs-14 d-block mb-2",children:a("endorse")}),e.jsxs("h4",{className:"font-w600",children:[(this.state.enBrutus*1).toFixed(2)," TRX"]})]})]})}),e.jsx("div",{className:"mb-3",id:"chartdiv-brst",style:{height:"400px",backgroundColor:"white"}}),e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:this.state.cantidadDatos,onChange:this.handleChange2,children:B.map(T=>e.jsx("option",{value:T.value,children:T.label},T.label.toString()))})," | ",e.jsx("select",{className:"btn-secondary style-1 default-select",style:{backgroundColor:"white"},value:this.state.temporalidad,onChange:this.handleChange,children:Rt.map(T=>e.jsx("option",{value:T.value,children:T.label},T.label.toString()))})]})]})}),e.jsx("div",{className:"col-xl-3 col-xxl-3 col-sm-6 wow fadeInRight","data-wow-delay":"0.3s",children:e.jsxs("div",{className:"card digital-cash",children:[e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"media d-block",children:[e.jsx("img",{onClick:()=>{const{tronWeb:T,accountAddress:o}=this.props;this.setState({ModalTitulo:a("brst.alert.donate",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:["TRX:",e.jsx("input",{type:"number",id:"trxD",className:"form-control mb-3",placeholder:"Amount"}),e.jsx("button",{type:"button",className:"btn btn-success w-100 mb-3",onClick:async()=>{let R=document.getElementById("trxD").value;R=new j(R).shiftedBy(6).dp(0);let k=[],A="donate()";const z={callValue:R};let W=await T.transactionBuilder.triggerSmartContract(T.address.toHex(t.BRST_TRX_Proxy.address),A,z,k,T.address.toHex(o)),O=await T.transactionBuilder.extendExpiration(W.transaction,180);O=await window.tronLink.tronWeb.trx.sign(O).catch(X=>(this.setState({ModalTitulo:a("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:a("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+X.toString()}),window.$("#mensaje-brst").modal("show"),!1)),O&&(O=await T.trx.sendRawTransaction(O).then(()=>{this.setState({ModalTitulo:a("brst.donate.title",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[a("brst.donate.body",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:a("accept")})]})}),window.$("#mensaje-brst").modal("show")}))},children:a("brst.alert.donate",{returnObjects:!0})[3]}),"BRST",e.jsx("input",{type:"number",id:"brstD",className:"form-control mb-3",placeholder:"Amount"}),e.jsx("button",{type:"button",className:"btn btn-success w-100 mb-3",onClick:async()=>{let R=document.getElementById("brstD").value;R=new j(R).shiftedBy(6).dp(0);let k=[{type:"uint256",value:R}],A="donate(uint256)";const z={};let W=await T.transactionBuilder.triggerSmartContract(T.address.toHex(t.BRST_TRX_Proxy.address),A,z,k,T.address.toHex(o)),O=await T.transactionBuilder.extendExpiration(W.transaction,180);O=await window.tronLink.tronWeb.trx.sign(O).catch(X=>(this.setState({ModalTitulo:a("brst.alert.nonEfective",{returnObjects:!0})[0],ModalBody:a("brst.alert.nonEfective",{returnObjects:!0})[1]+" | "+X.toString()}),window.$("#mensaje-brst").modal("show"),!1)),O&&(O=await T.trx.sendRawTransaction(O).then(()=>{this.setState({ModalTitulo:a("brst.donate.title",{returnObjects:!0})[0],ModalBody:e.jsxs(e.Fragment,{children:[a("brst.donate.body",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:a("accept")})]})}),window.$("#mensaje-brst").modal("show")}))},children:a("brst.alert.donate",{returnObjects:!0})[3]})]})}),window.$("#mensaje-brst").modal("show")},src:"images/brst.png",width:"100%",alt:"brutus tron staking"}),e.jsxs("div",{className:"media-content",children:[e.jsx("h4",{className:"mt-0 mt-md-4 fs-20 font-w700 text-black mb-0",children:a("brst.aStaking")}),e.jsx("span",{className:"font-w600 text-black",children:"Brutus"}),e.jsxs("span",{className:"my-4 fs-16 font-w600 d-block",children:["1 BRST = ",this.state.precioBrst," TRX"]}),e.jsx("p",{className:"text-start",children:a("brst.description")})]})]})})}),e.jsx("div",{className:"card-footer p-2 border-0",children:e.jsx("a",{href:"https://brutus.finance/brutusblog.html",className:"btn btn-link text-primary",children:a("brst.button.readM")})})]})}),e.jsx("div",{className:"col-xl-6 col-sm-6 wow fadeInUp","data-wow-delay":"0.4s",children:e.jsxs("div",{className:"card quick-trade",children:[e.jsx("div",{className:"card-header pb-0 border-0 flex-wrap",children:e.jsx("div",{children:e.jsxs("h4",{className:"heading mb-0",children:[a("brst.exchange")," V4.1"]})})}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 pb-2",children:"From"}),e.jsx("div",{className:"col-2 ",children:e.jsx("img",{height:"42px",src:"/images/token/"+this.state.from+".png",alt:"tron logo"})}),e.jsx("div",{className:"col-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:e.jsxs("select",{style:{color:"white",backgroundColor:"var(--primary)",cursor:"pointer",borderRadius:"0.625rem 0 0 0.625rem"},className:"form-select",id:"currencySelectFrom",onChange:this.handleCurrencyChangeFrom,children:[e.jsx("option",{value:"trx",children:"TRX "}),e.jsx("option",{value:"usdt",children:"USDT "}),e.jsx("option",{value:"usdd",children:"USDD "}),e.jsx("option",{value:"brst",children:"BRST "})]})}),e.jsx("div",{className:"col-7",style:{paddingLeft:"0px"},children:e.jsx("input",{className:"form-control form-control text-end",style:{borderRadius:"0 0.625rem 0.625rem 0"},type:"number",id:"amountFrom",onInput:()=>this.calcExchange(!1,this.state.from+"_"+this.state.to),placeholder:d,min:this.state.minCompra,step:.1})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 pb-2",children:"To"}),e.jsx("div",{className:"col-2",children:e.jsx("img",{height:"42px",src:"/images/token/"+this.state.to+".png",alt:"brst logo"})}),e.jsx("div",{className:"col-3",style:{paddingLeft:"0px",paddingRight:"0px"},children:e.jsxs("select",{style:{color:"white",backgroundColor:"var(--primary)",cursor:"pointer",borderRadius:"0.625rem 0 0 0.625rem"},className:"form-select",id:"currencySelectTo",onChange:this.handleCurrencyChangeTo,children:[e.jsx("option",{value:"brst",children:"BRST "}),e.jsx("option",{value:"trx",children:"TRX "})]})}),e.jsx("div",{className:"col-7",style:{paddingLeft:"0px"},children:e.jsx("input",{className:"form-control form-control text-end",style:{borderRadius:"0 0.625rem 0.625rem 0"},type:"number",id:"amountTo",onInput:()=>this.calcExchange(!0,this.state.to+"_"+this.state.from),placeholder:r,min:this.state.minventa,step:1e-4})})]})]}),e.jsxs("div",{className:"card-footer border-0",children:[y,e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center",children:S})}),e.jsxs("div",{className:"d-flex mt-2",style:{justifyContent:"space-between"},children:[e.jsx("p",{className:"mb-0 fs-14",children:a("brst.energy",{e1:C.toLocaleString("en-US")})}),e.jsxs("p",{className:"mb-0 fs-14",children:["Fee ~ ",this.state.useTrx," TRX"]})]})]})]})}),e.jsx("div",{className:"col-xl-6 col-sm-12 wow fadeInUp","data-wow-delay":"0.6s",children:e.jsxs("div",{className:"card price-list",children:[e.jsx("div",{className:"card-header border-0 pb-2",children:e.jsx("div",{className:"chart-title",children:e.jsx("h4",{className:" mb-0",style:{color:"var(--primary)"},children:a("mya")})})}),e.jsx("div",{className:"card-body p-3 py-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center bg-warning-hover order-tbl",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:a("token")}),e.jsx("th",{className:"text-center",children:a("amount")}),e.jsx("th",{className:"text-center",children:a("value")})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarBRST()},children:[e.jsx("td",{className:"text-left",children:"BRST"}),e.jsx("td",{children:this.state.balanceBRST}),e.jsxs("td",{children:[new j(this.state.balanceBRST*this.state.precioBrst*this.state.precioUSDD).dp(2).toNumber().toLocaleString("en-US")," USDD"]})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"TRX"}),e.jsx("td",{children:this.state.balanceTRX}),e.jsxs("td",{children:[new j(this.state.balanceTRX*this.state.precioUSDD).dp(2).toNumber().toLocaleString("en-US")," USDD"]})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"USDT"}),e.jsx("td",{children:this.state.balanceUSDT.toLocaleString("en-US")}),e.jsx("td",{children:"--.--"})]}),e.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>{this.llenarTRX()},children:[e.jsx("td",{className:"text-left",children:"USDD"}),e.jsx("td",{children:this.state.balanceUSDD.toLocaleString("en-US")}),e.jsx("td",{children:"--.--"})]})]})]})})}),e.jsx("div",{className:"card-footer text-center py-3 border-0",children:e.jsxs("a",{href:"/",className:"btn-link text-black",children:[a("showM"),e.jsx("i",{className:"fa fa-caret-right"})]})})]})})]})})})})}),e.jsxs("div",{className:"row mx-0",children:[e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h4",{className:"card-title",children:"Your last earnings staking "}),e.jsxs("h6",{className:"card-subtitle",children:[this.state.misBRST," BRST = ",(this.state.misBRST*this.state.precioBrst).toFixed(3)," TRX"]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover table-responsive-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:a("day")}),e.jsx("th",{children:a("earned")}),e.jsx("th",{children:a("brst.dailyG")})]})}),e.jsx("tbody",{children:we.map(T=>e.jsxs("tr",{children:[e.jsx("th",{children:a("brst.daysAgo",{days:T.dias})}),e.jsxs("td",{children:[T.trx.toFixed(6)," TRX"]}),e.jsxs("td",{className:"color-primary",children:[T.diario.toFixed(6)," TRX/",a("day")," "]})]},T.dias.toString()))})]})})})]})}),e.jsx("div",{className:"col-12",id:"request-brst",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header d-sm-flex d-block pb-0 border-0",children:e.jsxs("div",{children:[e.jsxs("h4",{className:"fs-20 text-black",children:[a("brst.request",{returnObjects:!0,number:g})[0],e.jsxs("button",{className:"btn  btn-success text-white",onClick:()=>this.estado(),children:[a("brst.request",{returnObjects:!0})[1]," ",e.jsx("i",{className:"bi bi-arrow-repeat"})]})]}),e.jsx("p",{className:"mb-0 fs-12",children:a("brst.request",{returnObjects:!0})[2]})]})}),e.jsx("div",{className:"card-body",children:N})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h4",{className:"card-title",children:[a("brst.estimate")," ",e.jsx("br",{})," APR ",(w*360).toFixed(3)," %"]}),e.jsx("br",{}),e.jsxs("h6",{className:"card-subtitle",style:{cursor:"pointer"},onClick:()=>{document.getElementById("hold").value=this.state.balanceBRST,this.handleChangeCalc({target:{value:this.state.balanceBRST}})},children:[a("brst.mystaking"),this.state.misBRST," BRST = ",(this.state.misBRST*this.state.precioBrst).toFixed(3)," TRX"]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("b",{children:"Days Average: "}),e.jsx("input",{type:"number",id:"daysProm",defaultValue:f,placeholder:f+" days",min:1,step:1,onInput:async()=>{let T=parseInt(document.getElementById("daysProm").value);await this.setState({tiempoPromediado:isNaN(T)?1:T}),this.estado()}}),e.jsxs("div",{className:"table-responsive overflow-scroll",style:{marginTop:"30px",height:"420px",border:"2px solid rgba(207, 207, 207, 0.97)",borderRadius:"10px"},children:[e.jsx("table",{className:"table table-hover table-responsive-sm",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("th",{children:["Days Hold",e.jsx("br",{}),e.jsx("input",{type:"number",id:"days",defaultValue:b,onInput:this.handleChangeDias}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{h=h.unshift({days:b,amount:parseFloat(document.getElementById("hold").value.replace(/,/g,".")),time:Date.now(),APY:w})},children:"Calculate"})]}),e.jsxs("th",{children:["Your BRST",e.jsx("br",{}),e.jsx("input",{type:"number",id:"hold",defaultValue:0,onInput:this.handleChangeCalc})]})]})})}),e.jsxs("table",{className:"table table-hover table-responsive-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:a("day",{count:10})}),e.jsx("th",{children:a("brst.hold")}),e.jsx("th",{children:a("brst.estimateIn")})]})}),e.jsx("tbody",{children:h.map(T=>(T.amount=parseFloat(T.amount),T.amount=isNaN(T.amount)||T.amount<=0?this.state.misBRST:T.amount,T.days=isNaN(T.days)?1:T.days,T.time=isNaN(T.time)?Date.now():T.time,e.jsxs("tr",{children:[e.jsx("th",{children:T.days}),e.jsxs("td",{children:[T.amount," BRST",e.jsx("br",{}),(T.amount*l).toFixed(3)," TRX"]}),e.jsxs("td",{children:[(T.amount*l*(w*T.days/100)).toFixed(6)," TRX"]})]},"prospect-days-"+T.days+"-"+T.amount+"-"+T.time)))})]})]})]})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Token:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.BRST+"/code",children:_.BRST}),e.jsx("br",{}),e.jsx("b",{children:"Regular withdrawals:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.ProxySC2+"/code",children:_.ProxySC2}),e.jsx("br",{}),e.jsx("b",{children:"Fast withdrawals:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.ProxySC3+"/code",children:_.ProxySC3})]})})]})})]}),e.jsx("div",{className:"modal fade",id:"mensaje-brst",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.ModalTitulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:this.state.ModalBody})})]})})})]})}}const Mt=G()(Ct),Et=({accountAddress:M,contrato:t,isViewerMode:a})=>{const[s,i]=U.useState({imagerobots:[],loading:!0,error:null}),n=U.useRef(!0),l=U.useRef(null),d=U.useRef(0),r=U.useRef(null),h=U.useCallback(async()=>{if(!t?.ready||!t?.MBOX||!t?.BRGY){console.log("Contracts not ready yet");return}if(!M){console.log("No account address available");return}try{i(w=>({...w,loading:!0,error:null}));let b=[];for(let w=0;w<25;w++)try{const C=await t.MBOX.entregaNFT(M,w).call();if(C)b.push(parseInt(C));else break}catch(C){console.log("No more NFTs for this user",C);break}if(b.length===0){n.current&&i({imagerobots:[],loading:!1,error:null});return}const m=await Promise.all(b.map(async w=>{try{const C=await t.BRGY.ownerOf(w).call();return window.tronWeb.address.fromHex(C)===M}catch(C){return console.error(`Error checking ownership for NFT ${w}:`,C),!1}})),f=b.map(async(w,C)=>{try{const u=await t.BRGY.tokenURI(w).call();return{...await(await fetch(u)).json(),numero:w,isOwned:m[C]}}catch(u){return console.error(`Error fetching metadata for NFT ${w}:`,u),{numero:w,name:`NFT #${w}`,image:"",isOwned:m[C],error:!0}}}),N=(await Promise.all(f)).map((w,C)=>{const u=w.isOwned?null:e.jsx("button",{className:"btn btn-success",onClick:async()=>{try{await t.MBOX.claimNFT_especifico(C).send(),setTimeout(()=>h(),3e3)}catch(x){console.error("Error claiming NFT:",x)}},children:"Claim"});return e.jsx("div",{className:"col-xl-3 col-lg-6 col-sm-6",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"new-arrival-product",children:[e.jsx("div",{className:"new-arrivals-img-contnent",children:w.image?e.jsx("a",{href:w.image,rel:"noopener noreferrer",target:"_blank",children:e.jsx("img",{src:w.image,alt:w.name,className:"img-thumbnail",onError:x=>{x.target.src="/images/brgy.png"}})}):e.jsx("img",{src:"/images/brgy.png",alt:w.name,className:"img-thumbnail"})}),e.jsxs("div",{className:"new-arrival-content text-center mt-3",children:[e.jsxs("h4",{children:["#",w.numero," ",w.name]}),u]})]})})})},`robbrutN${w.numero}`)});n.current&&i({imagerobots:N,loading:!1,error:null})}catch(b){console.error("Error fetching NFT data:",b),n.current&&i(m=>({...m,loading:!1,error:b.message||"Failed to load NFT data"}))}},[M,t]);return U.useEffect(()=>{r.current!==M&&(console.log(`Wallet address changed from ${r.current} to ${M}`),r.current=M,t?.ready&&h())},[M,t?.ready,h]),U.useEffect(()=>(n.current=!0,document.title="BRGY | Brutus.Finance",t?.ready&&M&&h(),l.current=setInterval(()=>{if(!n.current)return;const b=Date.now(),m=t?.ready?120*1e3:3*1e3;b>=d.current&&(d.current=b+m,t?.ready&&M&&h())},3e3),()=>{n.current=!1,l.current&&(clearInterval(l.current),l.current=null)}),[t?.ready,M,h]),s.loading&&s.imagerobots.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row page-titles mx-0",children:[e.jsx("div",{className:"col-sm-6 p-md-0",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h4",{children:"My Collectibles"}),e.jsx("p",{className:"mb-0",children:"BRGY"})]})}),e.jsx("div",{className:"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:"All collection on "}),e.jsx("li",{className:"breadcrumb-item active",children:e.jsx("a",{href:"https://marketplace.ainft.com/#/collection/TGpQ3qap18rN1vMJj3pveMfqTeXDaKaDE7",rel:"noopener noreferrer",target:"_blank",children:"APENFT"})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("img",{src:"/images/cargando.gif",height:"40px",alt:"Loading..."}),e.jsx("p",{className:"mt-3",children:"Loading your NFT collection..."}),a&&e.jsx("p",{className:"text-muted",style:{fontSize:"0.9em"},children:"Connect your wallet to view your personal collection"})]})})})})]}):s.error?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row page-titles mx-0",children:[e.jsx("div",{className:"col-sm-6 p-md-0",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h4",{children:"My Collectibles"}),e.jsx("p",{className:"mb-0",children:"BRGY"})]})}),e.jsx("div",{className:"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:"All collection on "}),e.jsx("li",{className:"breadcrumb-item active",children:e.jsx("a",{href:"https://marketplace.ainft.com/#/collection/TGpQ3qap18rN1vMJj3pveMfqTeXDaKaDE7",rel:"noopener noreferrer",target:"_blank",children:"APENFT"})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body text-center py-5",children:e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("h5",{children:"Error Loading NFTs"}),e.jsx("p",{children:s.error}),e.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>h(),children:"Try Again"})]})})})})})]}):s.imagerobots.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row page-titles mx-0",children:[e.jsx("div",{className:"col-sm-6 p-md-0",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h4",{children:"My Collectibles"}),e.jsx("p",{className:"mb-0",children:"BRGY"})]})}),e.jsx("div",{className:"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:"All collection on "}),e.jsx("li",{className:"breadcrumb-item active",children:e.jsx("a",{href:"https://bit.ly/Brutus-Gallery",rel:"noopener noreferrer",target:"_blank",children:"APENFT"})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("img",{src:"/images/brgy.png",alt:"BRGY",style:{maxWidth:"200px",opacity:.5}}),e.jsx("h4",{className:"mt-4",children:"No NFTs Found"}),e.jsx("p",{className:"text-muted",children:a?"Connect your wallet to view your NFT collection":"You don't have any BRGY NFTs yet"}),e.jsx("a",{href:"https://bit.ly/Brutus-Gallery",rel:"noopener noreferrer",target:"_blank",className:"btn btn-primary mt-3",children:"View Collection on APENFT"})]})})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row page-titles mx-0",children:[e.jsx("div",{className:"col-sm-6 p-md-0",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h4",{children:"My Collectibles"}),e.jsx("p",{className:"mb-0",children:"BRGY"})]})}),e.jsx("div",{className:"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:"All collection on "}),e.jsx("li",{className:"breadcrumb-item active",children:e.jsx("a",{href:"https://bit.ly/Brutus-Gallery",rel:"noopener noreferrer",target:"_blank",children:"APENFT"})})]})})]}),e.jsx("div",{className:"row",children:s.imagerobots})]})},Pt=G()(Et),It=[{inputs:[{name:"_factory",type:"address"},{name:"_WETH",type:"address"}],stateMutability:"Nonpayable",type:"Constructor"},{outputs:[{type:"address"}],name:"WETH",stateMutability:"view",type:"function"},{outputs:[{name:"amountA",type:"uint256"},{name:"amountB",type:"uint256"},{name:"liquidity",type:"uint256"}],inputs:[{name:"tokenA",type:"address"},{name:"tokenB",type:"address"},{name:"amountADesired",type:"uint256"},{name:"amountBDesired",type:"uint256"},{name:"amountAMin",type:"uint256"},{name:"amountBMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"addLiquidity",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountToken",type:"uint256"},{name:"amountETH",type:"uint256"},{name:"liquidity",type:"uint256"}],inputs:[{name:"token",type:"address"},{name:"amountTokenDesired",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"amountETHMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"addLiquidityETH",stateMutability:"Payable",type:"Function"},{outputs:[{type:"address"}],name:"factory",stateMutability:"view",type:"function"},{outputs:[{name:"amountIn",type:"uint256"}],inputs:[{name:"amountOut",type:"uint256"},{name:"reserveIn",type:"uint256"},{name:"reserveOut",type:"uint256"}],name:"getAmountIn",stateMutability:"pure",type:"function"},{outputs:[{name:"amountOut",type:"uint256"}],inputs:[{name:"amountIn",type:"uint256"},{name:"reserveIn",type:"uint256"},{name:"reserveOut",type:"uint256"}],name:"getAmountOut",stateMutability:"pure",type:"function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountOut",type:"uint256"},{name:"path",type:"address[]"}],name:"getAmountsIn",stateMutability:"view",type:"function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountIn",type:"uint256"},{name:"path",type:"address[]"}],name:"getAmountsOut",stateMutability:"view",type:"function"},{outputs:[{name:"pair",type:"address"}],inputs:[{name:"tokenA",type:"address"},{name:"tokenB",type:"address"}],name:"getPairOffChain",stateMutability:"view",type:"function"},{outputs:[{name:"amountB",type:"uint256"}],inputs:[{name:"amountA",type:"uint256"},{name:"reserveA",type:"uint256"},{name:"reserveB",type:"uint256"}],name:"quote",stateMutability:"pure",type:"function"},{outputs:[{name:"amountA",type:"uint256"},{name:"amountB",type:"uint256"}],inputs:[{name:"tokenA",type:"address"},{name:"tokenB",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountAMin",type:"uint256"},{name:"amountBMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"removeLiquidity",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountToken",type:"uint256"},{name:"amountETH",type:"uint256"}],inputs:[{name:"token",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"amountETHMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"removeLiquidityETH",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountETH",type:"uint256"}],inputs:[{name:"token",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"amountETHMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"removeLiquidityETHSupportingFeeOnTransferTokens",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountToken",type:"uint256"},{name:"amountETH",type:"uint256"}],inputs:[{name:"token",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"amountETHMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"},{name:"approveMax",type:"bool"},{name:"v",type:"uint8"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"}],name:"removeLiquidityETHWithPermit",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountETH",type:"uint256"}],inputs:[{name:"token",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountTokenMin",type:"uint256"},{name:"amountETHMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"},{name:"approveMax",type:"bool"},{name:"v",type:"uint8"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"}],name:"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amountA",type:"uint256"},{name:"amountB",type:"uint256"}],inputs:[{name:"tokenA",type:"address"},{name:"tokenB",type:"address"},{name:"liquidity",type:"uint256"},{name:"amountAMin",type:"uint256"},{name:"amountBMin",type:"uint256"},{name:"to",type:"address"},{name:"deadline",type:"uint256"},{name:"approveMax",type:"bool"},{name:"v",type:"uint8"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"}],name:"removeLiquidityWithPermit",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountOut",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",stateMutability:"Payable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",stateMutability:"Payable",type:"Function"},{inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactETHForTokensSupportingFeeOnTransferTokens",stateMutability:"Payable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",stateMutability:"Nonpayable",type:"Function"},{inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactTokensForETHSupportingFeeOnTransferTokens",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactTokensForTokens",stateMutability:"Nonpayable",type:"Function"},{inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapExactTokensForTokensSupportingFeeOnTransferTokens",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",stateMutability:"Nonpayable",type:"Function"},{outputs:[{name:"amounts",type:"uint256[]"}],inputs:[{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],name:"swapTokensForExactTokens",stateMutability:"Nonpayable",type:"Function"},{stateMutability:"Payable",type:"Receive"}];let ve="TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax",Y=[];class At extends U.Component{constructor(t){super(t),this.state={deposito:"Loading...",wallet:this.props.accountAddress,balanceBRUT:0,precioBRUT:0,mc:0,mb:0,totalNFT:1,premio:"Loading...",LastWiner:"Loading...",proximoSorteo:"Loading...",modalTitulo:"",modalBody:"",contarSegundos:1e26,restanteSegundos:1e26,porcentaje:0,comprarBRLT:1,precioUnidad:100,total:100,moneda:"trx",tikets:[],days:"",hours:"00",minutes:"00",seconds:"00",deadline:1,onSale:e.jsx(e.Fragment,{children:"Loading NFT FOR SALE"}),imagenSeleccionada:null,mostrarModalImagen:!1,zoom:.5},this.estado=this.estado.bind(this),this.consultarPrecio=this.consultarPrecio.bind(this),this.preCompra=this.preCompra.bind(this),this.compra=this.compra.bind(this),this.sunSwap=this.sunSwap.bind(this),this.sorteo=this.sorteo.bind(this),this.handleChange=this.handleChange.bind(this),this.handleChangeSelect=this.handleChangeSelect.bind(this),this.updateCountdown=this.updateCountdown.bind(this),this.abrirModalImagen=this.abrirModalImagen.bind(this),this.cerrarModalImagen=this.cerrarModalImagen.bind(this),this.zoomIn=this.zoomIn.bind(this),this.zoomOut=this.zoomOut.bind(this),this.compartirImagen=this.compartirImagen.bind(this),this.descargarImagen=this.descargarImagen.bind(this)}async componentDidMount(){setTimeout(async()=>{this.estado()},3*1e3),Y.push(setInterval(()=>this.updateCountdown(),1e3)),Y.push(setInterval(()=>{let t=parseInt(this.state.contarSegundos-Date.now()/1e3);this.setState({restanteSegundos:t,porcentaje:t/1296e3*100})},1*1e3)),Y.push(setInterval(async()=>{this.props.contrato.ready&&(clearInterval(Y[2]),Y.push(setInterval(()=>this.estado(),60*1e3))),this.estado()},6*1e3))}componentWillUnmount(){for(let t=0;t<Y.length;t++)clearInterval(Y[t])}abrirModalImagen=t=>{this.setState({imagenSeleccionada:t,mostrarModalImagen:!0,zoom:.5})};cerrarModalImagen=()=>{this.setState({mostrarModalImagen:!1,imagenSeleccionada:null,zoom:.5})};zoomIn=()=>{this.setState(t=>({zoom:t.zoom+.1}))};zoomOut=()=>{this.setState(t=>({zoom:Math.max(.1,t.zoom-.1)}))};compartirImagen=()=>{navigator.share?navigator.share({title:"NFT Image",url:this.state.imagenSeleccionada}):(navigator.clipboard.writeText(this.state.imagenSeleccionada),alert("Enlace copiado al portapapeles"))};descargarImagen=()=>{const t=document.createElement("a");t.href=this.state.imagenSeleccionada,t.download="nft-image.png",t.click()};handleChange(t){let a=parseInt(t.target.value);(isNaN(a)||a<1)&&(a=1),this.setState({comprarBRLT:a,total:a*this.state.precioUnidad})}handleChangeSelect(t){let a=t.target.value;this.setState({moneda:a})}updateCountdown(){if(Y.length>=1){let t=new Date().getTime(),a=this.state.deadline-t,s=Math.floor(a/(1e3*60*60*24)),i=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),n=Math.floor(a%(1e3*60*60)/(1e3*60)),l=Math.floor(a%(1e3*60)/1e3);s<=1?s=s+" Day - ":s=s+" Days - ",i<=9&&(i="0"+i),n<=9&&(n="0"+n),l<=9&&(l="0"+l),a<0&&(s="",i="00",n="00",l="00"),this.setState({days:s,hours:i,minutes:n,seconds:l})}}async estado(){const{contrato:t=null,accountAddress:a}=this.props;if(!t||!t.ready)return;let s=0;a!=="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"&&(s=parseInt(await t.BRLT.balanceOf(this.props.accountAddress).call()));let i=parseInt(await t.BRLT.totalSupply().call()),n=parseInt((await t.loteria.premio().call())[0])/10**6,l=parseInt(await t.loteria.lastWiner().call());this.setState({totalNFT:i,premio:n,LastWiner:l});let d=_.NFT_API+"/lottery?ticket="+i,r=JSON.parse(await(await fetch(d)).text()),h=e.jsx("div",{className:"col-md-6 col-sm-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"new-arrival-product",children:[e.jsx("div",{className:"new-arrival-content text-center",children:e.jsxs("h4",{children:["Ticket #",i," FOR SALE"]})}),e.jsx("div",{className:"new-arrivals-img-contnent",children:e.jsx("img",{src:r.image,alt:r.name+" # "+r.number,className:"img-thumbnail",style:{cursor:"pointer"},onClick:()=>this.abrirModalImagen(r.image)})}),e.jsxs("button",{className:"btn btn-primary mt-1",onClick:()=>this.preCompra(),children:["  ",">>>"," ",this.state.total+" ","TRX ","<<<"]})]})})})},"tiket-onsale-"+i);this.setState({onSale:h});let b=parseInt(await t.loteria.proximaRonda().call());this.setState({contarSegundos:b});let m=b;b=new Date(b*1e3),this.setState({deadline:b});var f=b.getMinutes();f<10&&(f="0"+f),this.setState({mc:s,proximoSorteo:"Day "+b.getDate()+" | "+b.getHours()+":"+f+"Hrs",prosort:m});let g=parseInt(await t.BRLT.balanceOf(a).call()),{tikets:N}=this.state;for(let w=0;w<g;w++){let C=parseInt(await t.BRLT.tokenOfOwnerByIndex(a,w).call()),u=await t.BRLT.tokenURI(C).call(),x=JSON.parse(await(await fetch(u)).text()),v=e.jsx(e.Fragment,{}),I=new j(parseInt(await t.loteria.valueNFT(C).call())).shiftedBy(-6).dp(2).toString(10);I>0&&(v=e.jsx("div",{className:"new-arrival-content text-center mt-3",children:e.jsxs("button",{className:"btn btn-success",children:["Prize ",I," TRX"]})})),N[w]=e.jsx("div",{className:"col-6 col-md-4 col-lg-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"new-arrival-product",children:[e.jsx("div",{className:"new-arrival-content text-center mt-3",children:e.jsxs("h4",{children:["Ticket #",C]})}),e.jsx("div",{className:"new-arrivals-img-contnent",children:e.jsx("img",{src:x.image,alt:x.name+" # "+x.number,className:"img-thumbnail",style:{cursor:"pointer"},onClick:()=>this.abrirModalImagen(x.image)})}),v]})})})},"tiket-lottery-"+C),this.setState({tikets:N})}}async preCompra(){this.state.moneda!=="trx"&&await this.sunSwap(this.state.moneda),this.compra()}async compra(){const{tronWeb:t,accountAddress:a,contrato:s}=this.props,{comprarBRLT:i,total:n}=this.state;let l=200*10**6;i>1&&(l=1e3*10**6),i>20&&(l=2e3*10**6);let d=[{type:"address",value:t.address.toHex(a)},{type:"uint256",value:i}],r="buyLoteria(address,uint256)";const h={callValue:new j(n).shiftedBy(6).dp(0).toString(10),feelimit:l};let b=await t.transactionBuilder.triggerSmartContract(t.address.toHex(s.loteria.address),r,h,d,t.address.toHex(a)),m=await t.transactionBuilder.extendExpiration(b.transaction,180);m=await window.tronLink.tronWeb.trx.sign(m).catch(f=>(this.setState({modalTitulo:"Error",modalBody:f.toString()}),console.error(f),window.$("#alerta").modal("show"),!1)),m&&(m=await t.trx.sendRawTransaction(m).then(()=>{this.setState({modalTitulo:"Purchased lottery ticket",modalBody:"Thank you for collaborating with the activation of the giveaway"}),window.$("#alerta").modal("show"),this.estado()}).catch(f=>(this.setState({ModalTitulo:"Error",ModalBody:f.toString()}),window.$("#alerta").modal("show"),!1))),this.estado()}async sorteo(){const{contrato:t}=this.props,{prosort:a}=this.state;let s=parseInt(await t.loteria._premio().call()),i=parseInt(await t.BRST_TRX_Proxy.TRON_PAY_BALANCE_WHITE().call());Date.now()>=a*1e3&&i>=s?t.loteria.sorteo().send().then(async n=>{console.log(n),await this.estado(),this.setState({modalTitulo:"Good luck",modalBody:"Thank you for collaborating with the activation of the giveaway"}),window.$("#alerta").modal("show")}).catch(n=>{console.log(n),this.setState({modalTitulo:"Bad luck",modalBody:"something has not gone well, thank you for trying to collaborate, it will be on a next occasion "}),window.$("#alerta").modal("show")}):(this.setState({modalTitulo:"Please wait",modalBody:"It is not yet time to carry out the draw, wait for the announced date to collaborate with the draw"}),window.$("#alerta").modal("show")),this.estado()}async consultarPrecio(){var t=await this.props.contrato.loteria.RATE().call();return t=parseInt(t)/10**6,this.setState({precioBRUT:t}),t}async sunSwap(t){let a,s,i;switch(t){case"usdt":a="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",s="TFGDbUyP8xez44C76fin3bn3Ss6jugoUwJ",i="TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR";break}let n=await this.props.tronWeb.contract().at(a),l=await n.balanceOf(s).call();l=parseInt(l),l=new j(l).shiftedBy(-1*await n.decimals().call());let d=await this.props.tronWeb.contract().at(i),r=await d.balanceOf(s).call();r=parseInt(r),r=new j(r).shiftedBy(-1*await d.decimals().call());let h=new j(l).dividedBy(r);h=h.times(this.state.comprarBRLT).times(this.state.precioUnidad),alert("will spend approximately ~ "+h.toString(10)+" ("+await n.name().call()+") -> "+await n.name().call());let b=await this.props.tronWeb.contract(It,ve),m=await n.allowance(this.props.accountAddress,ve).call();m=parseInt(m),m<=0&&await n.approve(ve,"115792089237316195423570985008687907853269984665640564039457584007913129639935").send();let f=parseInt(this.state.comprarBRLT*this.state.precioUnidad*10**6),g=new j(this.state.balanceDCT).shiftedBy(this.state.decimalesDCT).toString(10),N=await b["4a25d94a"](f,g,[this.props.tronWeb.address.toHex(a),this.props.tronWeb.address.toHex(i)],this.props.accountAddress,parseInt(Date.now()/1e3)+100).send();console.log(N)}render(){const{porcentaje:t,onSale:a,days:s,hours:i,minutes:n,seconds:l,proximoSorteo:d,premio:r,totalNFT:h,LastWiner:b,tikets:m}=this.state;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body pb-2",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("img",{src:"images/banner-brutuslottery.jpg",width:"100%",alt:"",style:{borderRadius:"4px"}})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsx("hr",{})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"text-center row align-items-center justify-content-center",children:a})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"me-3",children:e.jsxs("h2",{className:" count-num mb-0",children:["Next round: ",s," ",i,":",n,":",l]})}),e.jsx("div",{id:"ticketSold"})]}),e.jsx("div",{className:"progress mb-2",style:{height:"10px","box-shadow":" 0 0 8px rgba(128, 0, 128, 0.5)"},children:e.jsx("div",{className:"progress-bar progress-animated",style:{width:t+"%",height:"10px",background:"rgba(128, 0, 128, 0.8)",animation:"stripeMove 1s linear infinite","background-image":"repeating-linear-gradient(45deg,rgba(255, 255, 255, 0.1),rgba(255, 255, 255, 0.1) 10px,rgba(255, 255, 255, 0.2) 10px,rgba(255, 255, 255, 0.2) 20px)"},role:"progressbar"})}),e.jsx("p",{children:d})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("div",{className:"card-body py-4 pt-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("h4",{className:"fs-18 font-w400",children:"Award"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("h2",{className:"count-num",children:[r," TRX"]}),e.jsx("span",{className:"fs-16 font-w500 text-success ps-2",children:e.jsx("i",{className:"bi bi-caret-up-fill pe-2"})})]})]}),e.jsx("div",{id:"barChart"})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("div",{className:"card-body py-4 pt-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},onClick:()=>{window.open("https://apenft.io/#/collection/TBCp8r6xdZ34w7Gm3Le5pAjPpA3hVvFZFU","_blank")},children:[e.jsx("h4",{className:"fs-18 font-w400",children:"NFT Sold"}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("h2",{className:"count-num",children:h-1})})]}),e.jsx("div",{id:"totalInvoices"})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("div",{className:"card-body py-4 pt-4",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",style:{cursor:"pointer"},onClick:()=>{window.open("https://marketplace.ainft.com/#/asset/TBCp8r6xdZ34w7Gm3Le5pAjPpA3hVvFZFU/"+b,"_blank")},children:[e.jsx("h4",{className:"fs-18 font-w400",children:"Last Winner"}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("h2",{className:"count-num",children:["#",b]})})]}),e.jsx("div",{id:"paidinvoices"})]})})})]})})]})]})})}),e.jsxs("div",{className:"col-xl-12",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body ",children:[e.jsx("h2",{className:"heading",children:"My Tickets"}),e.jsxs("p",{children:["The probability of winning is based on how many tickets you have, the more tickets you have, the greater the probability of winning.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"row",children:m})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body ",children:[e.jsx("h2",{className:"heading",children:"Welcome to Brutus Lottery"}),e.jsxs("p",{children:["Where the thrill of acquiring unique NFTs meets the chance to win substantial prizes. Discover a collection of 9999 exclusive NFTs, each representing a digital masterpiece priced at 100 TRX. Engage in bi-weekly automated draws, with 80% of the proceeds going to the winner and 20% to the Brutus Lottery team.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("h4",{children:"What We Offer:"}),e.jsx("br",{}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Exclusive NFTs:"})," Explore a collection of 9999 unique NFTs, each a digital artwork priced at 100 TRX."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Bi-weekly Draws:"})," Participate in automatic draws every fifteen days, offering an 80% prize to the winner."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Transparent Process:"})," NFT minting via the Brutus Lottery TRC721 contract ensures authenticity."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Automated and Randomized:"})," Draw results are automatic, and our randomness coefficient guarantees fairness."]})]}),e.jsx("h4",{children:"How to Participate:"}),e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx("b",{children:"Acquire NFTs:"})," Increase your winning chances by acquiring unique NFTs."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Effortless Draws:"})," Prizes are automatically delivered at draw time, eliminating the need for claims."]}),e.jsxs("li",{children:[e.jsx("b",{children:"Explore Infinite Possibilities:"})," Each NFT opens doors to a universe of possibilities, merging digital art with the excitement of draws."]})]}),e.jsxs("p",{className:"text-center",children:[e.jsx("br",{}),e.jsx("br",{}),"Join Brutus Lottery and experience the thrill of the unique, where every NFT unlocks endless opportunities."]}),e.jsx("p",{className:"text-center",children:e.jsxs("a",{href:"https://brutus.finance/docs/Terms-and-Conditions-Brutus-Lottery.pdf",className:"btn btn-primary",children:["--> ","Read all Terms and Conditions "," <--"]})})]})})})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Lottery:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.SC4+"/code",children:_.SC4}),e.jsx("br",{}),e.jsx("b",{children:"NFT:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.BRLT+"/code",children:_.BRLT})]})})]})})})]}),e.jsx("div",{className:"modal fade",id:"alerta",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.modalTitulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:this.state.modalBody})]})})}),this.state.mostrarModalImagen&&e.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.7)"},tabIndex:"-1",role:"dialog",onClick:this.cerrarModalImagen,children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",onClick:f=>f.stopPropagation(),children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Vista de Imagen NFT"}),e.jsx("button",{type:"button",className:"btn-close",onClick:this.cerrarModalImagen})]}),e.jsxs("div",{className:"modal-body text-center",style:{position:"relative",minHeight:"400px"},children:[e.jsxs("div",{style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:10},children:[e.jsx("button",{className:"btn btn-secondary me-2",onClick:this.zoomOut,children:"-"}),e.jsxs("span",{style:{color:"white",background:"rgba(0,0,0,0.5)",padding:"5px 10px",borderRadius:"5px"},children:["Zoom: ",Math.round(this.state.zoom*100),"%"]}),e.jsx("button",{className:"btn btn-secondary ms-2",onClick:this.zoomIn,children:"+"})]}),e.jsx("div",{style:{maxHeight:"60vh",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:this.state.imagenSeleccionada,alt:"NFT",style:{transform:`scale(${this.state.zoom})`,transition:"transform 0.3s ease",maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),e.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:10},children:[e.jsx("button",{className:"btn btn-primary me-2",onClick:this.compartirImagen,children:"Compartir"}),e.jsx("button",{className:"btn btn-success",onClick:this.descargarImagen,children:"Descargar"})]})]})]})})})]})}}const Lt=G()(At),Pe=[{amount:65e3,text:"65K"},{amount:13e4,text:"130K"},{amount:2e5,text:"200K"},{amount:1e6,text:"1M"},{amount:3e6,text:"3M"}],Ut=[{amount:1e3,text:"1k"},{amount:2e3,text:"2k"},{amount:5e3,text:"5k"},{amount:1e4,text:"10k"},{amount:5e4,text:"50k"}];let Ie;class Dt extends U.Component{constructor(t){super(t),this.state={deposito:"Loading...",wallet:"Loading...",precio:"****",wallet_orden:"",recurso:"energy",cantidad:32e3,montoMin:32e3,minPrice:"2.56",periodo:5,temporalidad:"min",duration:"5min",av_band:new j(0),av_energy:new j(0),available_bandwidth:[],available_energy:[],total_bandwidth_pool:0,total_energy_pool:0,titulo:"Titulo",body:"Cuerpo del mensaje",amounts:Pe,energyOn:!1,bandOn:!1,fromUrl:!0,unitEnergyPrice:new j(1),precios:{energy:[],bandwidth:[]},referral:!1},this.handleChangePeriodo=this.handleChangePeriodo.bind(this),this.handleChangeWallet=this.handleChangeWallet.bind(this),this.updateAmount=this.updateAmount.bind(this),this.estado=this.estado.bind(this),this.recursos=this.recursos.bind(this),this.calcularRecurso=this.calcularRecurso.bind(this),this.calcularPrecios=this.calcularPrecios.bind(this),this.preCompra=this.preCompra.bind(this),this.compra=this.compra.bind(this)}async componentDidMount(){const{t}=this.props;document.getElementById("tittle").innerText=t("ebot.tittle"),setTimeout(()=>{this.estado()},2*1e3),Ie=setInterval(()=>{this.estado()},15*1e3)}componentWillUnmount(){clearInterval(Ie)}handleChangeWallet(t){let a=t.target.value;this.setState({wallet_orden:a})}async handleChangePeriodo(t){let a=t.target.value.toLowerCase(),s="d";document.getElementById("periodo").value=a,(a.split("h").length>1||a.split("hora").length>1)&&(s="h"),(a.split("m").length>1||a.split("min").length>1)&&(s="m"),await this.setState({periodo:parseInt(a),temporalidad:s,duration:parseInt(a)+s}),this.calcularRecurso()}updateAmount(t){let{recurso:a}=this.state,s=32e3;a==="bandwidth"&&(s=1e3),this.setState({montoMin:s});let i=0;if(t){i=t;try{let n=document.getElementById("amount");n&&(n.value=t)}catch(n){console.log(n)}}else try{let n=document.getElementById("amount");n&&(i=n.value)}catch(n){console.log(n)}return i=parseInt(i),(parseInt(i)<s||isNaN(i))&&(i=s),this.setState({cantidad:i}),i}async estado(){let{fromUrl:t}=this.state;await this.calcularPrecios();let a=document.location.href;if((a.indexOf("amount")>0||a.indexOf("amb")>0)&&t){let l=a.split("?")[1].split("&"),d={},r;for(var s=0,i=l.length;s<i;s++)r=l[s].split("="),d[r[0]]=unescape(decodeURI(r[1]));if(parseInt(d.amount)>=32e3){let h=parseInt(d.amount),b="energy",m="5min";d.resource!==void 0&&(b=d.resource),b==="band"||b==="bandwidth"?b="bandwidth":b="energy",d.duration!==void 0&&(m=d.duration),await this.setState({cantidad:h,recurso:b,temporalidad:"m",periodo:"5",duration:m,fromUrl:!1}),this.updateAmount(h),this.preCompra()}d.amb!==void 0&&await this.setState({referral:d.amb})}this.calcularRecurso()}async recursos(){let{energyOn:t,bandOn:a}=this.state,s=!1;const i=_.BOT_URL;if(s=await fetch(i).then(m=>m.json()).catch(m=>(console.log(m),!1)),t=s.available,a=s.available,s=await fetch(i+"/available").then(m=>m.json()).catch(m=>(console.log(m),!1)),!s)return!1;let n=[{duration:"5min",available:s.av_energy[0].available},{duration:"1h",available:s.av_energy[0].available},{duration:"1d",available:s.av_energy[1].available},{duration:"3d",available:s.av_energy[2].available},{duration:"7d",available:s.av_energy[3].available},{duration:"14d",available:s.av_energy[3].available},{duration:"30d",available:s.av_energy[3].available}],l=[{duration:"5min",available:s.av_band[0].available},{duration:"1h",available:s.av_band[0].available},{duration:"1d",available:s.av_band[1].available},{duration:"3d",available:s.av_band[2].available},{duration:"7d",available:s.av_band[3].available},{duration:"14d",available:s.av_band[3].available},{duration:"30d",available:s.av_band[3].available}],d=document.getElementById("periodo"),r="5min";d&&(r=d.value),this.setState({duration:r});let h=n.find(m=>m.duration===r);h=new j(h.available),this.setState({av_energy:h});let b=l.find(m=>m.duration===r);return b=new j(b.available),this.setState({av_band:b}),this.setState({available_bandwidth:l,available_energy:n,total_bandwidth_pool:s.total_bandwidth_pool,total_energy_pool:s.total_energy_pool,energyOn:t,bandOn:a}),t}async calcularPrecios(){await this.recursos();let{precios:t,duration:a,recurso:s}=this.state,i=_.BOT_URL+"/prices/all",n=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}}).then(async d=>await d.json()).catch(d=>(console.log(d),!1));n&&(t.energy=[{duration:"5min",UE:new j(n.energy_minutes_100K).shiftedBy(1).dp(6).toNumber()},{duration:"1h",UE:new j(n.energy_hour_100K).shiftedBy(1).dp(6).toNumber()},{duration:"1",UE:new j(n.energy_one_day_100K).shiftedBy(1).dp(6).toNumber()},{duration:"2",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).dp(6).toNumber()},{duration:"3",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).dp(6).toNumber()},{duration:"4",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).dp(6).toNumber()},{duration:"7",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).times(7/3).dp(6).toNumber()},{duration:"14",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).times(14/3).dp(6).toNumber()},{duration:"30",UE:new j(n.energy_over_one_day_100K).shiftedBy(1).times(30/3).dp(6).toNumber()}],t.bandwidth=[{duration:"5min",UE:new j(n.band_minutes_1000).times(1e3).dp(6).toNumber()},{duration:"1h",UE:new j(n.band_hour_1000).times(1e3).dp(6).toNumber()},{duration:"1",UE:new j(n.band_one_day_1000).times(1e3).dp(6).toNumber()},{duration:"2",UE:new j(n.band_one_day_1000).times(1e3).dp(6).toNumber()},{duration:"3",UE:new j(n.band_over_one_day_1000).times(1e3).dp(6).toNumber()},{duration:"4",UE:new j(n.band_over_one_day_1000).times(1e3).dp(6).toNumber()},{duration:"7",UE:new j(n.band_over_one_day_1000).times(1e3).times(7/3).dp(6).toNumber()},{duration:"14",UE:new j(n.band_over_one_day_1000).times(1e3).times(14/3).dp(6).toNumber()},{duration:"30",UE:new j(n.band_over_one_day_1000).times(1e3).times(30/3).dp(6).toNumber()}],this.setState({precios:t}));let l=t[s];if(l.length>0){const d=l.find(r=>r.duration===a);d!==void 0&&this.setState({unitEnergyPrice:d.UE})}return t}async calcularRecurso(){let{t}=this.props;this.calcularPrecios();let{recurso:a,montoMin:s,precio:i,duration:n}=this.state,l=this.updateAmount(),d=!0;n.indexOf("d")>=0&&((parseInt(n[0])<1||parseInt(n[0])>14)&&(this.setState({titulo:t("ebot.alert.eRange",{returnObjects:!0})[0],body:t("ebot.alert.eRange",{returnObjects:!0})[1]}),d=!1,window.$("#mensaje-ebot").modal("show")),n=n.split("d")[0]),n.indexOf("h")>=0&&(parseInt(n[0])!==1&&(this.setState({titulo:t("ebot.alert.eRange",{returnObjects:!0})[0],body:t("ebot.alert.eRange2"),periodo:"1"}),d=!1,window.$("#mensaje-ebot").modal("show")),n="1h"),n.indexOf("m")>=0&&(parseInt(n[0])!==5&&(this.setState({titulo:t("ebot.alert.eRange",{returnObjects:!0})[0],body:t("ebot.alert.eRange2"),periodo:"5"}),d=!1,window.$("#mensaje-ebot").modal("show")),n="5min");let r=this.state.precios[a];if(d&&r.length>0){const h=r.find(b=>b.duration===n);i=new j(h.UE).times(l),i=i.plus(0),i=i.shiftedBy(-6).dp(6),this.setState({unitEnergyPrice:h.UE}),parseInt(l)<=s&&this.setState({minPrice:i})}else i="**.**";return this.setState({precio:i}),i}async preCompra(){const{t,isViewerMode:a}=this.props;if(a){this.setState({titulo:"To continue",body:"Connect your wallet to perform this operation."}),window.$("#mensaje-ebot").modal("show");return}await this.recursos();let{wallet_orden:s,cantidad:i,periodo:n,temporalidad:l,recurso:d,energyOn:r,bandOn:h,av_energy:b,av_band:m,total_energy_pool:f,total_bandwidth_pool:g}=this.state,{accountAddress:N,tronWeb:w,i18n:C}=this.props;if(!r||!h){this.setState({titulo:C.t("ebot.alert.eResource",{returnObjects:!0})[0],body:e.jsx("span",{children:C.t("ebot.alert.eResource",{returnObjects:!0})[1]})}),window.$("#mensaje-ebot").modal("show");return}b.toNumber()<f*.005&&(r=!1,d==="energy"&&(this.setState({titulo:e.jsx(e.Fragment,{children:t("ebot.alert.soldOut",{returnObjects:!0})[0]}),body:e.jsxs(e.Fragment,{children:[" ",e.jsx("img",{src:"/images/alerts/recarge_energy.jpeg",alt:"Energy sold out",style:{borderRadius:"15px",width:"100%"}})," ",e.jsx("br",{}),e.jsx("br",{}),t("ebot.alert.soldOut",{returnObjects:!0})[1]]})}),window.$("#mensaje-ebot").modal("show"))),m.toNumber()<g*.005&&(h=!1,d!=="energy"&&(this.setState({titulo:t("ebot.alert.soldOut",{returnObjects:!0})[0],body:t("ebot.alert.soldOut",{returnObjects:!0})[1]}),window.$("#mensaje-ebot").modal("show")));let u=(await this.calcularRecurso()).toNumber();if(isNaN(u)){this.setState({titulo:"Error",body:"error to calculating price of resource"}),window.$("#mensaje-ebot").modal("show");return}if((s===""||!w.isAddress(s))&&this.setState({wallet_orden:N}),parseFloat(u)>new j(await w.trx.getBalance(N)).shiftedBy(-6).toNumber()){this.setState({titulo:C.t("ebot.alert.noFounds",{returnObjects:!0})[0],body:e.jsx("span",{children:C.t("ebot.alert.noFounds",{returnObjects:!0})[1]})}),window.$("#mensaje-ebot").modal("show");return}if((s===""||!w.isAddress(s))&&this.setState({wallet_orden:N}),s==="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"){this.setState({titulo:C.t("ebot.alert.eTronlink",{returnObjects:!0})[0],body:e.jsxs("span",{children:[C.t("ebot.alert.eTronlink",{returnObjects:!0})[1],e.jsx("br",{}),e.jsx("button",{className:"btn btn-danger","data-bs-dismiss":"modal",children:"Ok"})]})}),window.$("#mensaje-ebot").modal("show");return}if(d==="energy"){if(i>b.toNumber()){this.setState({titulo:"Error",body:"insufficient resources to cover this order try a lower value or try again later."}),window.$("#mensaje-ebot").modal("show");return}}else if(i>m.toNumber()){this.setState({titulo:"Error",body:"insufficient resources to cover this order try a lower value or try again later."}),window.$("#mensaje-ebot").modal("show");return}this.setState({titulo:e.jsx(e.Fragment,{children:"Confirm order information"}),body:e.jsxs("span",{children:[e.jsx("b",{children:"Buy: "})," ",i+" "+d+" "+n+l,e.jsx("br",{}),e.jsx("b",{children:"For: "})," ",u," TRX",e.jsx("br",{}),e.jsx("b",{children:"To: "})," ",this.state.wallet_orden,e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-ebot").modal("hide")},children:["Cancel ",e.jsx("i",{className:"bi bi-x-circle"})]})," ",e.jsxs("button",{type:"button",className:"btn btn-success",onClick:()=>{this.compra(i,n,l,d,s,u)},children:["Confirm ",e.jsx("i",{className:"bi bi-bag-check"})]})]})}),window.$("#mensaje-ebot").modal("show")}async compra(){let{cantidad:t,periodo:a,temporalidad:s,recurso:i,wallet_orden:n,precio:l,referral:d}=this.state;const r=e.jsx("img",{src:"images/cargando.gif",height:"20px",alt:"loading..."});this.setState({titulo:e.jsxs(e.Fragment,{children:["Confirm transaction ",r]}),body:e.jsx(e.Fragment,{children:"Please confirm the transaction from your wallet "})}),window.$("#mensaje-ebot").modal("show");const h=await this.props.tronWeb.transactionBuilder.sendTrx(_.WALLET_API,this.props.tronWeb.toSun(l),this.props.accountAddress),b=await window.tronWeb.trx.sign(h).catch(f=>(this.setState({ModalTitulo:"Transaction failed",ModalBody:e.jsxs(e.Fragment,{children:[f.toString(),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{window.$("#mensaje-brst").modal("hide")},children:"Close"})]})}),window.$("#mensaje-brst").modal("show"),!1));if(!b)return!1;this.setState({titulo:e.jsxs(e.Fragment,{children:["Your order is being processed ",r]}),body:"Wait while one of our robots attends to your recharge, we try to be as fast as possible."});let m=await L.rentResource(n,i,t,a,s,l,b,d);m.result?(this.setState({titulo:"Completed successfully",body:e.jsxs(e.Fragment,{children:["Energy rental completed successfully.",e.jsx("br",{}),e.jsx("br",{})," ",e.jsx("button",{type:"button","data-bs-dismiss":"modal",className:"btn btn-success",children:"Thank you!"})]})}),window.$("#mensaje-ebot").modal("show")):(console.log(m),this.setState({titulo:"Contact support",body:"Support hash: "+m.hash+" | "+m.msg}),window.$("#mensaje-ebot").modal("show"))}render(){const{t}=this.props;let{unitEnergyPrice:a,amounts:s,recurso:i,av_energy:n,av_band:l}=this.state;const d=s.map(f=>e.jsx("button",{id:"ra1",type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.updateAmount(f.amount),this.estado()},children:f.text},"Amb-"+f.text));let r=e.jsxs(e.Fragment,{children:["Bandwidth Pool: ",l.toString(10).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),h=l.toNumber()*100/this.state.total_bandwidth_pool;i==="energy"&&(r=e.jsxs(e.Fragment,{children:["Energy Pool: ",n.toString(10).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),h=n.toNumber()*100/this.state.total_energy_pool),isNaN(h)&&(h=0);let b=e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"font-14",children:[r," (",new j(h).dp(2).toString(10),"%)"]}),e.jsx("div",{className:"progress",style:{margin:"5px",backgroundColor:"lightgray"},children:e.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:h+"%"},"aria-valuenow":h,"aria-valuemin":"0","aria-valuemax":"100"})})]});function m(f){return f.charAt(0).toUpperCase()+f.slice(1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row ",children:[e.jsx("div",{className:"col-md-12 text-center",children:e.jsx("h1",{children:t("ebot.subTittle")})}),e.jsx("div",{className:"col-lg-6 col-sm-12",children:e.jsx("div",{className:"contact-box",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("h4",{children:["Rental ",this.state.recurso]})}),e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"d-flex justify-content-sm-end",children:e.jsxs("div",{className:"btn-group",role:"group",children:[e.jsx("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Resource"}),e.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1",children:[e.jsx("li",{onClick:async()=>{await this.setState({cantidad:32e3,recurso:"energy",amounts:Pe}),this.updateAmount(32e3),await this.estado()},children:e.jsx("button",{className:"dropdown-item",children:"Energy"})}),e.jsx("li",{onClick:async()=>{await this.setState({cantidad:1e3,recurso:"bandwidth",amounts:Ut}),this.updateAmount(1e3),await this.estado()},children:e.jsx("button",{className:"dropdown-item",children:"Bandwidth"})})]})]})})}),e.jsxs("form",{className:"dzForm",method:"",action:"",children:[e.jsx("div",{className:"dzFormMsg"}),e.jsx("input",{type:"hidden",className:"form-control",name:"dzToDo",value:"Contact"}),b,e.jsxs("div",{className:"col-12 mt-2 mb-2 d-flex justify-content-center align-items-center",children:[e.jsx("p",{style:{marginTop:"auto",marginRight:"10px"},className:"font-14",children:"Amount"}),e.jsx("input",{style:{textAlign:"end",border:"lightgray  solid"},id:"amount",name:"dzLastName",type:"text",onInput:()=>this.calcularRecurso(),className:"form-control mb-1",placeholder:this.state.montoMin})]}),e.jsx("div",{className:"col-xl-12 mt-2 mb-2",children:e.jsx("div",{className:"d-flex justify-content-xl-center",children:d})}),e.jsxs("div",{className:"col-12 mt-2 mb-2 d-flex justify-content-center align-items-center",children:[e.jsx("p",{style:{marginTop:"auto",marginRight:"10px"},className:"font-14",children:"Duration"}),e.jsx("input",{style:{textAlign:"end",border:"lightgray  solid",cursor:"not-allowed"},id:"periodo",required:!0,type:"text",className:"form-control mb-1",onChange:this.handleChangePeriodo,placeholder:"Default: 5m (five minutes)",defaultValue:"5min",readOnly:!0})]}),e.jsx("div",{className:"col-12 mt-2 mb-2 ",children:e.jsxs("div",{className:"d-flex justify-content-xl-center",children:[e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"5min"}})},children:"5m"}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"1h"}})},children:"1h"}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"1d"}})},children:"1d"}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"3d"}})},children:"3d"}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"14d"}})},children:"14d"}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{margin:"auto"},onClick:()=>{this.handleChangePeriodo({target:{value:"30d"}})},children:"30d"})]})}),e.jsxs("div",{className:"col-12 mt-2 mb-2 justify-content-center align-items-center",children:[m(this.state.recurso)," Unit: ",a.toString(10)," SUN",e.jsx("br",{}),e.jsxs("button",{name:"submit",type:"button",value:"Submit",className:"btn btn-secondary",style:{width:"100%",height:"40px",marginTop:"5px"},onClick:()=>this.preCompra(),children:[" Complete Purchase - Total: ",this.state.precio.toString(10)," TRX"]})]}),e.jsxs("div",{className:"col-xl-12 mb-3 mb-md-4",children:[e.jsxs("p",{className:"font-14",children:["Send resources to this wallet ",""]}),e.jsx("input",{name:"dzFirstName",required:!0,type:"text",className:"form-control",placeholder:this.props.accountAddress,onChange:this.handleChangeWallet})]})]})]})})})})})}),e.jsx("div",{className:"col-lg-6 pt-4 mt-5 col-sm-12 m-b30",children:e.jsxs("div",{className:"info-box text-center",children:[e.jsx("img",{src:"images/ebot.png",width:"170px",className:"figure-img img-fluid rounded",alt:"resource rental energy"}),e.jsx("div",{className:"info",children:e.jsxs("p",{className:"font-20 p-5",children:["In Brutus Energy Bot, we've developed an app for a faster and secure resource rental experience on the Tron network. ",e.jsx("br",{}),e.jsx("br",{}),"Innovatively simplifying the process, we ensure efficient management at competitive prices. Explore further through our ",e.jsx("a",{style:{color:"purple",textDecoration:"underline"},href:"https://t.me/BRUTUS_energy_bot",children:"Telegram bot"})," or API for added accessibility. ",e.jsx("br",{}),e.jsx("br",{}),"For additional information, contact us via our ",e.jsx("a",{style:{color:"purple",textDecoration:"underline"},href:"https://t.me/brutus_comunidad_sr",children:"Telegram group"})," or reach out to us at ",e.jsx("a",{style:{color:"purple",textDecoration:"underline"},href:"mailto:support@brutus.finance",children:"support@brutus.finance"}),e.jsx("br",{}),e.jsx("br",{}),"Do you want to sell your energy/bandwidth and earn daily income? ",e.jsx("a",{style:{color:"purple",textDecoration:"underline"},href:"https://brutus.finance/provider/",children:"Join us as a provider now!"})]})}),e.jsx("div",{className:"widget widget_about",children:e.jsx("div",{className:"widget widget_getintuch"})}),e.jsx("div",{className:"social-box dz-social-icon style-3"})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Smart Contracts "})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[e.jsx("b",{children:"Rental operator:"})," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tronscan.org/#/contract/"+_.WALLET_API+"/code",children:_.WALLET_API})]})})]})})]}),e.jsx("div",{className:"modal fade",id:"mensaje-ebot",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.titulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:this.state.body})})]})})})]})}}const Ae=G()(Dt);function Ot({question:M,answer:t}){const[a,s]=U.useState(!1);return e.jsxs("div",{className:"border border-gray-300 rounded-xl mb-4 shadow-sm",children:[e.jsx("button",{onClick:()=>s(!a),className:"w-full text-left px-4 py-3 font-semibold bg-gray-100 hover:bg-gray-200 transition",children:M}),a&&e.jsx("div",{className:"px-4 py-3 text-gray-700 bg-white border-t border-gray-200",children:t})]})}const Ft={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_NFT:"https://nft-metadata.brutusservices.com/v1",VITE_API_PROVIDERS_URL:"https://api-providers.brutusservices.com/main",VITE_API_URL:"https://brutusservices.com/api/v1",VITE_BOT_URL:"https://e-bot.brutusservices.com/main",VITE_LIST_API_KEY:"1d5c4392-2fd9-47bc-b46d-aefddfa2f59e,8e79433a-ad89-4257-93af-9b4907b3cec0,6d5e8bc1-57fd-4d67-83bf-cdf707d817ef,e2eb14c1-fcf6-4c01-9d3b-030b9e0dadae,78758074-0fb2-4686-8c71-4c7ce5552179",VITE_LIST_TRONQL:"iujetrtxbxoskh9l1cidv7clngnjnm,i3fcbz8s3xxeg8j32d309ucoud767u,wzp7hvwcuygmntwbns7jsl5lkkph37",VITE_SECRET:"d17721fd6d4114e056da64b8c033589cb188c793b27b720a9057371da8a7f8a0",VITE_TOKEN:"He2nszcDIVBW7ZhtGk1Z",VITE_USER_C:"9650f24d09200d8d0e1b31fd9eab8b55",VITE_USER_ID:"1598897599",VITE_WALLET_API:"TCmWBMhbndmmqF61RYa9s3HvpFt7MrA7Wu"},V=Ft,zt=[{question:"When will I receive my next sales order?",answer:e.jsx(e.Fragment,{children:e.jsxs("p",{children:["The system is designed to be as equitable as possible among all providers, and all providers receive orders based on their available energy ratio. We cannot guarantee an exact time, but you have at your disposal tools to get an estimate.",e.jsx("br",{}),e.jsx("br",{}),"For example, the famous orange coefficient or availability ratio indicates what percentage of your total energy you have available for sale, and compares it to the average ratio of the entire pool of providers. The higher your ratio, the better positioned you are in the ranking to receive the next order. This depends a lot on the maxdays you have configured (at what term you want to sell), since, in general, there is usually much more demand at long terms than at short terms.",e.jsx("br",{}),e.jsx("br",{}),"You can check the ratios broken down by timeframe in the Telegram bot ",e.jsx("strong",{children:"@BRUTUS_energy_bot"})," with the command ",e.jsx("code",{children:"/infopool"}),"."]})})},{question:"How is my % payout calculated?",answer:e.jsx(e.Fragment,{children:e.jsxs("p",{children:["The payout is the payment you receive with respect to the total price of each sale order. Payout = price - Brutus commission. The % you receive depends on two factors: whether or not you vote Brutus as SR, and the term at which you sell your resources.",e.jsx("br",{}),e.jsx("br",{}),"If at least 95% of your votes are for Brutus, your % payout will be 80%, regardless of the timeframe at which you sell your resources.",e.jsx("br",{}),e.jsx("br",{}),"Otherwise (less than 95% of your votes are for Brutus), if your maxdays is at 1h, you will receive 67%, and if you sell at a higher term, you will receive 77%.",e.jsx("br",{}),e.jsx("br",{}),"A daily check is made at a random time of the votes made by your wallet, and based on that this percentage is determined. Therefore, if you change your maxdays or votes, you may not see a change in your payout until the check is made at a random time of the day."]})})}];class Wt extends U.Component{constructor(t){super(t),this.state={provider:!1,firma:!1,rent:!1,elegible:!1,sellband:!1,bandover:"0",sellener:!1,enerover:"0",burn:!1,noti:!1,autofreeze:"off",paymenthour:"Loading...",maxdays:"Loading...",ongoins:[],nexpayment:"Loading...",payoutRatio:0,ratioEnergy:new j(0),ratioEnergyPool:new j(0),paymentPoints:0,voteSR:"",newVoteSR:"",proEnergyTotal:0,proEnergy:0,proBand:0,proBandTotal:0,noregist:[],historic:[],dataHistoric:[],alturaGrafico:"0px",tiempo:"",payment:"0",payhere:">>>>>>>>>>>>>>>Loading<<<<<<<<<<<<<<<",payHere:"*************************************",completed:[],totalPayed30:"Loading...",allPayed:"Loading...",coin:"Loading..."},this.estado=this.estado.bind(this),this.handleChange=this.handleChange.bind(this),this.setConfig=this.setConfig.bind(this),this.grafico=this.grafico.bind(this)}componentDidMount(){document.title="Provider Panel | Brutus.Finance",document.getElementById("tittle").innerText=this.props.i18n.t("Provider Panel");function t(){return/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)}t()&&console.log("movil: true"),setTimeout(()=>{this.estado()},3*1e3),setInterval(()=>{this.estado()},20*1e3)}async estado(){const{accountAddress:t}=this.props;this.setState({tiempo:H.tz.guess(!0)});let a=_.apiProviders,s={result:!1};try{s=await fetch(a+"/provider?wallet="+t).then(n=>n.json())}catch(n){console.log(n.toString())}this.setState({provider:s.result});let i=!1;if(s.result&&this.props.tronlink.adapter.connected){let n=localStorage.getItem("firma-tron"),d="https://brutus.finance - "+new Date(Date.now()).getFullYear();n==null||await window.tronWeb.trx.verifyMessageV2(d,n)!==this.props.tronlink.adapter.address?(n=await this.props.tronlink.adapter.signMessage(d),localStorage.setItem("firma-tron",n)):n=localStorage.getItem("firma-tron");try{await window.tronWeb.trx.verifyMessageV2(d,n)===this.props.tronlink.adapter.address?i=!0:i=!1}catch(r){console.log(r.toString()),i=!0}if(this.setState({firma:i}),n!==void 0&&i){let r={};try{r=await fetch(a+"/status?wallet="+t).then(c=>c.json()).then(c=>c.data)}catch(c){console.log(c.toString())}let h=new j((r.ratio_e-r.ratio_e_pool)*100).dp(3).toNumber();h>=0&&(h="+"+h),r.naranja=h,r.freez&&(r.freez=r.freez.toLowerCase()),r.freez==="no"&&(r.freez="Off");let b=await this.props.tronWeb.trx.getAccountResources(t),m=0,f=0,g=0,N=0;b.EnergyLimit&&(m=b.EnergyLimit,f=b.EnergyLimit),b.EnergyUsed&&(m-=b.EnergyUsed),b.freeNetLimit&&(N=b.freeNetLimit),b.NetLimit&&(N+=b.NetLimit),g=N,b.freeNetUsed&&(g-=b.freeNetUsed),b.NetUsed&&(g-=b.NetUsed),r.allow_notifications===1?r.allow_notifications=!0:r.allow_notifications=!1;let w=!1;r.energyover>0&&(w=!0),r.coin=r.currency,this.setState({...r,rent:r.activo,sellener:w,enerover:r.energyover,noti:r.allow_notifications,autofreeze:r.freez,paymentPoints:r.payout_ratio*100,payoutRatio:r.payout_ratio,ratioEnergy:new j(r.ratio_e*100),ratioEnergyPool:new j(r.ratio_e_pool*100),cNaranja:h,voteSR:r.srVote,proEnergy:m,proEnergyTotal:f,proBand:g,proBandTotal:N});let C=await fetch(a+"/acum_payments",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify({wallet:t})}).then(c=>c.json()).then(c=>c.data).catch(c=>(console.log(c),0));C=new j(C).dp(3).toNumber().toLocaleString("en-US"),this.setState({allPayed:C});let u=await fetch(a+"/historic_payments",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify({wallet:t})}).then(c=>c.json()).then(c=>c.data).catch(c=>(console.log(c),[]));u=u.map((c,p)=>(c.amount=new j(c.amount),c.amount_stable&&c.coin.toLowerCase()!=="trx"&&(c.amount=new j(c.amount_stable),c.amount.toNumber()<5e6&&c.amount.toNumber()>0&&(c.amount=c.amount.shiftedBy(6))),{index:p,date:H.utc(c.date*1e3).tz(this.state.tiempo).format("lll"),amount:c.amount.shiftedBy(-6).dp(6).toNumber(),coin:c.coin}));let x=u.reduce((c,{amount:p,coin:B})=>{let y=c.findIndex(S=>S.coin===B);return y===-1?c.push({coin:B,amount:new j(p)}):c[y].amount=c[y].amount.plus(p),c},[]);console.log(x),x=x.map(c=>`${c.amount.dp(6).toNumber().toLocaleString("en-US")} ${c.coin}`),console.log(x),this.setState({dataHistoric:u,totalPayed30:x.join(" + ")});let v=await fetch(a+"/ongoingdeals",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify({wallet:t})}).then(c=>c.json()).then(c=>c.ongoing_deals).catch(c=>(console.log(c),[])),I=[];v=v.map((c,p)=>(I.push(c.customer),c.lock="unlock",c.order_type.toLowerCase().includes("wol")?c.lock="unlock":c.lock="lock",c.order_type.toLowerCase().includes("hour")&&(c.order_type="HOUR"),c.order_type.toLowerCase().includes("day")&&(c.order_type="DAY"),c.order_type.toLowerCase().includes("minutes")&&(c.order_type="MINUTES"),c.confirm=H.utc(c.confirm*1e3).tz(this.state.tiempo).format("lll"),c.unfreeze=H.utc(c.unfreeze*1e3).tz(this.state.tiempo).format("lll"),c.time=c.confirm+" -> "+c.unfreeze,{index:p,...c}));let D=await fetch(a+"/completed_deals",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify({wallet:t})}).then(c=>c.json()).then(c=>c.completed_deals).catch(c=>(console.log(c),[]));D=D.map((c,p)=>(I.push(c.customer),c.lock="unlock",c.order_type.toLowerCase().includes("wol")?c.lock="unlock":c.lock="lock",c.order_type.toLowerCase().includes("hour")&&(c.order_type="HOUR"),c.order_type.toLowerCase().includes("day")&&(c.order_type="DAY"),c.order_type.toLowerCase().includes("minutes")&&(c.order_type="MINUTES"),c.confirm=H.utc(c.confirm*1e3).tz(this.state.tiempo).format("lll"),c.unfreeze=H.utc(c.unfreeze*1e3).tz(this.state.tiempo).format("lll"),c.time=c.confirm+" -> "+c.unfreeze,{index:p,...c}));const E=await this.props.tronWeb.trx.getDelegatedResourceAccountIndexV2(t);let F=[];if(E.toAccounts){for(let c=0;c<E.toAccounts.length;c++)if(E.toAccounts[c]=this.props.tronWeb.address.fromHex(E.toAccounts[c]),I.indexOf(E.toAccounts[c])===-1){let p=await this.props.tronWeb.trx.getDelegatedResourceV2(t,E.toAccounts[c]);for(let B=0;B<p.delegatedResource.length;B++){let y={wallet:E.toAccounts[c],resource:"ENERGY",trx:0,sun:"0",expire:"--/--/-- 00:00 --",ownerAddress:t};p.delegatedResource[B].frozen_balance_for_energy?(y.trx=p.delegatedResource[B].frozen_balance_for_energy/10**6,y.sun=p.delegatedResource[B].frozen_balance_for_energy,p.delegatedResource[B].expire_time_for_energy&&(y.expire=new Date(p.delegatedResource[B].expire_time_for_energy),y.expire=H.utc(y.expire).tz(this.state.tiempo).format("lll"))):(y.trx=p.delegatedResource[B].frozen_balance_for_bandwidth/10**6,y.sun=p.delegatedResource[B].frozen_balance_for_bandwidth,p.delegatedResource[B].expire_time_for_bandwidth&&(y.expire=new Date(p.delegatedResource[B].expire_time_for_bandwidth),y.expire=H.utc(y.expire).tz(this.state.tiempo).format("lll")),y.resource="BANDWIDTH"),F.push(y)}}}this.setState({ongoins:v,completed:D,noregist:F})}}}async handleChange(t){let a=t.target;switch(a.id){case"rent":if(a.value!==this.state.rent){let s=1;this.state.rent&&(s=0);try{let n={wallet:this.props.accountAddress,active:s};fetch(_.apiProviders+"/set/active",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({rent:i})}break;case"band":if(a.value!==this.state.sellband){let s=0,i="0";if(!this.state.sellband&&(i="1",s=parseInt(prompt("sell band over, leave ",this.state.bandover)),console.log(s),!isNaN(s))){let l={wallet:this.props.accountAddress,sellbandover:s};fetch(_.apiProviders+"/set/sellbandover",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(l)})}try{let l={wallet:this.props.accountAddress,sellband:i};fetch(_.apiProviders+"/set/sellband",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(l)})}catch(l){console.log(l.toString())}let n=!1;a.value==="true"&&(n=!0),this.setState({sellband:n})}break;case"ener":if(a.value!==this.state.sellener){let s=0;if(this.state.sellener||(s=parseInt(prompt("sell energy over, leave ",32e3))),!isNaN(s)){let n={wallet:this.props.accountAddress,sellenergyover:s};fetch(_.apiProviders+"/set/sellenergyover",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(n)})}let i=!1;a.value==="true"&&(i=!0),this.setState({sellband:i})}break;case"burn":if(a.value!==this.state.burn){let s="1";this.state.burn&&(s="0");try{let n={wallet:this.props.accountAddress,burn:s};fetch(_.apiProviders+"/set/burn",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({burn:i})}break;case"voteSR":this.setState({newVoteSR:a.value});break;case"noti":if(a.value!==this.state.noti){let s="1";this.state.noti&&(s="0");try{let n={wallet:this.props.accountAddress,allow_notifications:s};fetch(_.apiProviders+"/set/allow_notifications",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({noti:i})}break}this.estado()}async grafico(t){if(!document.getElementById("chartdiv"))return;this.root&&this.root.dispose();const a=me.new("chartdiv");a._logo.dispose();let s=a.container.children.push(pe.new(a,{panY:!1,layout:a.verticalLayout})),i=[{date:new Date(1712953610*1e3),amount:1e3,coin:"trx"},{date:new Date(1712780810*1e3),amount:1300,coin:"trx"},{date:new Date(1712694410*1e3),amount:1200,coin:"trx"},{date:new Date(1712694410*1e3),amount:250,coin:"brst"},{date:new Date(1712521610*1e3),amount:200,coin:"brst"},{date:new Date(1712435210*1e3),amount:500,coin:"brst"}];i=t;let n=s.yAxes.push(ee.new(a,{renderer:te.new(a,{})})),l=s.xAxes.push(Oe.new(a,{baseInterval:{timeUnit:"day",count:1},renderer:Q.new(a,{}),categoryField:"date"}));l.data.setAll(i),s.series.push(Fe.new(a,{name:"TRX",xAxis:l,yAxis:n,valueYField:"amount",categoryXField:"date",fill:ue(7419391),stroke:ue(7419391)})).data.setAll(i),s.set("cursor",he.new(a,{})),this.root=a}async setConfig(t,a){const{accountAddress:s}=this.props;let{ModalTitulo:i,ModalBody:n}=this.state,l=!1;async function d(f){try{let g={wallet:s,autofreeze:f};await fetch(_.apiProviders+"/set/autofreeze",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(g)})}catch(g){console.log(g.toString())}}async function r(f){try{let g={wallet:s,paymenthour:f},N=await fetch(_.apiProviders+"/set/paymenthour",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(g)}).then(w=>w.json());!N.result&&N.data&&(l=!0,i="Operation not executed",n=N.data)}catch(g){console.log(g.toString())}}async function h(f){try{let g={wallet:s,maxdays:f};await fetch(_.apiProviders+"/set/maxdays",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(g)})}catch(g){console.log(g.toString())}}async function b(f){try{let g={wallet:s,sr:f};await fetch(_.apiProviders+"/set/sr",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(g)})}catch(g){console.log(g.toString())}}async function m(f){try{let g={wallet:s,currency:f.toUpperCase()},N=await fetch(_.apiProviders+"/set/change_currency",{method:"POST",headers:{"token-api":V.REACT_APP_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(g)}).then(w=>w.json());console.log(N),N.result?N.data.msg&&(l=!0,i="Operation Alert",n=N.data.msg):(l=!0,i="Operation not executed",n=N.data)}catch(g){console.log(g.toString())}}switch(t){case"setFreez":await d(a);break;case"setPaymentHour":await r(a);break;case"setMaxDays":await h(a);break;case"setWalletSr":await b(a);break;case"setCoin":await m(a);break;default:alert("no asigned");break}l&&(this.setState({ModalTitulo:i,ModalBody:n}),window.$("#alert").modal("show")),this.estado()}render(){let{provider:t,firma:a,autofreeze:s,coin:i,dataHistoric:n}=this.state;if(t)if(a){let l=e.jsxs("button",{className:"btn btn-outline-danger btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-sign-stop-fill"})," Stopped"]});this.state.rent&&(l=e.jsxs("button",{className:"btn btn-outline-info btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-arrow-clockwise"})," Recharging"]}),this.state.elegible&&(l=e.jsxs("button",{className:"btn btn-outline-success btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-check-circle-fill"})," Active"]})));let d=e.jsx(e.Fragment,{});return s!=="Off"&&(d=e.jsx("div",{className:"container mt-1",children:e.jsxs("div",{className:"row mt-1",children:[e.jsx("div",{className:"col-12",children:"Wallet of SR to vote (default: Brutus)"}),e.jsx("div",{className:"col-11",children:e.jsx("input",{type:"text",className:"form-control",id:"voteSR",style:{borderColor:"#c3c3c3"},placeholder:this.state.voteSR,onChange:this.handleChange,disabled:!1})}),e.jsx("div",{className:"col-1",children:e.jsx("i",{className:"bi bi-question-circle-fill",title:"You can set by which super representative wallet the automatic votes will be made",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"You can set by which super representative wallet the automatic votes will be made"}),window.$("#alert").modal("show")}})})]})}),this.state.voteSR!==""&&this.props.tronWeb.isAddress(this.state.newVoteSR)&&this.state.voteSR!==this.state.newVoteSR&&(d=e.jsxs(e.Fragment,{children:[d,e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{this.setWalletSr(this.state.newVoteSR)},children:"Update Wallet to Vote"})]}))),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-sm-12",children:e.jsx("div",{className:"card exchange",children:e.jsx("div",{className:"card-header d-block",style:{border:"none"},children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-6 col-sm-12 mb-2 text-center",children:[e.jsx("img",{height:"15px",src:"images/energy.png",alt:""})," Energy (",this.state.proEnergy.toLocaleString("en-US"),"/",this.state.proEnergyTotal.toLocaleString("en-us"),")",e.jsx("div",{className:"progress",style:{margin:"5px",backgroundColor:"lightgray"},children:e.jsx("div",{className:"progress-bar bg-warning",role:"progressbar",style:{width:this.state.proEnergy/this.state.proEnergyTotal*100+"%"},"aria-valuenow":this.state.proEnergy/this.state.proEnergyTotal*100,"aria-valuemin":"0","aria-valuemax":"100"})})]}),e.jsxs("div",{className:"col-lg-6 col-sm-12 mb-2 text-center",children:[e.jsx("span",{role:"img",children:""})," Bandwidth (",this.state.proBand.toLocaleString("en-us"),"/",this.state.proBandTotal.toLocaleString("en-us"),")",e.jsx("div",{className:"progress",style:{margin:"5px",backgroundColor:"lightgray"},children:e.jsx("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:this.state.proBand/this.state.proBandTotal*100+"%"},"aria-valuenow":this.state.proBand/this.state.proBandTotal*100,"aria-valuemin":"0","aria-valuemax":"100"})})]}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsxs("h2",{className:"heading",children:[l," "]})}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsx("h2",{className:"heading",children:e.jsxs("button",{type:"button",className:"btn btn-outline-warning btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("img",{height:"15px",src:"images/naranja.png",alt:""})," ",this.state.ratioEnergy.dp(3).toString(10)," ",this.state.ratioEnergyPool.toNumber()>0&&" / "+this.state.ratioEnergyPool.dp(3).toString(10)," "]})})}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsx("h2",{className:"heading",children:e.jsxs("button",{className:"btn btn-outline-secondary btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[" ",e.jsx("span",{role:"img","aria-label":"$",children:""})," Payout %",this.state.paymentPoints," "]})})}),e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle ",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu1",children:["Pay hour: ",this.state.payhour," GMT"]})," ","  "," ",e.jsx("span",{role:"img",children:e.jsx("i",{className:"bi bi-question-circle-fill",title:"Set the time you want to receive your daily payments",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Set the time you want to receive your daily payments"}),window.$("#alert").modal("show")}})}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu1",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setPaymentHour","130"),children:"1:30 GMT"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setPaymentHour","930"),children:"9:30 GMT"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setPaymentHour","1730"),children:"17:30 GMT"})]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle ",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu1",children:["Coin: ",i," "]})," ","  "," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Set the currency you want to receive your daily payments",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Set the currency you want to receive your daily payments"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu1",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setCoin","trx"),children:"TRX"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setCoin","usdd"),children:"USDD"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setCoin","usdt"),children:"USDT"})]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu2",children:["Max Days: ",this.state.maxdays]})," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Establish the max. duration of the orders you want to accept",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Establish the max. duration of the orders you want to accept"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu2",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setMaxDays","1h"),children:"1h"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setMaxDays",3),children:"3 days"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setMaxDays",7),children:"7 days"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setMaxDays",14),children:"14 days"})]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu",children:["Autofreeze: ",this.state.autofreeze]})," ","  "," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Let the bot freeze the remaining TRX in your wallet (leaving 100 TRX unfrozen)",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Let the bot freeze the remaining TRX in your wallet (leaving 100 TRX unfrozen)"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setFreez","no"),children:"Off"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setFreez","bandwidth"),children:"Bandwidth"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setConfig("setFreez","energy"),children:"Energy"})]})]}),e.jsx("div",{className:"col-lg-12 col-sm-12 mb-2",children:d}),e.jsxs("div",{className:"col-4  ",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"rent",style:{backgroundColor:this.state.rent?"#9568FF":"lightgray"},checked:this.state.rent,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Rent ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Pause/Resume the bot",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Pause/Resume the bot"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-4  ",style:{textAlign:"center"},children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"burn",style:{backgroundColor:this.state.burn?"#9568FF":"lightgray"},checked:this.state.burn,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Burn ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Allow TRX burn to accept new orders when you run out of bandwidth",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Allow TRX burn to accept new orders when you run out of bandwidth"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-4  ",style:{textAlign:"right"},children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"noti",style:{backgroundColor:this.state.noti?"#9568FF":"lightgray"},checked:this.state.noti,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Notify ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Pause/Resume notifications from the telegram bot",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Pause/Resume notifications from the telegram bot"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-6  ",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"band",style:{backgroundColor:this.state.sellband?"#9568FF":"lightgray"},checked:this.state.sellband,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Sell Band over: ",e.jsx("br",{}),this.state.bandover.toLocaleString("en-us")," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Sell your staked bandwidth over the amount you establish",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Sell your staked bandwidth over the amount you establish"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-6 ",style:{textAlign:"right"},children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"ener",style:{backgroundColor:this.state.sellener?"#9568FF":"lightgray"},checked:this.state.sellener,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Sell Energy over: ",e.jsx("br",{})," ",this.state.enerover.toLocaleString("en-us")," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Sell your staked energy over the amount you establish",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Sell your staked energy over the amount you establish"}),window.$("#alert").modal("show")}})]})]})]})})})})}),e.jsx("div",{className:"col-lg-4 col-sm-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pb-0",children:e.jsx("h2",{className:"heading mb-0 m-auto",children:"Next Payment"})}),e.jsxs("div",{className:"card-body text-center pt-3",children:[e.jsxs("div",{className:"mt-1",children:["Hour ",this.state.payhour," GMT"]}),e.jsx("hr",{}),e.jsxs("div",{className:"count-num mt-1",children:[this.state.payment.toLocaleString("en-US")," TRX"]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-1",children:["that will be paid here:",e.jsx("br",{})," ",e.jsx("u",{onMouseEnter:()=>{this.setState({payHere:this.state.payhere})},onMouseLeave:()=>{this.setState({payHere:"*************************************"})},children:this.state.payHere})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-1",children:["Total earned all time:",e.jsx("br",{}),e.jsxs("b",{children:[this.state.allPayed," TRX"]})," ",e.jsx("br",{}),e.jsxs("button",{className:"btn btn-danger",onClick:()=>{localStorage.removeItem("firma-tron"),this.setState({firma:!1})},children:["LogOut ",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),e.jsx("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"})]})]})]})]})]})})]})}),e.jsx("div",{className:"col-xl-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["last ",n.length," payments = ",this.state.totalPayed30]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-sm-12",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",style:{textAlign:"right"},children:"Amount"}),e.jsx("th",{scope:"col",children:"Currency"}),e.jsx("th",{scope:"col",children:"Date"})]})}),e.jsx("tbody",{children:n.toReversed().map((r,h)=>e.jsxs("tr",{children:[e.jsx("td",{align:"right",children:r.amount.toLocaleString("en-US")}),e.jsx("td",{children:r.coin}),e.jsx("td",{children:r.date})]},h))})]})})}),e.jsxs("div",{className:"col-lg-4 col-sm-12",children:[e.jsx("div",{className:"mb-3",id:"chartdiv",style:{height:this.state.alturaGrafico,backgroundColor:"white"}}),e.jsx("button",{className:"btn btn-success",onClick:()=>{this.state.alturaGrafico==="0px"?(this.setState({alturaGrafico:"350px"}),this.grafico(this.state.dataHistoric)):(this.setState({alturaGrafico:"0px"}),this.root.dispose())},children:"Graphic (Open / Close)"})]})]})}),e.jsx("div",{className:"card-footer",children:e.jsx(xe,{filename:"Last_30_payments",suffix:!0,extension:".csv",separator:";",wrapColumnChar:"'",columns:[{id:"amount",displayName:"Amount"},{id:"coin",displayName:"Currency"},{id:"date",displayName:"Date"}],datas:n,text:"DOWNLOAD CSV",className:"btn btn-info"})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Ongoing deals (",this.state.ongoins.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Resource / Period"}),e.jsx("th",{scope:"col",children:"Buyer / Time"}),e.jsx("th",{scope:"col",children:"Payout"})]})}),e.jsx("tbody",{children:this.state.ongoins.map(r=>e.jsxs("tr",{children:[e.jsxs("td",{children:[r.amount.toLocaleString("en-US")," ",r.resource," / ",r.order_type," ",e.jsx("i",{className:"bi bi-"+r.lock+"-fill"})]}),e.jsxs("td",{children:[r.customer,e.jsx("br",{}),r.confirm," -> ",r.unfreeze,e.jsx("br",{})]}),e.jsxs("td",{children:[r.payout," TRX"]})]},r.index))})]})})}),e.jsx("div",{className:"card-footer",children:e.jsx(xe,{filename:"ongoing_deals",suffix:!0,extension:".csv",separator:";",wrapColumnChar:"'",columns:[{id:"resource",displayName:"Resource"},{id:"order_type",displayName:"Period"},{id:"customer",displayName:"Buyer"},{id:"time",displayName:"Time"},{id:"payout",displayName:"Payout"}],datas:this.state.ongoins,text:"DOWNLOAD CSV",className:"btn btn-info"})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Completed deals (",this.state.completed.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Resource / Period"}),e.jsx("th",{scope:"col",children:"Buyer / Time"}),e.jsx("th",{scope:"col",children:"Payout"})]})}),e.jsx("tbody",{children:this.state.completed.map(r=>e.jsxs("tr",{children:[e.jsxs("td",{children:[r.amount.toLocaleString("en-US")," ",r.resource," / ",r.order_type," ",e.jsx("i",{className:"bi bi-"+r.lock+"-fill"})]}),e.jsxs("td",{children:[r.customer,e.jsx("br",{}),r.confirm," -> ",r.unfreeze,e.jsx("br",{})]}),e.jsxs("td",{children:[r.payout," TRX"]})]},r.index))})]})})}),e.jsx("div",{className:"card-footer",children:e.jsx(xe,{filename:"completed_deals",suffix:!0,extension:".csv",separator:";",wrapColumnChar:"'",columns:[{id:"resource",displayName:"Resource"},{id:"order_type",displayName:"Period"},{id:"customer",displayName:"Buyer"},{id:"time",displayName:"Time"},{id:"payout",displayName:"Payout"}],datas:this.state.completed,text:"DOWNLOAD CSV",className:"btn btn-info"})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Other delegations (",this.state.noregist.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col"}),e.jsx("th",{scope:"col",children:"Resource"}),e.jsx("th",{scope:"col",children:"TRX"}),e.jsx("th",{scope:"col",children:"Wallet / Expire Time"})]})}),e.jsx("tbody",{children:this.state.noregist.map(r=>{let h=r.sun,b=r.wallet,m=r.resource,f=r.ownerAddress;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"dropdown custom-dropdown mb-0",children:[e.jsx("div",{className:"btn sharp btn-primary tp-btn","data-bs-toggle":"dropdown",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-end",children:[e.jsx("a",{className:"dropdown-item text-info",href:"https://tronscan.org/#/wallet/resources",target:"_blank",rel:"noopener noreferrer",children:"View on TronScan"}),e.jsx("button",{className:"dropdown-item text-danger",onClick:async()=>{let g=await this.props.tronWeb.transactionBuilder.undelegateResource(h,b,m,f);g=await window.tronWeb.trx.sign(g),g=await this.props.tronWeb.trx.sendRawTransaction(g),this.setState({ModalTitulo:"Result: "+g.result,ModalBody:e.jsx("a",{className:"btn btn-primary",href:"https://tronscan.org/#/transaction/"+g.txid,target:"_blank",rel:"noopener noreferrer",children:"see result in TronScan"})}),window.$("#alert").modal("show"),this.estado()},children:"Reclaim Resource"})]})]})}),e.jsxs("td",{children:[r.resource," "]}),e.jsxs("td",{children:[r.trx.toLocaleString("en-US")," "]}),e.jsxs("td",{children:[r.wallet,e.jsx("br",{}),r.expire]})]},r.index)})})]})})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Frequently Asked Questions"})}),e.jsx("div",{className:"card-body",children:zt.map((r,h)=>e.jsx(Ot,{question:r.question,answer:r.answer},h))})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{className:"card-title",children:"Other Info"})}),e.jsx("div",{className:"card-body",children:e.jsxs("p",{children:[""," Join the telegram providers ",e.jsx("b",{children:e.jsx("a",{href:"https://t.me/+V-HHCgAevxA5NGQ0",target:"_blank",rel:"noopener noreferrer",children:"channel"})})," to keep tuned with the latest news!"]})})]})})]})})]})}),e.jsx("div",{className:"modal fade",id:"alert",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.ModalTitulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:this.state.ModalBody})})]})})})]})}else return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card exchange",children:e.jsxs("div",{className:"card-header d-block",style:{border:"none"},children:[e.jsx("h2",{className:"heading",children:"Status: you are a provider"}),e.jsx("p",{children:e.jsx("button",{className:"btn btn-warning",onClick:()=>this.estado(),children:"Login"})}),e.jsx("p",{children:"There seems to be problems when performing signature verification please contact support."}),e.jsxs("p",{children:["Join the telegram providers ",e.jsx("a",{href:"https://t.me/+V-HHCgAevxA5NGQ0",target:"_blank",rel:"noopener noreferrer",children:"channel"})," to keep tuned with the latest news! "]})]})})})})})})})});else return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card exchange",children:e.jsxs("div",{className:"card-header d-block",style:{border:"none"},children:[e.jsx("h2",{className:"heading",children:"Ready for rent your energy"}),e.jsxs("p",{children:["You are not a supplier? if you want to become one read the following article ",e.jsx("br",{}),e.jsx("a",{className:"btn btn-primary",href:"https://brutus.finance/brutusprovider.html",children:"Become a supplier"})]})]})})})})})})})})}}const Xt=G()(Wt),Te=new ze(null,{path:"/"});class Ht extends U.Component{constructor(t){super(t),this.state={provider:!1,rent:!1,elegible:!1,sellband:!1,bandover:"0",burn:!1,noti:!1,autofreeze:"off",paymenthour:"Loading...",maxdays:"Loading...",ongoins:[],nexpayment:"Loading...",payoutRatio:0,ratioEnergy:0,ratioEnergyPool:0,paymentPoints:0,voteSR:"",newVoteSR:"",proEnergyTotal:0,proEnergy:0,proBand:0,proBandTotal:0,noregist:[],historic:[],dataHistoric:[],alturaGrafico:"0px",tiempo:"",payment:"0",completed:[],totalPayed30:"Loading...",allPayed:"Loading..."},this.estado=this.estado.bind(this),this.handleChange=this.handleChange.bind(this),this.setPaymentHour=this.setPaymentHour.bind(this),this.setMaxDays=this.setMaxDays.bind(this),this.setFreez=this.setFreez.bind(this),this.setWalletSr=this.setWalletSr.bind(this),this.grafico=this.grafico.bind(this)}componentDidMount(){const{t}=this.props;document.title="B.F | API Panel",document.getElementById("tittle").innerText=t("API Panel"),setTimeout(()=>{this.estado()},3*1e3),setInterval(()=>{this.estado()},30*1e3)}async handleChange(t){let a=t.target;switch(a.id){case"rent":if(a.value!==this.state.rent){let s=1;this.state.rent&&(s=0);try{let n={wallet:this.props.accountAddress,active:s};fetch(_.apiProviders+"/set/active",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({rent:i})}break;case"band":if(a.value!==this.state.sellband){let s=0,i="0";if(!this.state.sellband){i="1",s=parseInt(prompt("sell band over, leave ",this.state.bandover)),console.log(s);let l={wallet:this.props.accountAddress,sellbandover:s};fetch(_.apiProviders+"/set/sellbandover",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(l)})}try{let l={wallet:this.props.accountAddress,sellband:i};fetch(_.apiProviders+"/set/sellband",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(l)})}catch(l){console.log(l.toString())}let n=!1;a.value==="true"&&(n=!0),this.setState({sellband:n})}break;case"burn":if(a.value!==this.state.burn){let s="1";this.state.burn&&(s="0");try{let n={wallet:this.props.accountAddress,burn:s};fetch(_.apiProviders+"/set/burn",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({burn:i})}break;case"voteSR":this.setState({newVoteSR:a.value});break;case"noti":if(a.value!==this.state.noti){let s="1";this.state.noti&&(s="0");try{let n={wallet:this.props.accountAddress,allow_notifications:s};fetch(_.apiProviders+"/set/allow_notifications",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.log(n.toString())}let i=!1;a.value==="true"&&(i=!0),this.setState({noti:i})}break}this.estado()}async grafico(t){if(!document.getElementById("chartdiv"))return;this.root&&this.root.dispose();const a=me.new("chartdiv");a._logo.dispose();let s=a.container.children.push(pe.new(a,{panY:!1,layout:a.verticalLayout})),i=[{date:new Date(1712953610*1e3),amount:1e3,coin:"trx"},{date:new Date(1712780810*1e3),amount:1300,coin:"trx"},{date:new Date(1712694410*1e3),amount:1200,coin:"trx"},{date:new Date(1712694410*1e3),amount:250,coin:"brst"},{date:new Date(1712521610*1e3),amount:200,coin:"brst"},{date:new Date(1712435210*1e3),amount:500,coin:"brst"}];i=t;let n=s.yAxes.push(ee.new(a,{renderer:te.new(a,{})})),l=s.xAxes.push(Oe.new(a,{baseInterval:{timeUnit:"day",count:1},renderer:Q.new(a,{}),categoryField:"date"}));l.data.setAll(i),s.series.push(Fe.new(a,{name:"TRX",xAxis:l,yAxis:n,valueYField:"amount",categoryXField:"date",fill:ue(7419391),stroke:ue(7419391)})).data.setAll(i),s.set("cursor",he.new(a,{})),this.root=a}async setFreez(t){try{let a={wallet:this.props.accountAddress,autofreeze:t};await fetch(_.apiProviders+"/set/autofreeze",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(a){console.log(a.toString())}this.estado()}async setPaymentHour(t){try{let a={wallet:this.props.accountAddress,paymenthour:t};await fetch(_.apiProviders+"/set/paymenthour",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(a){console.log(a.toString())}this.estado()}async setMaxDays(t){try{let a={wallet:this.props.accountAddress,maxdays:t};await fetch(_.apiProviders+"/set/maxdays",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(a){console.log(a.toString())}this.estado()}async setWalletSr(t){try{let a={wallet:this.props.accountAddress,sr:t};await fetch(_.apiProviders+"/set/sr",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(a){console.log(a.toString())}this.estado()}async estado(){this.setState({tiempo:H.tz.guess(!0)});var t=_.apiProviders;let a={result:!1};try{a=await fetch(t+"/provider?wallet="+this.props.accountAddress).then(r=>r.json())}catch(r){console.log(r.toString())}if(a.result&&this.props.tronlink.adapter.connected){let r=await Te.get("firma-tron"),h="brutus.finance 2024";r===void 0?(r=await this.props.tronlink.adapter.signMessage(h),Te.set("firma-tron",r,{maxAge:86400})):r=await Te.get("firma-tron");let b=!1;try{(await window.tronWeb.trx.verifyMessageV2(h,r)===this.props.tronlink.adapter.address||r)&&(b=!0)}catch(m){console.log(m.toString())}if(r!==void 0&&b){this.setState({provider:!0});let m={};try{m=await fetch(t+"/status?wallet="+this.props.accountAddress).then(p=>p.json()).then(p=>p.data)}catch(p){console.log(p.toString())}let f=new j((m.ratio_e-m.ratio_e_pool)*100).dp(3).toNumber();f>=0&&(f="+"+f),m.freez&&(m.freez=m.freez.toLowerCase()),m.freez==="no"&&(m.freez="Off");var s=await this.props.tronWeb.trx.getAccountResources(this.props.accountAddress),i=0,n=0,l=0,d=0;s.EnergyLimit&&(i=s.EnergyLimit,n=s.EnergyLimit),s.EnergyUsed&&(i-=s.EnergyUsed),s.freeNetLimit&&(d=s.freeNetLimit),s.NetLimit&&(d+=s.NetLimit),l=d,s.freeNetUsed&&(l-=s.freeNetUsed),s.NetUsed&&(l-=s.NetUsed),m.allow_notifications===1?m.allow_notifications=!0:m.allow_notifications=!1,this.setState({rent:m.activo,elegible:m.elegible,sellband:m.sellband,bandover:m.bandover,burn:m.burn,noti:m.allow_notifications,autofreeze:m.freez,payhour:m.payhour,payment:m.payment,paymentPoints:m.payout_ratio*100,maxdays:m.maxdays,payhere:m.payhere,payoutRatio:m.payout_ratio,ratioEnergy:new j(m.ratio_e*100).dp(3).toString(10),ratioEnergyPool:new j(m.ratio_e_pool*100).dp(3).toString(10),cNaranja:f,voteSR:m.srVote,proEnergy:i,proEnergyTotal:n,proBand:l,proBandTotal:d});let g={};try{g=await fetch(t+"/historic_payments",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify({wallet:this.props.accountAddress})}).then(p=>p.json()).then(p=>p.data)}catch(p){console.log(p.toString())}let N=0;try{N=await fetch(t+"/acum_payments",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify({wallet:this.props.accountAddress})}).then(p=>p.json()).then(p=>p.data)}catch(p){console.log(p.toString())}N=new j(N).dp(3).toNumber().toLocaleString("en-US"),this.setState({allPayed:N});let w=[],C=new j(0);g=g.toReversed().map((p,B)=>(w.unshift({date:new Date(p.date*1e3),amount:new j(p.amount).shiftedBy(-6).dp(3).toNumber(),coin:p.coin}),C=C.plus(p.amount),e.jsxs("tr",{children:[e.jsx("td",{children:H.utc(p.date*1e3).tz(this.state.tiempo).format("lll")}),e.jsx("td",{children:new j(p.amount).shiftedBy(-6).dp(3).toNumber().toLocaleString("en-US")}),e.jsx("td",{children:p.coin})]},B))),this.setState({historic:g,dataHistoric:w,totalPayed30:C.shiftedBy(-6).dp(3).toNumber().toLocaleString("en-US")+" TRX"});let u=[];try{let p={wallet:this.props.accountAddress};u=await fetch(t+"/ongoingdeals",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(p)}).then(B=>B.json()).then(B=>B.ongoing_deals)}catch(p){console.error(p.toString())}let x=[];const v=u.map((p,B)=>{x.push(p.customer);let y="unlock";return p.order_type.toLowerCase().includes("wol")?y="unlock":y="lock",p.order_type.toLowerCase().includes("hour")&&(p.order_type="HOUR"),p.order_type.toLowerCase().includes("day")&&(p.order_type="DAY"),p.order_type.toLowerCase().includes("minutes")&&(p.order_type="MINUTES"),e.jsxs("tr",{children:[e.jsxs("td",{children:[p.amount.toLocaleString("en-US")," ",p.resource," / ",p.order_type," ",e.jsx("i",{className:"bi bi-"+y+"-fill"})]}),e.jsxs("td",{children:[p.customer,e.jsx("br",{}),H.utc(p.confirm*1e3).tz(this.state.tiempo).format("lll")," -> ",H.utc(p.unfreeze*1e3).tz(this.state.tiempo).format("lll"),e.jsx("br",{})]}),e.jsxs("td",{children:[p.payout," TRX"]})]},B)});let I=[];try{let p={wallet:this.props.accountAddress};I=await fetch(t+"/completed_deals",{method:"POST",headers:{"token-api":"He2nszcDIVBW7ZhtGk1Z","Content-Type":"application/json"},body:JSON.stringify(p)}).then(B=>B.json()).then(B=>B.completed_deals)}catch(p){console.error(p.toString())}const D=I.map((p,B)=>{x.push(p.customer);let y="unlock";return p.order_type.toLowerCase().includes("wol")?y="unlock":y="lock",p.order_type.toLowerCase().includes("hour")&&(p.order_type="HOUR"),p.order_type.toLowerCase().includes("day")&&(p.order_type="DAY"),p.order_type.toLowerCase().includes("minutes")&&(p.order_type="MINUTES"),e.jsxs("tr",{children:[e.jsxs("td",{children:[p.amount.toLocaleString("en-US")," ",p.resource," / ",p.order_type," ",e.jsx("i",{className:"bi bi-"+y+"-fill"})]}),e.jsxs("td",{children:[p.customer,e.jsx("br",{}),H.utc(p.confirm*1e3).tz(this.state.tiempo).format("lll")," -> ",H.utc(p.unfreeze*1e3).tz(this.state.tiempo).format("lll"),e.jsx("br",{})]}),e.jsxs("td",{children:[p.payout," TRX"]})]},B)}),E=await this.props.tronWeb.trx.getDelegatedResourceAccountIndexV2(this.props.accountAddress);let F=[];if(E.toAccounts){for(let p=0;p<E.toAccounts.length;p++)if(E.toAccounts[p]=this.props.tronWeb.address.fromHex(E.toAccounts[p]),x.indexOf(E.toAccounts[p])===-1){let B=await this.props.tronWeb.trx.getDelegatedResourceV2(this.props.accountAddress,E.toAccounts[p]);for(let y=0;y<B.delegatedResource.length;y++){let S={wallet:E.toAccounts[p],resource:"ENERGY",trx:0,sun:"0",expire:"--/--/-- 00:00 --"};B.delegatedResource[y].frozen_balance_for_energy?(S.trx=B.delegatedResource[y].frozen_balance_for_energy/10**6,S.sun=B.delegatedResource[y].frozen_balance_for_energy,B.delegatedResource[y].expire_time_for_energy&&(S.expire=new Date(B.delegatedResource[y].expire_time_for_energy),S.expire=H.utc(S.expire).tz(this.state.tiempo).format("lll"))):(S.trx=B.delegatedResource[y].frozen_balance_for_bandwidth/10**6,S.sun=B.delegatedResource[y].frozen_balance_for_bandwidth,B.delegatedResource[y].expire_time_for_bandwidth&&(S.expire=new Date(B.delegatedResource[y].expire_time_for_bandwidth),S.expire=H.utc(S.expire).tz(this.state.tiempo).format("lll")),S.resource="BANDWIDTH"),F.push(S)}}}const c=F.map((p,B)=>{let y=p.sun,S=p.wallet,P=p.resource,T=this.props.accountAddress;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"dropdown custom-dropdown mb-0",children:[e.jsx("div",{className:"btn sharp btn-primary tp-btn","data-bs-toggle":"dropdown",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-end",children:[e.jsx("a",{className:"dropdown-item text-info",href:"https://tronscan.org/#/wallet/resources",children:"View on TronScan"}),e.jsx("button",{className:"dropdown-item text-danger",onClick:async()=>{let o=await this.props.tronWeb.transactionBuilder.undelegateResource(y,S,P,T);o=await this.props.tronWeb.trx.sign(o),o=await this.props.tronWeb.trx.sendRawTransaction(o),this.setState({ModalTitulo:"Result: "+o.result,ModalBody:e.jsx("a",{href:"https://tronscan.org/#/transaction/"+o.txid,children:"see result in TronScan"})}),window.$("#alert").modal("show")},children:"Reclaim Resource"})]})]})}),e.jsxs("td",{children:[p.resource," "]}),e.jsxs("td",{children:[p.trx.toLocaleString("en-US")," "]}),e.jsxs("td",{children:[p.wallet,e.jsx("br",{}),p.expire]})]},B)});this.setState({ongoins:v,noregist:c,completed:D})}}else this.setState({provider:!1})}render(){if(this.state.provider){let t=e.jsxs("button",{className:"btn btn-outline-danger btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-sign-stop-fill"})," Stopped"]});this.state.rent&&(t=e.jsxs("button",{className:"btn btn-outline-info btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-arrow-clockwise"})," Recharging"]}),this.state.elegible&&(t=e.jsxs("button",{className:"btn btn-outline-success btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("i",{className:"bi bi-check-circle-fill"})," Active"]})));let a=e.jsx(e.Fragment,{});return this.state.autofreeze!=="Off"&&(a=e.jsx("div",{className:"container mt-1",children:e.jsxs("div",{className:"row mt-1",children:[e.jsx("div",{className:"col-12",children:"Wallet of SR to vote (default: Brutus)"}),e.jsx("div",{className:"col-11",children:e.jsx("input",{type:"text",className:"form-control",id:"voteSR",style:{borderColor:"#c3c3c3"},placeholder:this.state.voteSR,onChange:this.handleChange,disabled:!1})}),e.jsx("div",{className:"col-1",children:e.jsx("i",{className:"bi bi-question-circle-fill",title:"You can set by which super representative wallet the automatic votes will be made",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"You can set by which super representative wallet the automatic votes will be made"}),window.$("#alert").modal("show")}})})]})}),this.state.voteSR!==""&&this.props.tronWeb.isAddress(this.state.newVoteSR)&&this.state.voteSR!==this.state.newVoteSR&&(a=e.jsxs(e.Fragment,{children:[a,e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>{this.setWalletSr(this.state.newVoteSR)},children:"Update Wallet to Vote"})]}))),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-sm-12",children:e.jsx("div",{className:"card exchange",children:e.jsx("div",{className:"card-header d-block",children:e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-12 col-sm-12 mb-2",children:e.jsx("h2",{className:"heading",children:"Status "})}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsxs("h2",{className:"heading",children:[t," "]})}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsx("h2",{className:"heading",children:e.jsxs("button",{type:"button",className:"btn btn-outline-warning btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[e.jsx("img",{height:"15px",src:"images/naranja.png",alt:""})," ",this.state.ratioEnergy," /  ",this.state.ratioEnergyPool," "]})})}),e.jsx("div",{className:"col-lg-4 col-sm-12 mb-2",children:e.jsx("h2",{className:"heading",children:e.jsxs("button",{className:"btn btn-outline-secondary btn-block",style:{cursor:"default",maxHeight:"36.55px",fontSize:"12px"},children:[" ",e.jsx("span",{role:"img","aria-label":"$",children:""})," Payout %",this.state.paymentPoints," "]})})}),e.jsxs("div",{className:"col-lg-6 col-sm-12 mb-2",children:["Energy (",this.state.proEnergy.toLocaleString("en-US"),"/",this.state.proEnergyTotal.toLocaleString("en-us"),") ",e.jsx("img",{height:"15px",src:"images/energy.png",alt:""}),e.jsx("div",{className:"progress",style:{margin:"5px",backgroundColor:"lightgray"},children:e.jsx("div",{className:"progress-bar bg-warning",role:"progressbar",style:{width:this.state.proEnergy/this.state.proEnergyTotal*100+"%"},"aria-valuenow":this.state.proEnergy/this.state.proEnergyTotal*100,"aria-valuemin":"0","aria-valuemax":"100"})})]}),e.jsxs("div",{className:"col-lg-6 col-sm-12 mb-2",children:["Bandwidth (",this.state.proBand.toLocaleString("en-us"),"/",this.state.proBandTotal.toLocaleString("en-us"),") ",e.jsx("div",{className:"progress",style:{margin:"5px",backgroundColor:"lightgray"},children:e.jsx("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:this.state.proBand/this.state.proBandTotal*100+"%"},"aria-valuenow":this.state.proBand/this.state.proBandTotal*100,"aria-valuemin":"0","aria-valuemax":"100"})})]}),e.jsxs("div",{className:"col-lg-4 col-sm-6 form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"rent",checked:this.state.rent,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Rent ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Pause/Resume the bot",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Pause/Resume the bot"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-lg-4 col-sm-6 form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"burn",checked:this.state.burn,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Burn ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Allow TRX burn to accept new orders when you run out of bandwidth",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Allow TRX burn to accept new orders when you run out of bandwidth"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-lg-4 col-sm-6 form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"noti",checked:this.state.noti,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Notifications ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Pause/Resume notifications from the telegram bot",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Pause/Resume notifications from the telegram bot"}),window.$("#alert").modal("show")}})]})]}),e.jsxs("div",{className:"col-lg-6 col-sm-12 form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"band",checked:this.state.sellband,onChange:this.handleChange}),e.jsxs("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:["Sell Band over: ",this.state.bandover.toLocaleString("en-us")," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Sell your staked bandwidth over the amount you establish",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Sell your staked bandwidth over the amount you establish"}),window.$("#alert").modal("show")}})]})]})]}),e.jsxs("div",{className:"row mt-3",children:[e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle ",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu1",children:["Payment hour: ",this.state.payhour," GMT"]})," ","  "," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Set the time you want to receive your daily payments",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Set the time you want to receive your daily payments"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu1",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setPaymentHour("130"),children:"1:30 GMT"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setPaymentHour("930"),children:"9:30 GMT"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setPaymentHour("1730"),children:"17:30 GMT"})]})]}),e.jsxs("div",{className:"col-lg-6 col-md-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle",style:{width:"90%"},"data-bs-toggle":"dropdown",id:"menu2",children:["Max Days: ",this.state.maxdays]})," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Establish the max. duration of the orders you want to accept",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Establish the max. duration of the orders you want to accept"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu2",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setMaxDays("1h"),children:"1h"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setMaxDays(3),children:"3 days"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setMaxDays(7),children:"7 days"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setMaxDays(14),children:"14 days"})]})]}),e.jsxs("div",{className:"col-lg-12 col-sm-12 mb-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary dropdown-toggle",style:{width:"95.33%"},"data-bs-toggle":"dropdown",id:"menu",children:["Autofreeze: ",this.state.autofreeze]})," ","  "," ",e.jsx("i",{className:"bi bi-question-circle-fill",title:"Let the bot freeze the remaining TRX in your wallet (leaving 100 TRX unfrozen)",onClick:()=>{this.setState({ModalTitulo:"Info",ModalBody:"Let the bot freeze the remaining TRX in your wallet (leaving 100 TRX unfrozen)"}),window.$("#alert").modal("show")}}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"menu",children:[e.jsx("button",{className:"dropdown-item",onClick:()=>this.setFreez("no"),children:"Off"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setFreez("bandwidth"),children:"Bandwidth"}),e.jsx("button",{className:"dropdown-item",onClick:()=>this.setFreez("energy"),children:"Energy"})]})]}),e.jsx("div",{className:"col-lg-12 col-sm-12 mb-2",children:a})]})]})})})}),e.jsx("div",{className:"col-lg-4 col-sm-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pb-0",children:e.jsx("h2",{className:"heading mb-0 m-auto",children:"Next Payment"})}),e.jsxs("div",{className:"card-body text-center pt-3",children:[e.jsxs("div",{className:"mt-1",children:["Hour ",this.state.payhour," GMT"]}),e.jsx("hr",{}),e.jsxs("div",{className:"count-num mt-1",children:[this.state.payment.toLocaleString("en-US")," TRX"]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-1",children:["that will be paid here: ",e.jsx("u",{children:this.state.payhere})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-1",children:["Total earned all time:",e.jsx("br",{}),e.jsxs("b",{children:[this.state.allPayed," TRX"]})," "]})]})]})})]})}),e.jsx("div",{className:"col-xl-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["last ",this.state.historic.length," payments = ",this.state.totalPayed30]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-sm-12",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Date"}),e.jsx("th",{scope:"col",children:"Amount"}),e.jsx("th",{scope:"col",children:"Coin"})]})}),e.jsx("tbody",{children:this.state.historic})]})})}),e.jsxs("div",{className:"col-lg-4 col-sm-12",children:[e.jsx("div",{className:"mb-3",id:"chartdiv",style:{height:this.state.alturaGrafico,backgroundColor:"white"}}),e.jsx("button",{className:"btn btn-success",onClick:()=>{this.state.alturaGrafico==="0px"?(this.setState({alturaGrafico:"350px"}),this.grafico(this.state.dataHistoric)):(this.setState({alturaGrafico:"0px"}),this.root.dispose())},children:"Graphic (Open / Close)"})]})]})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Ongoing deals (",this.state.ongoins.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Resource / Period"}),e.jsx("th",{scope:"col",children:"Buyer / Time"}),e.jsx("th",{scope:"col",children:"Payout"})]})}),e.jsx("tbody",{children:this.state.ongoins})]})})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Completed deals (",this.state.completed.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Resource / Period"}),e.jsx("th",{scope:"col",children:"Buyer / Time"}),e.jsx("th",{scope:"col",children:"Payout"})]})}),e.jsx("tbody",{children:this.state.completed})]})})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"card-title",children:["Other delegations (",this.state.noregist.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive recentOrderTable overflow-scroll",style:{height:"350px"},children:e.jsxs("table",{className:"table verticle-middle table-responsive-md",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col"}),e.jsx("th",{scope:"col",children:"Resource"}),e.jsx("th",{scope:"col",children:"TRX"}),e.jsx("th",{scope:"col",children:"Wallet / Expire Time"})]})}),e.jsx("tbody",{children:this.state.noregist})]})})})]})})]})})]})}),e.jsx("div",{className:"modal fade",id:"alert",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:this.state.ModalTitulo}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("p",{children:this.state.ModalBody})})]})})})]})}else return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card exchange",children:e.jsxs("div",{className:"card-header d-block",children:[e.jsx("h2",{className:"heading",children:"Status"}),e.jsxs("p",{children:["you are not a supplier, if you want to become one read the following ",e.jsx("a",{className:"btn btn-primary",href:"https://brutus.finance/brutusprovider.html",children:"article"})]})]})})})})})})})})}}const Vt=G()(Ht),J="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb",$t=e.jsx("img",{src:"images/cargando.gif",height:"20px",alt:"loading..."}),Se=new ze(null,{path:"/",maxAge:3600*24*30});let Ve=Se.get("theme")||"light";typeof document<"u"&&document.documentElement.setAttribute("data-theme-version",Ve);const Gt=()=>{const t=(Se.get("theme")||"light")==="light"?"dark":"light";typeof document<"u"&&document.documentElement.setAttribute("data-theme-version",t),Se.set("theme",t)};let Ne=null;const oe=()=>(!Ne&&typeof window<"u"&&(Ne=new tt),Ne),qt=({i18n:M,t})=>{const[a,s]=U.useState({ruta:"",accountAddress:J,tronlink:{installed:!1,loggedIn:!1,viewer:!0,adapter:{}},tronWeb:{},contrato:{ready:!1,BRUT_USDT:null,BRUT:null,MBOX:null,loteria:null,BRLT:null,USDT:null,USDD:null,BRGY:null,BRST:null,BRST_TRX:null,BRST_TRX_Proxy:null,BRST_TRX_Proxy_fast:null},conexion:!1,msj:{},tronWebReady:!1}),i=U.useRef(null),n=U.useRef(0),l=U.useRef(!0),d=U.useRef(!1),r=U.useRef(!1),h=U.useCallback(()=>{let u=window.location.href;return u.indexOf("/?")>=0?(u=u.split("/?")[1],u.indexOf("#")>=0&&(u=u.split("#")[0]),u.indexOf("&")>=0&&(u=u.split("&")[0]),u.indexOf("=")>=0&&(u=u.split("=")[0]),(u===window.location.origin+"/"||u==="utum_source")&&(u=""),u=`/#/${u}`,window.location.replace(u),""):(u.indexOf("/#/")>=0&&(u=u.split("/#/")[1]),u.indexOf("?")>=0&&(u=u.split("?")[0]),u.indexOf("&")>=0&&(u=u.split("&")[0]),u.indexOf("=")>=0&&(u=u.split("=")[0]),(u===window.location.origin+"/"||u==="utum_source")&&(u=""),u)},[]),b=U.useCallback(()=>{try{const u=document.getElementById("selectLng");if(u){const x=u.value;M.resolvedLanguage!==x&&M.changeLanguage(x)}}catch(u){console.log("Language selection error:",u)}},[M]),m=U.useCallback(async(u=!1)=>{if(r.current)return console.log("Connection already in progress, skipping..."),!1;const x=oe();if(x.connected)return l.current&&await f(),!0;if(!x||x.readyState==="NotFound")return console.log("TronLink adapter not found"),!1;if(!a.conexion){r.current=!0,s(v=>({...v,conexion:!0}));try{if(await x.connect(),x.connected&&l.current)return await f(),!0}catch(v){console.log("Connection error:",v.toString()),!u&&l.current&&s(I=>({...I,msj:{title:"Wallet connection error",message:v.toString()}}))}finally{l.current&&(s(v=>({...v,conexion:!1})),r.current=!1)}}return x.connected},[a.conexion]),f=U.useCallback(async()=>{const u=oe();let x={...a.tronlink},v=a.accountAddress;if(u.readyState==="NotFound")return;u.address?(x.installed=!0,x.loggedIn=!0,x.viewer=!1,x.adapter=u,v=u.address):(x.viewer=!0,v=J);const I=document.getElementById("login");if(I)if(v!==J&&x.loggedIn){const D=v.substring(0,6)+"***"+v.substring(v.length-6);I.innerHTML=`<span class="btn gradient-btn" title="${ke(v)}">${ke(D)}</span>`}else{I.innerHTML='<span id="conectTL" class="btn btn-primary" style="cursor:pointer" title="Connect your wallet to perform transactions">Connect Wallet</span> <img src="images/TronLinkLogo.png" height="40px" alt="TronLink logo" />';const D=document.getElementById("conectTL");D&&(D.onclick=()=>m(!1))}if(l.current){const D=await L.getTronweb(v);s(E=>({...E,accountAddress:v,tronlink:x,tronWeb:D})),g(v)}},[a.tronlink,a.accountAddress,m]),g=U.useCallback(async u=>{if(!l.current)return;let x={...a.contrato},v=await L.getTronweb(u);try{x.BRUT===null&&_.BRUT!==""&&(x.BRUT=v.contract(re,_.BRUT)),x.USDT===null&&_.USDT!==""&&(x.USDT=v.contract(re,_.USDT),x.USDD=v.contract(re,_.USDD)),x.BRUT_USDT===null&&_.SC!==""&&(x.BRUT_USDT=v.contract(ft,_.SC)),x.BRST_TRX===null&&_.SC2!==""&&(v=await L.getTronweb(u),x.BRST_TRX=await v.contract().at(_.SC2)),x.BRST_TRX_Proxy===null&&_.ProxySC2!==""&&(x.Proxy=v.contract(fe,_.ProxySC2),x.BRST_TRX_Proxy=v.contract(xt,_.ProxySC2)),x.BRST_TRX_Proxy_fast===null&&_.ProxySC3!==""&&(x.Proxy_fast=v.contract(fe,_.ProxySC3),x.BRST_TRX_Proxy_fast=v.contract(gt,_.ProxySC3)),x.BRST===null&&_.BRST!==""&&(v=await L.getTronweb(u),x.BRST=v.contract(re,_.BRST)),x.BRGY===null&&_.BRGY!==""&&(v=await L.getTronweb(u),x.BRGY=await v.contract().at(_.BRGY)),x.MBOX===null&&_.SC3!==""&&(v=await L.getTronweb(u),x.MBOX=await v.contract().at(_.SC3)),x.BRLT===null&&_.BRLT!==""&&(v=await L.getTronweb(u,2),x.BRLT=await v.contract().at(_.BRLT)),x.loteria===null&&_.SC4!==""&&(x.ProxyLoteria=v.contract(fe,_.SC4),x.loteria=v.contract(wt,_.SC4)),x.ready=!0,l.current&&s(I=>({...I,contrato:x}))}catch(I){console.error("Error loading contracts:",I)}},[a.contrato]);U.useEffect(()=>(l.current=!0,(async()=>{const x=await L.getTronweb(J);if(!l.current)return;s(D=>({...D,tronWebReady:!0})),typeof document<"u"&&document.documentElement.setAttribute("data-theme-version",Ve),console.log("Loading contracts in viewer mode with default wallet..."),await g(J);const v=document.getElementById("login");if(v){v.innerHTML='<span id="conectTL" class="btn btn-primary" style="cursor:pointer" title="Connect your wallet to perform transactions">Connect Wallet</span><img src="images/TronLinkLogo.png" height="40px" alt="TronLink logo" />';const D=document.getElementById("conectTL");D&&(D.onclick=()=>m(!1))}const I=oe();I&&I.readyState!=="NotFound"&&!d.current&&x&&(d.current=!0,setTimeout(async()=>{l.current&&!I.connected&&(console.log("Attempting auto-connect..."),await m(!0)||console.log("Auto-connect failed, staying in viewer mode"))},3e3)),i.current=setInterval(()=>{if(!l.current)return;const D=h();if(s(E=>({...E,ruta:D})),b(),Date.now()>=n.current){n.current=Date.now()+60*1e3;const E=oe();E&&E.connected&&f()}},3e3)})(),()=>{l.current=!1,i.current&&clearInterval(i.current)}),[]);const N=()=>{const{tronlink:u,contrato:x,accountAddress:v,tronWeb:I,ruta:D}=a;if(!a.tronWebReady||!x.ready)return e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"row",style:{padding:"3em",decoration:"none"},children:e.jsxs("div",{className:"col-sm-8",children:[e.jsxs("h1",{children:[t("preLoad",{returnObjects:!0})?.[0]||"Loading",$t]}),e.jsx("p",{children:t("preLoad",{returnObjects:!0})?.[1]||"Please wait while we load the application..."}),u.viewer&&e.jsx("p",{style:{fontSize:"0.9em",opacity:.8,marginTop:"1em"},children:"Loading in viewer mode - Connect your wallet to perform transactions"})]})})})})})});const E={accountAddress:v,contrato:x,tronWeb:I,tronlink:u,isViewerMode:u.viewer&&v===J};switch(D){case"brut":return e.jsx(_t,{...E});case"brst":return e.jsx(Mt,{...E});case"brgy":return e.jsx(Pt,{...E});case"brlt":return e.jsx(Lt,{...E});case"rent":case"ebot":return e.jsxs(e.Fragment,{children:[e.jsx(Be,{title:"Brutus | Decentralized Energy & Bandwidth Rental Platform",description:"Brutus is a decentralized platform for renting energy and bandwidth on the Tron network. We offer a user-friendly interface and competitive prices for all your resource rental needs."}),e.jsx(Ae,{...E})]});case"pro":return e.jsx(Xt,{...E});case"api":return e.jsx(Vt,{...E});case"portfolio":case"wallet":return e.jsx(vt,{...E});default:return e.jsxs(e.Fragment,{children:[e.jsx(Be,{title:"Brutus | Decentralized Energy & Bandwidth Rental Platform",description:"Brutus is a decentralized platform for renting energy and bandwidth on the Tron network. We offer a user-friendly interface and competitive prices for all your resource rental needs."}),e.jsx(Ae,{...E})]})}},{ruta:w,msj:C}=a;return e.jsxs(e.Fragment,{children:[e.jsxs(Le,{children:[e.jsxs("title",{children:[w.length>1?w.toUpperCase()+" | ":"","Brutus.Finance"]}),e.jsx("meta",{property:"og:title",content:(w.length>1?w.toUpperCase()+" | ":"")+"Brutus.Finance"}),e.jsx("meta",{property:"og:description",content:"Alquila energia, haz staking de trx y obten los mejores rendimientos del mercado"}),e.jsx("meta",{property:"og:image",content:"/images/og/brutus-"+w+".jpg"}),e.jsx("meta",{property:"og:url",content:"/#/"+w})]}),N(),e.jsx(He,{...C}),e.jsxs("button",{id:"theme-switch",onClick:Gt,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:e.jsx("path",{d:"M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:e.jsx("path",{d:"M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"})})]})]})},Yt=G()(qt);at.use(st).use(nt).use(it).init({fallbackLng:"en",debug:!0,returnObjects:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/translation.json"}});window.Buffer||(window.Buffer=rt.Buffer);ot.createRoot(document.getElementById("root")).render(e.jsx(U.StrictMode,{children:e.jsx(lt,{children:e.jsx(Yt,{})})}));
